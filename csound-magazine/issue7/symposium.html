<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"><html><head>      <title>Csound Journal</title>  <link href="csoundJournal.css" rel="stylesheet" type="text/css"></head><body><div id="wrap"><div id="navigation"> CSOUND JOURNAL: <a href="../index.html">Home</a>|&nbsp;<a href="index.html">Issue 7</a> </div>  <div id="header"><h2>Csound at the Toronto Electroacoustic Symposium 2007</h2>   Jim Hearon  <br>j_hearon AT hotmail.com</div><div id="content"><h2>Introduction</h2><p>The Toronto Electroacoustic Symposium 2007 was held August 9 - 10, 2007 at the University of Toronto.  The Symposium Committee included Chair, David Ogborn (Canadian Electroacoustic Community), Dennis Patrick (University of Toronto), and Nadene Th&eacute;riault-Copeland (New Adventures in Sound Art).  The Symposium took place preceding the Sound Travels festival summer program on Toronto Island.  The whole Sound Travels event runs from July 1 - October 1, 2007.  Sound Travels composers-in-residence Barry Truax and Trevor Wishart were keynote speakers for the Toronto Electroacoustic Symposium, and Kevin Austin, from Concordia University, Montreal, who wrote the charter for the Canadian Electroacoustic Community in 1984, also gave introductory remarks on the Discipline of Electroacoustics.</p><h2>I. Symposium Overview</h2><p>Soundscapes, sound diffusion, and sound installations played a large role in papers and music presented at the symposium. Csound was included in several interesting presentations.  Hector Centeno's presentation <i>Open Source software and electroacoustic music creation: an overview and personal practices</i> utilized Csound as a sound generating application.  David Ogborn's <i>Programming As Artistic Practice: The 'Allegory' and 'Analogy' Environments</i> also dealt with utilizing the Csound API, and Akito Van Troyer and Jim Hearon's <i>Aspects of Sahnsi and Polos in Balinese Gamelan Instruments</i> featured analysis of gamelan instruments and a Csound composition.</p><p>In addition to the many interesting papers and presentations at the two day Symposium, the Sound Travels concerts on Toronto Island which took place immediately after the Symposium featured live diffusion of up to twelve channels of works by those in the Emerging Artist Residency who also worked with composers Barry Traux and Trevor Wishart.  In addition to several works by Traux and Wishart the concerts included a Toronto premiere of <i>Angel</i> by Trevor Wishart.  There was also a live collaboration, <i>Bamboo, Silk and Stone</i> (1994),  between Barry Traux and Randy Raine-Reusch.  Raine-Reusch specializes in improvisation utilizing world instruments, particularly Asian instruments.</p><p>Other activities for symposium participants included a SOUNDwalk and a chance to play on outdoor sculptures on Toronto Island, as well as an Open-mic concert hosted by angelusnovus.net and InterAccess at the InterAccess Media Arts Centre in Toronto. </p><div align="center"><img src="images/Toronto.jpg" width="480" height="360" alt="" border="0"></div><div align="center"><font size="2">(Toronto skyline from Toronto Island)</font></div><h2>II. More on Csound</h2><p>The proceedings of the Symposium are slated to be published in <i>eContact!</i>, a magazine devoted to electroacoustic music in Canada and worldwide.  See  <a href="http://cec.concordia.ca/econtact/">http://cec.concordia.ca/econtact/</a>, for information on electroacoustic music and details of all papers and presentations at the Symposium.  </p><p>Regarding more details on Csound,  Hector Centeno's presentation <i>Open Source software and electroacoustic music creation: an overview and personal practices</i> featured Linux open source software, including Steven Yi's <i>Blue</i> as a frontend to Csound.  In addition to <i>Blue</i>, Hector's open source software composing environment featured FLTK graphic widgets to control various parameters of Csound's streaming phase vocoder opcodes, and he utilized Jack patching controls with applications such as <i>Ardour</i> for multitracking.  In addition to the paper outlining the many benefits of open source applications, <i>What Is It?</i>, a soundscape composition by Hector Centeno, utilizing spectral processing instruments programmed with Csound, was also performed on the Sound Travels series with live sound diffusion by the composer.</p>For composing his piece <i>What is it?</i> Hector developed a realtime, phase vocoder analysis/transformation/synthesis instrument using Csound, including a graphic interface (Figures 1 and 2) and utilized the possibility of controlling parameters via MIDI controller. The instrument consisted of a collection of chained processes that included almost all the PVS Csound opcodes. In this instrument there were three simultaneous streaming sources of sound: two PVOC-EX analysis files (identified in the GUI as "A" and "B") and one stereo audio file (identified as "soundscape"). The PVOC-EX files used were standard fixed-overlap frequency/amplitude analysis files, produced by Csound's external utility, Pvanal. The source material for all of the sources, in this particular piece, came from semi-binaural soundscape recordings.<br><br><div align="center"><img src="images/Hector1.png" width="444" height="471" alt="" border="0"></div><div align="center"><font size="2">(Fig. 1. Hector Centeno GUI, main PVS transformation section)</font></div><br>The playback section of the instrument functioned as follows: the two PVOC-EX files were triggered by a MIDI keyboard and continued streaming for as long as a key was held. The point in time where the analysis file was started depended on the position of the start time for the audio file. An audio file could be started and stopped by using the two buttons on the GUI and could be looped at normal speed. If the sound file was stopped, the PVOC files started streaming from the beginning again. The sound file being played could be chosen from four predefined options accessible through the numbered buttons in the "soundscape" control section of the GUI (Figure 2).  <br><br>The speed at which the two PVOC files were streamed was set by two independent sliders in the GUI labeled "speed A", and "speed B". This allowed for time stretching, compression, and change of direction. An envelope could also be applied to the files using the two sets of sliders labeled "time path A" and "time path B". These sliders can be understood as if they were interpolated points in a breakpoint graphic function where the Y-axis represents the position in the analysis file, and the X-axis the total duration of the file (after being scaled by the speed parameter). The envelope could be re-triggered at each key press of the MIDI keyboard.<br><br>After the playback stage, the two PVOC streams passed through a series of 7 transformations: <br> 	-&nbsp;&nbsp;Overrideable pitch shifting according to the MIDI note pressed and a user defined scale, using 3 different modes of formant processing (selectable through the GUI). <br> 	-&nbsp;&nbsp;Variable gain.<br> 	-&nbsp;&nbsp;Variable levels of frequency masking (filtering). These levels were set by a group of 50 sliders (available in the section accessible by clicking the "Mask1" tab) representing the total frequency spectrum divided in 50 bands. <br> 	-&nbsp;&nbsp;Pitch modulation with variable depth and frequency. <br> 	-&nbsp;&nbsp;Variable smoothing (analysis channels frequency/amplitude averaging).<br> 	-&nbsp;&nbsp;Frequency and/or amplitude freezing.<br> 	-&nbsp;&nbsp;Variable cross-synthesis between both A and B by applying the amplitudes of A to the frequencies of B.<br><br>An envelope was applied to the cross-synthesis using the set of sliders named "cross AB envel" where the Y-axis represented PVOC stream A at the top, and stream B at the bottom.  The X-axis represented the total duration of the envelope. The duration was determined by the "speed" knob in the middle of the gui. The envelope was also triggered with each MIDI key press and sustained using the setting of the last slider if the note was sustained longer than the total duration. Any point inbetween A and B was a different level of cross-synthesis between the two streams.<br><br>After this chain of PVS processes, the resulting single PVOC stream (product of the cross-synthesis) was re-synthesized into an audio stream and then passed through a convolution processor, reverberation and a granular shuffler processor (Figure 2). This last unit received a stereo input and placed it into a delay line which was max delay in size. A delay line took in grains of various size  from  the random time positions from both channels utilizing a grain envelope determined by the envelope slider. The grains were spaced randomly using a value in the gap as the maximum gap size. The convolution section in the GUI allowed one to choose, in real-time, between five different impulse response files and also allowed the user to set the level of convolution. The reverb could be adjusted in its feedback amount, cut-off frequency, level of random delay variation, and amount of dry/wet mix. You can listen to <i>What is it?</i> by following this link: <a href="http://ea.hcenteno.net/listen.html ">http://ea.hcenteno.net/listen.html </a>.<br><br><div align="center"><img src="images/Hector2.png" width="220" height="393" alt="" border="0"></div><div align="center"><font size="2">(Fig. 2. Hector Centeno GUI, Reverb, shuffler and wave file playback functions)</font></div><p>David Ogborn, of the CEC (Canadian electroacoustic Community), Chair and organizer of the symposium, presented a paper <i>Programming As Artistic Practice:  The 'Allegory' and 'Analogy' Environments.</i>  The sourceforge.net description of the <i>Allegory</i> project  <a href="http://sourceforge.net/projects/allegory/">http://sourceforge.net/projects/allegory/</a>,     defines the software as a tool for electronic music which consists of a small library of Haskell definitions that can be used to create, explore, and refine developmental/variation relationships between diverse sound materials. <i>Allegory</i> employs Csound as synthesis engine and utilizes the Csound API, as well as Libsndfile to create sounds as sound files, storing them to disk.</p><p>One of the interesting modules in <i>Allegory</i> is "Montage" which is a mini-language used to describe montages of sounds.  There is a data type called "Montage" which represents an instruction in the "Montage" language, and there is also the function "montage" which takes a list of "Montage" instructions and returns the resulting sound.</p><p><font face="courier new, courier, mono"><font size="2">{-START-DOC<br>&lt;content title="module Montage"&gt;<br>&lt;p&gt;The module Montage is an (unofficial) example of using the modules Allegory, Sndfile and Csound to create mini-language to describe montages of sounds, i.e. successions, crossfades, overlaps of some number of sounds.  The resulting sound can have any number of channels, a parameter determined by the maximum number of channels in the "input" sounds.&lt;/p&gt; <br>END-DOC-}<br><br>module Montage where<br><br>import Allegory<br>import Csound<br>import Sndfile<br>import Hugs.Quote<br>import List<br><br>{-START-DOC<br>&lt;p&gt;From the "user's" standpoint, there are just two parts of the module that require attention.  The first of these is the datetype Montage.  Each 'Montage' represents an instruction in the Montage language.  These instructions are the next element in the code, below.  The second element to know is the function 'montage' which takes a list of Montage instructions and returns the resulting Sound (which can then be realized with the function 'make').&lt;/p&gt;<br>END-DOC-}<br><br>data Montage = Sound FilePath |<br>	       Crossfade Double | <br>	       Overlap Double |<br>               OverlapCrossfade Double Double |<br>	       InsertSilence Double |<br>               AlignLeft |<br>               AlignLeftPlus Double |<br>               MontageList [Montage] |<br>               Insert FilePath Double |<br>               SilenceThenFadeIn Double Double |<br>               ResetToZero |<br>               NoInstruction<br><br>montage :: [Montage] -> Sound<br>montage = (montageComposer) . (fst) . (foldl (montageInterpreter) ([],(0.0,0.0)))<br><br></font></font></p><div align="center">  (data type "Montage" by David Ogborn)</div>  <br>The following is an implementation of the data structure:<br><font face="courier new, courier, mono"><font size="1"><br>{-START-DOC<br>&lt;p&gt;The remaining code is simply implementation of the above.  The module's compact definition and implementation is something of an indication of the advantages of the functional programming paradigm.&lt;/p&gt;<br>END-DOC-}<br><br>type MontageElement = (FilePath,Double,Double,Double,Double)<br>{- path to sound, starttime, duration, attack, release -}	<br>  <br>setRelease :: Double -> MontageElement -> MontageElement<br>setRelease r (f,s,d,a,_) = (f,s,d,a,r)<br><br>getStart :: MontageElement -> Double<br>getStart (_,s,_,_,_) = s<br><br>type MontageComposition = [MontageElement]<br><br>setLastRelease :: Double -> MontageComposition -> MontageComposition<br>setLastRelease r c = (init c) ++ [setRelease r (last c)]<br><br>vtype MontageState = (MontageComposition,(Double,Double))<br>{- composition, time pointer, attack -}<br><br>montageInterpreter :: MontageState -> Montage -> MontageState<br>montageInterpreter (c,(tp,a)) (Sound s) 				= (c ++ [(s,tp,sfDuration s,a,0.0)],<br>                &nbsp;&nbsp;(tp+(sfDuration s),0.0))<br>montageInterpreter (c,(tp,a)) (Crossfade t)             = (setLastRelease t c, (tp-t,t))<br>montageInterpreter (c,(tp,a)) (Overlap t)               = (c, (tp-t,a))<br>montageInterpreter (c,(tp,a)) (OverlapCrossfade to tcf) = (setLastRelease tcf c, <br>&nbsp;&nbsp;(tp-to-tcf,tcf))<br>montageInterpreter (c,(tp,a)) (InsertSilence t)         = (c, (tp+t,a))<br>montageInterpreter (c,(tp,a)) (AlignLeft)               = (c, (getStart (last c),a))<br>montageInterpreter (c,(tp,a)) (AlignLeftPlus t)         = (c, ((getStart (last c))+t,a))<br>montageInterpreter state (MontageList xs)               = foldl (montageInterpreter) state xs <br>montageInterpreter (c,(tp,a)) (Insert s t)              = (c ++ [(s,t,sfDuration s,0.0,0.0)], tp,a))<br>montageInterpreter (c,(tp,a)) (SilenceThenFadeIn s t)   = (c,(tp+s,t))<br>montageInterpreter (c,(tp,a)) (ResetToZero)             = (c,(0.0,0.0))<br>montageInterpreter (c,(tp,a)) (NoInstruction)           = (c,(tp,a))<br><br>montageComposer :: MontageComposition -> Sound<br>montageComposer x = csound ((standardHeader nchnls) ++ orchestra ++ score)<br>  where nchnls = sfChannels (g (x!!0))<br>        g (f,_,_,_,_) = f<br>	inputs = listOfBuffers "ain" nchnls<br>        soundin = stringOfBuffers inputs<br>        out = "outc " ++ (concat (intersperse "," [i++"*aenv"|i<-inputs]))<br>	score = "\n<CsScore>\n" ++ (concat [i s d f a r | (f,s,d,a,r) <- x]) ++ &nbsp;&nbsp;"&lt;/CsScore&gt;\n&lt;/CsoundSynthesizer&gt;\n" <br>        i s d f 0.0 0.0 = "i1 "++(show s)++" "++(show d)++" \""++f++"\" \n"<br>        i s d f a 0.0   = "i2 "++(show s)++" "++(show d)++" \""++f++"\" "++(show a)++"\n"<br>        i s d f 0.0 r   = "i3 "++(show s)++" "++(show d)++" \""++f++"\" "++(show r)++"\n"<br>        i s d f a r     = "i4 "++(show s)++" "++(show d)++" \""++f++"\" "++(show a)++" "++(show<br> &nbsp;&nbsp;r)++"\n"<br>        orchestra = ``instr 1  <br>; no fadein or fadeout<br>aenv = 1.0 <br>&nbsp;&nbsp;          $(soundin) soundin p4<br>&nbsp;&nbsp;          $(out)<br>endin<br>instr 2<br>; fadein only<br>aedb linseg -120.0, p5, 0.0, p3-p5, -120.0<br>aenv = ampdb(aedb)<br>&nbsp;&nbsp;          $(soundin) soundin p4<br>&nbsp;&nbsp;          $(out)<br>endin<br>instr 3<br>; fadeout only<br>aedb linseg 0.0, p3-p5, 0.0, p5, -120.0<br>aenv = ampdb(aedb)<br>  &nbsp;&nbsp;         $(soundin) soundin p4<br> &nbsp;&nbsp;          $(out)<br>endin<br>instr 4<br>; fadein and fadeout<br>aedb linseg -120.0, p5, 0.0, p3-p5-p6, 0.0, p6, -120.0<br>aenv = ampdb(aedb)<br>  &nbsp;&nbsp;         $(soundin) soundin p4<br> &nbsp;&nbsp;          $(out)<br>endin<br>&lt;/CsInstruments&gt;''<br><br>{-START-DOC<br>&lt;/content&gt;<br>END-DOC-}</font></font><div align="center">(<i>Allegory</i>, "Montage" example code by David Ogborn)</div><p>The sourceforge.net description of the <i>Analogy</i> project  <a href="http://sourceforge.net/projects/analogy">http://sourceforge.net/projects/analogy</a>,describe this software as a scene-based environment for the creation and performance of live electronics pieces, using Csound patches, VST plugins and an assortment of native DSP and GUI elements. Thus while <i>Allegory</i> is for storing sound files to disc, <i>Analogy</i> if for use in realtime.  It requires several external .dlls such as portmidi (pm_dll.dll), libxml2.dll, zlib1.dll, and iconv.dll, as well as csound32.dll.  Since Haskell definitions are format sensitive, you can download the formatted example of David Ogborn's Haskell definition code here: <a href="Montage.zip">Montage.zip</a></p><p><i>Aspects of Sahnsi and Polos in Balinese Gamelan Instruments</i> was a paper by Akito Van Troyer and Jim Hearon which described a project to sample, analyze, and create a composition of computer music simulating the gamelan instruments Kemong, Kempli, Jegogan, Gong, Calung, Gangsa, and Reyong.  Central to the project was analyzing  pitch frequencies, and simulating the harmonic beating which takes place between the male and female of several instruments.</p><p>A Csound composition was played which employed spectral analysis data of gamelan instruments to synthesize the basic sound of the instruments using additive synthesis in Csound by summing instances of the oscili opcode.  Pitch offsets were employed to simulate the harmonic beating of the gamelan instruments.</p><p>It was interesting in Van Troyer's compositional design that rhythms were generated as samples employing f-tables.  Table 162, for example, which contains zeros and ones, is read by a phasor.  When the phasor encounters a '1', a note is triggered.  The speed of the phasor and the number of zeros between the ones determines a micro-rhythm which is repeated as one of the basic rhythmic cells during a formal section of the piece.</p><font face="courier new" size="2">gitmap162 ftgen 162, 0, 32, -2, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0</font><br><br><div align="center">(example from Van Troyer's <i>Gamelan_Study1</i>)</div><p>The duration of formal sections, in which different instruments are sounding, or changing tempos, or amplitude over the duration of that section is determined by a hierarchical system of sequencing f-tables.  In other words, f-tables call f-tables, which call f-tables which contain values.  There are over 600 f-tables employed in the piece.  Global control of the tempo of the formal sections of the piece is determined by the linseg opcode which sends terraced envelope step values to instruments which also contain phasors.  The speed of the phasors in several instruments, each representing a different gamelan instrument, is controlled globally in that manner.  Dynamics are also controlled globally through a k-rate value used as the amplitude input values for the oscili opcodes.You can download an mp3 of Van Troyer's <i>Gamelan_Study1</i> here: <a href="Gamelan_Study1.zip">Gamelan_Study1.zip</a></p><h2>III. Conclusion</h2><p>Csound is a very useful sound synthesis application, and is very practical as open source software.  The spectral processing capability, compositional features of the algol-like orchestra and score language, and aspects of the API were much in evidence at the Toronto Electroacoustic Symposium 2007.</p><div align="center"><img src="images/SoundTravels.jpg" width="480" height="360" alt="" border="0"></div><div align="center"><font size="2">(St. Andrews by the Lake Church, Toronto Island)</font></div><h2>Further Interest</h2><p>THE AUDIOBOX<sup>TM</sup> sound diffusion system, <a href="http://www.richmondsounddesign.com">http://www.richmondsounddesign.com</a></p><p>Canadian Electroacoustic Community, <a href="http://cec.concordia.ca">http://cec.concordia.ca.ca</a>, for information on membership, publications and projects.</p><p>HaskellWiki. <a href="http://www.haskell.org/haskellwiki/Definition">http://www.haskell.org/haskellwiki/Definition</a> (18 August 2007)</p><p>New Adventures in Sound Art, <a href="http://www.naisa.ca">http://www.naisa.ca</a>, for information on the Sound Travels Emerging Artist Residency and the Sound Travels Festival of Sound Art.</p><p>Remus, Bill.  "Notes On Playing Gamelan Bali: Gong Kebyar Style". April 5, 1996. <a href="http://remus.shidler.hawaii.edu/gamelan/balinota.htm"> http://remus.shidler.hawaii.edu/gamelan/balinota.htm</a> (1 August 2007)</p><p>Southworth, Christine N."Statistical Analysis of Tunings and Acoustical Beating Rates in Balinese Gamelans".  June, 2001.  <a href="http://www.kotekan.com/thesis.html">www.kotekan.com/thesis.html</a>&nbsp. (12 June 2007)  </p><p>Traux, Barry.  <i>Acoustic Communication</i>, 2nd. ed.  Ablex Publishing, 88 Post Road West, Westport, CT 06881. 2001.  <a href="http://www.sfu.ca/~truax/ac.html">http://www.sfu.ca/~truax/ac.html</a></p><p>Wishart, Trevor. <i>Audible Design: A Plain and Easy Introduction to Practical Sound Design</i>.  York: Orpheus and Pantomime Ltd. 1994.</p><p>Wishart, Trevor.  <i>On Sonic Art</i>--New and Rev. ed. -- (Contemporary music studies; V. 12). Overseas Publishers Association, Emmaplein 5, 1075 AW Amsterdam, The Netherlands. 1996.</p></div></div></body></html>