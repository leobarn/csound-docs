<HTML><HEAD><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1"><META NAME="Generator" CONTENT="Microsoft Word 97/98"><TITLE>30_Modeling a Multi-Effects Processor in Csound (figures).</TITLE></HEAD><BODY><DIR><DIR><B><FONT SIZE=5><P>30&#9;Modeling a Multi-Effects Processor in Csound (figures)</P></B></FONT></DIR></DIR><B><FONT SIZE=5><P>Hans Mikelson</P></B></FONT><TABLE CELLSPACING=0 BORDER=0 CELLPADDING=5 WIDTH=478><TR><TD WIDTH="11%" VALIGN="TOP">&nbsp;</TD><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">instr</FONT></TD><TD WIDTH="17%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">3099</FONT></TD><TD WIDTH="60%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">; zak-based mixer</FONT></TD></TR><TR><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">asig1</FONT></TD><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">zar</FONT></TD><TD WIDTH="33%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">p4</FONT></TD><TD WIDTH="44%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">; p4  = ch1 in</FONT></TD></TR><TR><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">igl1</FONT></TD><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">init</FONT></TD><TD WIDTH="33%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">p5*p6</FONT></TD><TD WIDTH="44%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">; p5  = ch1 gain</FONT></TD></TR><TR><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">igr1</FONT></TD><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">init</FONT></TD><TD WIDTH="33%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">p5*(1-p6)</FONT></TD><TD WIDTH="44%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">; p6  = ch1 pan</FONT></TD></TR><TR><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">asig2</FONT></TD><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">zar</FONT></TD><TD WIDTH="33%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">p7</FONT></TD><TD WIDTH="44%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">; p7  = ch2 in</FONT></TD></TR><TR><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">igl2</FONT></TD><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">init</FONT></TD><TD WIDTH="33%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">p8*p9</FONT></TD><TD WIDTH="44%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">; p8  = ch2 gain</FONT></TD></TR><TR><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">igr2</FONT></TD><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">init</FONT></TD><TD WIDTH="33%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">p8*(1-p9)</FONT></TD><TD WIDTH="44%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">; p9  = ch2 pan</FONT></TD></TR><TR><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">asig3</FONT></TD><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">zar</FONT></TD><TD WIDTH="33%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">p10</FONT></TD><TD WIDTH="44%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">; p10 = ch3 in</FONT></TD></TR><TR><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">igl3</FONT></TD><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">init</FONT></TD><TD WIDTH="33%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">p11*p12</FONT></TD><TD WIDTH="44%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">; p11 = ch3 gain</FONT></TD></TR><TR><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">igr3</FONT></TD><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">init</FONT></TD><TD WIDTH="33%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">p11*(1-p12)</FONT></TD><TD WIDTH="44%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">; p12 = ch3 pan</FONT></TD></TR><TR><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">asig4</FONT></TD><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">zar</FONT></TD><TD WIDTH="33%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">p13</FONT></TD><TD WIDTH="44%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">; p13 = ch4 in</FONT></TD></TR><TR><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">igl4</FONT></TD><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">init</FONT></TD><TD WIDTH="33%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">p14*p15</FONT></TD><TD WIDTH="44%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">; p14 = ch4 gain</FONT></TD></TR><TR><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">igr4</FONT></TD><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">init</FONT></TD><TD WIDTH="33%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">p14*(1-p15)</FONT></TD><TD WIDTH="44%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">; p15 = ch4 pan</FONT></TD></TR><TR><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">asigl</FONT></TD><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">=</FONT></TD><TD WIDTH="77%" VALIGN="TOP" COLSPAN=3><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">asig1*igl1+asig2*igl2+asig3*igl3+asig4*igl4</FONT></TD></TR><TR><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">asigr</FONT></TD><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">=</FONT></TD><TD WIDTH="77%" VALIGN="TOP" COLSPAN=3><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">asig1*igr1+asig2*igr2+asig3*igr3+asig4*igr4</FONT></TD></TR><TR><TD WIDTH="11%" VALIGN="TOP">&nbsp;</TD><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">outs</FONT></TD><TD WIDTH="77%" VALIGN="TOP" COLSPAN=3><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">asigl, asigr</FONT></TD></TR><TR><TD WIDTH="11%" VALIGN="TOP">&nbsp;</TD><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">zacl</FONT></TD><TD WIDTH="77%" VALIGN="TOP" COLSPAN=3><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">0, 30</FONT></TD></TR><TR><TD WIDTH="11%" VALIGN="TOP">&nbsp;</TD><TD WIDTH="89%" VALIGN="TOP" COLSPAN=4><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">endin</FONT></TD></TR></TABLE><B><FONT FACE="Geneva" SIZE=1><P>Figure 30.1</B> Orchestra code for <I>instr 3099, </I>a stereo <B>zak</B>-based mixer with four input audio channels.</P></FONT><P>&nbsp;</P><P>&nbsp;</P><FONT FACE="Times"><P><IMG SRC="Image1.gif" WIDTH=197 HEIGHT=85></P></FONT><B><FONT FACE="Geneva" SIZE=1><P>Figure 30.2</B> Block diagram of compressor/limiter.</P></FONT><FONT FACE="Geneva" SIZE=1><P>&nbsp;</P></FONT><P>&nbsp;</P><TABLE CELLSPACING=0 BORDER=0 CELLPADDING=5 WIDTH=482><TR><TD WIDTH="14%" VALIGN="TOP">&nbsp;</TD><TD WIDTH="10%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">instr</FONT></TD><TD WIDTH="16%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>3011</FONT></TD><TD WIDTH="60%" VALIGN="TOP" COLSPAN=3><FONT FACE="Courier New" SIZE=2><P>; compressor/limiter</FONT></TD></TR><TR><TD WIDTH="14%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">ifqc</FONT></TD><TD WIDTH="10%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">=</FONT></TD><TD WIDTH="30%" VALIGN="TOP" COLSPAN=4><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">1/p4</FONT></TD><TD WIDTH="46%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>; RMS calculation frequency</FONT></TD></TR><TR><TD WIDTH="14%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">ideltm</FONT></TD><TD WIDTH="10%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">=</FONT></TD><TD WIDTH="7%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">p5</FONT></TD><TD WIDTH="69%" VALIGN="TOP" COLSPAN=4><FONT FACE="Courier New" SIZE=2><P>; Delay time to apply compression to initial dynamics</FONT></TD></TR><TR><TD WIDTH="14%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">itab</FONT></TD><TD WIDTH="10%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">=</FONT></TD><TD WIDTH="30%" VALIGN="TOP" COLSPAN=4><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">p6</FONT></TD><TD WIDTH="46%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>; Compressor/limiter table</FONT></TD></TR><TR><TD WIDTH="14%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">ipostgain</FONT></TD><TD WIDTH="10%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">=</FONT></TD><TD WIDTH="30%" VALIGN="TOP" COLSPAN=4><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">p7</FONT></TD><TD WIDTH="46%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>; Post gain</FONT></TD></TR><TR><TD WIDTH="14%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">iinch</FONT></TD><TD WIDTH="10%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">=</FONT></TD><TD WIDTH="30%" VALIGN="TOP" COLSPAN=4><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">p8</FONT></TD><TD WIDTH="46%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>; Input Channel</FONT></TD></TR><TR><TD WIDTH="14%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">ioutch</FONT></TD><TD WIDTH="10%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">=</FONT></TD><TD WIDTH="30%" VALIGN="TOP" COLSPAN=4><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">p9</FONT></TD><TD WIDTH="46%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>; Output Channel</FONT></TD></TR><TR><TD WIDTH="14%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">kenv</FONT></TD><TD WIDTH="10%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">linseg</FONT></TD><TD WIDTH="30%" VALIGN="TOP" COLSPAN=4><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">0,.02,1,p3-.04,1,.02,0</FONT></TD><TD WIDTH="46%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>; Amp envelope to declick</FONT></TD></TR><TR><TD WIDTH="14%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">asig</FONT></TD><TD WIDTH="10%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">zar</FONT></TD><TD WIDTH="30%" VALIGN="TOP" COLSPAN=4><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">iinch</FONT></TD><TD WIDTH="46%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>; Read input channel</FONT></TD></TR><TR><TD WIDTH="14%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">kamp</FONT></TD><TD WIDTH="10%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">rms</FONT></TD><TD WIDTH="30%" VALIGN="TOP" COLSPAN=4><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">asig, ifqc</FONT></TD><TD WIDTH="46%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>; Find RMS level</FONT></TD></TR><TR><TD WIDTH="14%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">kampn</FONT></TD><TD WIDTH="10%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">=</FONT></TD><TD WIDTH="30%" VALIGN="TOP" COLSPAN=4><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">kamp/30000</FONT></TD><TD WIDTH="46%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>; Normalize RMS level 0-1.</FONT></TD></TR><TR><TD WIDTH="14%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">kcomp</FONT></TD><TD WIDTH="10%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">tablei</FONT></TD><TD WIDTH="30%" VALIGN="TOP" COLSPAN=4><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">kampn, itab, 1, 0</FONT></TD><TD WIDTH="46%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>; Lookup compress value in table</FONT></TD></TR><TR><TD WIDTH="14%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">adel1</FONT></TD><TD WIDTH="10%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">delayr</FONT></TD><TD WIDTH="30%" VALIGN="TOP" COLSPAN=4><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">ideltm</FONT></TD><TD WIDTH="46%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>; Inputdelaytime,1/ifqc/2 typical</FONT></TD></TR><TR><TD WIDTH="14%" VALIGN="TOP">&nbsp;</TD><TD WIDTH="10%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">delayw</FONT></TD><TD WIDTH="30%" VALIGN="TOP" COLSPAN=4><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">asig</FONT></TD><TD WIDTH="46%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>; Write to delay line</FONT></TD></TR><TR><TD WIDTH="14%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">acomp</FONT></TD><TD WIDTH="10%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">=</FONT></TD><TD WIDTH="29%" VALIGN="TOP" COLSPAN=3><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">kcomp*adel1*ipostgain</FONT></TD><TD WIDTH="47%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>; Compress delayed sig and postgain</FONT></TD></TR><TR><TD WIDTH="14%" VALIGN="TOP">&nbsp;</TD><TD WIDTH="10%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">zaw</FONT></TD><TD WIDTH="30%" VALIGN="TOP" COLSPAN=4><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">acomp*kenv, ioutch</FONT></TD><TD WIDTH="46%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>; declick and write to output chan</FONT></TD></TR><TR><TD WIDTH="14%" VALIGN="TOP">&nbsp;</TD><TD WIDTH="86%" VALIGN="TOP" COLSPAN=6><FONT FACE="Courier New" SIZE=2><P>endin</FONT></TD></TR></TABLE><B><FONT FACE="Geneva" SIZE=1><P>Figure 30.3</B> Orchestra code excerpt from <I>instr 3011</I>, a compressor/limiter.</P></FONT><FONT FACE="Geneva" SIZE=1><P>&nbsp;</P></FONT><P>&nbsp;</P><FONT FACE="Times"><P><IMG SRC="Image2.gif" WIDTH=239 HEIGHT=103></P></FONT><B><FONT FACE="Geneva" SIZE=1><P>Figure 30.4</B> Block diagram of a noise gate.</P></FONT><FONT FACE="Geneva" SIZE=1><P>&nbsp;</P></FONT><P>&nbsp;</P><TABLE CELLSPACING=0 BORDER=0 CELLPADDING=5 WIDTH=482><TR><TD WIDTH="14%" VALIGN="TOP">&nbsp;</TD><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>instr</FONT></TD><TD WIDTH="15%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>3010</FONT></TD><TD WIDTH="60%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>; noise gate</FONT></TD></TR><TR><TD WIDTH="14%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>ifqc</FONT></TD><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>=</FONT></TD><TD WIDTH="30%" VALIGN="TOP" COLSPAN=3><FONT FACE="Courier New" SIZE=2><P>1/p4</FONT></TD><TD WIDTH="45%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>; RMS calculation frequency</FONT></TD></TR><TR><TD WIDTH="14%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>ideltm</FONT></TD><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>=</FONT></TD><TD WIDTH="7%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>p5</FONT></TD><TD WIDTH="67%" VALIGN="TOP" COLSPAN=3><FONT FACE="Courier New" SIZE=2><P>; Delay time to open gate just before signal start</FONT></TD></TR><TR><TD WIDTH="14%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>itab</FONT></TD><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>=</FONT></TD><TD WIDTH="30%" VALIGN="TOP" COLSPAN=3><FONT FACE="Courier New" SIZE=2><P>p6</FONT></TD><TD WIDTH="45%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>; Noise gate table</FONT></TD></TR><TR><TD WIDTH="14%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>ipostgain</FONT></TD><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>=</FONT></TD><TD WIDTH="30%" VALIGN="TOP" COLSPAN=3><FONT FACE="Courier New" SIZE=2><P>p7</FONT></TD><TD WIDTH="45%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>; Post gain</FONT></TD></TR><TR><TD WIDTH="14%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>iinch</FONT></TD><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>=</FONT></TD><TD WIDTH="30%" VALIGN="TOP" COLSPAN=3><FONT FACE="Courier New" SIZE=2><P>p8</FONT></TD><TD WIDTH="45%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>; Input channel</FONT></TD></TR><TR><TD WIDTH="14%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>ioutch</FONT></TD><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>=</FONT></TD><TD WIDTH="30%" VALIGN="TOP" COLSPAN=3><FONT FACE="Courier New" SIZE=2><P>p9</FONT></TD><TD WIDTH="45%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>; Output channel</FONT></TD></TR><TR><TD WIDTH="14%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>kenv</FONT></TD><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>linseg</FONT></TD><TD WIDTH="30%" VALIGN="TOP" COLSPAN=3><FONT FACE="Courier New" SIZE=2><P>0,.02,1,p3-.04,1,.02,0</FONT></TD><TD WIDTH="45%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>; Declick envelope</FONT></TD></TR><TR><TD WIDTH="14%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>asig</FONT></TD><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>zar</FONT></TD><TD WIDTH="30%" VALIGN="TOP" COLSPAN=3><FONT FACE="Courier New" SIZE=2><P>iinch</FONT></TD><TD WIDTH="45%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>; Read from input channel</FONT></TD></TR><TR><TD WIDTH="14%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>adel1</FONT></TD><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>delayr</FONT></TD><TD WIDTH="30%" VALIGN="TOP" COLSPAN=3><FONT FACE="Courier New" SIZE=2><P>ideltm</FONT></TD><TD WIDTH="45%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>; Delay the signal</FONT></TD></TR><TR><TD WIDTH="14%" VALIGN="TOP">&nbsp;</TD><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>delayw</FONT></TD><TD WIDTH="75%" VALIGN="TOP" COLSPAN=4><FONT FACE="Courier New" SIZE=2><P>asig</FONT></TD></TR><TR><TD WIDTH="14%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>kamp</FONT></TD><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>rms</FONT></TD><TD WIDTH="30%" VALIGN="TOP" COLSPAN=3><FONT FACE="Courier New" SIZE=2><P>adel1, ifqc</FONT></TD><TD WIDTH="45%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>; Calculate RMS on delayed signal</FONT></TD></TR><TR><TD WIDTH="14%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>kampn</FONT></TD><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>=</FONT></TD><TD WIDTH="30%" VALIGN="TOP" COLSPAN=3><FONT FACE="Courier New" SIZE=2><P>kamp/30000</FONT></TD><TD WIDTH="45%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>; Normalize to 0-1</FONT></TD></TR><TR><TD WIDTH="14%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>kcomp</FONT></TD><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>tablei</FONT></TD><TD WIDTH="30%" VALIGN="TOP" COLSPAN=3><FONT FACE="Courier New" SIZE=2><P>kampn, itab, 1, 0</FONT></TD><TD WIDTH="45%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>; Reference the noise gate table</FONT></TD></TR><TR><TD WIDTH="14%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>acomp</FONT></TD><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>=</FONT></TD><TD WIDTH="30%" VALIGN="TOP" COLSPAN=3><FONT FACE="Courier New" SIZE=2><P>kcomp*asig*ipostgain</FONT></TD><TD WIDTH="45%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>; Apply noisegate to orig signal</FONT></TD></TR><TR><TD WIDTH="14%" VALIGN="TOP">&nbsp;</TD><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>zaw</FONT></TD><TD WIDTH="30%" VALIGN="TOP" COLSPAN=3><FONT FACE="Courier New" SIZE=2><P>acomp*kenv, ioutch</FONT></TD><TD WIDTH="45%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>; Declick and write to output chan </FONT></TD></TR><TR><TD WIDTH="14%" VALIGN="TOP">&nbsp;</TD><TD WIDTH="86%" VALIGN="TOP" COLSPAN=5><FONT FACE="Courier New" SIZE=2><P>endin</FONT></TD></TR></TABLE><B><FONT FACE="Geneva" SIZE=1><P>Figure 30.5</B> Orchestra code for <I>instr 3010</I>, a noise gate.</P></FONT><FONT FACE="Times"><P>&nbsp;</P></FONT><P>&nbsp;</P><FONT FACE="Times"><P><IMG SRC="Image3.gif" WIDTH=276 HEIGHT=67></P></FONT><B><FONT FACE="Geneva" SIZE=1><P>Figure 30.6</B> Block diagram of a de-esser.</P></FONT><FONT FACE="Times"><P>&nbsp;</P></FONT><P>&nbsp;</P><TABLE CELLSPACING=0 BORDER=0 CELLPADDING=5 WIDTH=482><TR><TD WIDTH="14%" VALIGN="TOP">&nbsp;</TD><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>instr</FONT></TD><TD WIDTH="15%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>3012</FONT></TD><TD WIDTH="58%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>; de-esser</FONT></TD></TR><TR><TD WIDTH="14%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>ifqc</FONT></TD><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>=</FONT></TD><TD WIDTH="30%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>1/p4</FONT></TD><TD WIDTH="43%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>; RMS calculation frequency</FONT></TD></TR><TR><TD WIDTH="14%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>ideltm</FONT></TD><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>=</FONT></TD><TD WIDTH="30%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>p5</FONT></TD><TD WIDTH="43%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>; Delay time is usually 1/fqc/2</FONT></TD></TR><TR><TD WIDTH="14%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>itab</FONT></TD><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>=</FONT></TD><TD WIDTH="30%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>p6</FONT></TD><TD WIDTH="43%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>; De-Ess table</FONT></TD></TR><TR><TD WIDTH="14%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>ifco</FONT></TD><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>=</FONT></TD><TD WIDTH="30%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>p7</FONT></TD><TD WIDTH="43%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>; Cut off frequency</FONT></TD></TR><TR><TD WIDTH="14%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>ipostgain</FONT></TD><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>=</FONT></TD><TD WIDTH="30%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>p8</FONT></TD><TD WIDTH="43%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>; Post gain</FONT></TD></TR><TR><TD WIDTH="14%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>iinch</FONT></TD><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>=</FONT></TD><TD WIDTH="30%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>p9</FONT></TD><TD WIDTH="43%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>; Input channel</FONT></TD></TR><TR><TD WIDTH="14%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>ioutch</FONT></TD><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>=</FONT></TD><TD WIDTH="30%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>p10</FONT></TD><TD WIDTH="43%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>; Output channel</FONT></TD></TR><TR><TD WIDTH="14%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>kenv</FONT></TD><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>linseg</FONT></TD><TD WIDTH="30%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>0,.02,1,p3-.04,1,.02,0</FONT></TD><TD WIDTH="43%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>; Declick envelope</FONT></TD></TR><TR><TD WIDTH="14%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>asig</FONT></TD><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>zar</FONT></TD><TD WIDTH="30%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>iinch</FONT></TD><TD WIDTH="43%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>; Read input channel</FONT></TD></TR><TR><TD WIDTH="14%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>afilt</FONT></TD><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>butterhp</FONT></TD><TD WIDTH="30%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>asig, ifco</FONT></TD><TD WIDTH="43%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>; Highpass filter the signal</FONT></TD></TR><TR><TD WIDTH="14%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>kamp</FONT></TD><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>rms</FONT></TD><TD WIDTH="30%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>afilt, ifqc</FONT></TD><TD WIDTH="43%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>; Calculate rms on highpass sig</FONT></TD></TR><TR><TD WIDTH="14%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>kampn</FONT></TD><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>=</FONT></TD><TD WIDTH="30%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>kamp/30000</FONT></TD><TD WIDTH="43%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>; Normalize rms 0-1</FONT></TD></TR><TR><TD WIDTH="14%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>kcomp</FONT></TD><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>tablei</FONT></TD><TD WIDTH="30%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>kampn, itab, 1, 0</FONT></TD><TD WIDTH="43%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>; Lookup de-esser value in table</FONT></TD></TR><TR><TD WIDTH="14%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>adel1</FONT></TD><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>delayr</FONT></TD><TD WIDTH="30%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>ideltm</FONT></TD><TD WIDTH="43%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>; Delay signal for delay time</FONT></TD></TR><TR><TD WIDTH="14%" VALIGN="TOP">&nbsp;</TD><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>delayw</FONT></TD><TD WIDTH="73%" VALIGN="TOP" COLSPAN=3><FONT FACE="Courier New" SIZE=2><P>asig</FONT></TD></TR><TR><TD WIDTH="14%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>acomp</FONT></TD><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>=</FONT></TD><TD WIDTH="30%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>kcomp*adel1*ipostgain</FONT></TD><TD WIDTH="43%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>; Apply de-ess and post gain</FONT></TD></TR><TR><TD WIDTH="14%" VALIGN="TOP">&nbsp;</TD><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>zaw</FONT></TD><TD WIDTH="30%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>acomp*kenv, ioutch</FONT></TD><TD WIDTH="43%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>; Declick and write to out chan</FONT></TD></TR><TR><TD WIDTH="14%" VALIGN="TOP">&nbsp;</TD><TD WIDTH="86%" VALIGN="TOP" COLSPAN=4><FONT FACE="Courier New" SIZE=2><P>endin</FONT></TD></TR></TABLE><B><FONT FACE="Geneva" SIZE=1><P>Figure 30.7</B> Orchestra code for <I>instr 3012</I>, a de-esser.</P></FONT><FONT FACE="Palatino" SIZE=2><P>&nbsp;</P></FONT><P>&nbsp;</P><FONT FACE="Times"><P><IMG SRC="Image4.gif" WIDTH=224 HEIGHT=183></P></FONT><B><FONT FACE="Geneva" SIZE=1><P>Figure 30.8</B> Waveform of a sine wave passed through a tube amplifier.</P></FONT><FONT FACE="Palatino" SIZE=2><P>&nbsp;</P></FONT><P>&nbsp;</P><FONT FACE="Times"><P><IMG SRC="Image5.gif" WIDTH=239 HEIGHT=166></P></FONT><B><FONT FACE="Geneva" SIZE=1><P>Figure 30.9</B> Block diagram of distortion processor.</P></FONT><FONT FACE="Palatino" SIZE=2><P>&nbsp;</P></FONT><P>&nbsp;</P><TABLE CELLSPACING=0 BORDER=0 CELLPADDING=5 WIDTH=478><TR><TD WIDTH="12%" VALIGN="TOP">&nbsp;</TD><TD WIDTH="12%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">instr</FONT></TD><TD WIDTH="16%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">3013</FONT></TD><TD WIDTH="59%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">; distortion</FONT></TD></TR><TR><TD WIDTH="12%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">igaini</FONT></TD><TD WIDTH="12%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">=</FONT></TD><TD WIDTH="34%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">p4</FONT></TD><TD WIDTH="42%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">; Pre gain</FONT></TD></TR><TR><TD WIDTH="12%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">igainf</FONT></TD><TD WIDTH="12%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">=</FONT></TD><TD WIDTH="34%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">p5</FONT></TD><TD WIDTH="42%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">; Post gain</FONT></TD></TR><TR><TD WIDTH="12%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">iduty</FONT></TD><TD WIDTH="12%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">=</FONT></TD><TD WIDTH="34%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">p6</FONT></TD><TD WIDTH="42%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">; Duty cycle offset</FONT></TD></TR><TR><TD WIDTH="12%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">islope</FONT></TD><TD WIDTH="12%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">=</FONT></TD><TD WIDTH="34%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">p7</FONT></TD><TD WIDTH="42%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">; Slope offset</FONT></TD></TR><TR><TD WIDTH="12%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">izin</FONT></TD><TD WIDTH="12%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">=</FONT></TD><TD WIDTH="34%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">p8</FONT></TD><TD WIDTH="42%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">; Input channel</FONT></TD></TR><TR><TD WIDTH="12%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">izout</FONT></TD><TD WIDTH="12%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">=</FONT></TD><TD WIDTH="34%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">p9</FONT></TD><TD WIDTH="42%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">; Output channel</FONT></TD></TR><TR><TD WIDTH="12%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">asign</FONT></TD><TD WIDTH="12%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">init</FONT></TD><TD WIDTH="34%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">0</FONT></TD><TD WIDTH="42%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">; Delayed signal</FONT></TD></TR><TR><TD WIDTH="12%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">kamp</FONT></TD><TD WIDTH="12%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">linseg</FONT></TD><TD WIDTH="34%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">0,.002,1,p3-.004,1,.002,0</FONT></TD><TD WIDTH="42%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">; Declick</FONT></TD></TR><TR><TD WIDTH="12%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">asig</FONT></TD><TD WIDTH="12%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">zar</FONT></TD><TD WIDTH="34%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">izin</FONT></TD><TD WIDTH="42%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">; Read input channel</FONT></TD></TR><TR><TD WIDTH="12%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">aold</FONT></TD><TD WIDTH="12%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">=</FONT></TD><TD WIDTH="34%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">asign</FONT></TD><TD WIDTH="42%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">; Save the last signal</FONT></TD></TR><TR><TD WIDTH="12%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">asign</FONT></TD><TD WIDTH="12%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">=</FONT></TD><TD WIDTH="34%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">igaini*asig/60000</FONT></TD><TD WIDTH="42%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">; Normalize the signal</FONT></TD></TR><TR><TD WIDTH="12%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">aclip</FONT></TD><TD WIDTH="12%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">tablei</FONT></TD><TD WIDTH="34%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">asign, 5, 1, .5</FONT></TD><TD WIDTH="42%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">; Read the waveshaping table</FONT></TD></TR><TR><TD WIDTH="12%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">aclip</FONT></TD><TD WIDTH="12%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">=</FONT></TD><TD WIDTH="34%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">igainf*aclip*15000</FONT></TD><TD WIDTH="42%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">; Re-amplify the signal</FONT></TD></TR><TR><TD WIDTH="12%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">atemp</FONT></TD><TD WIDTH="12%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">delayr</FONT></TD><TD WIDTH="34%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">.1</FONT></TD><TD WIDTH="42%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">; Amp and slope based delay</FONT></TD></TR><TR><TD WIDTH="12%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">aout</FONT></TD><TD WIDTH="12%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">deltapi</FONT></TD><TD WIDTH="75%" VALIGN="TOP" COLSPAN=3><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">(2-iduty*asign)/1500+islope*(asign-aold)/300</FONT></TD></TR><TR><TD WIDTH="12%" VALIGN="TOP">&nbsp;</TD><TD WIDTH="12%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">delayw</FONT></TD><TD WIDTH="75%" VALIGN="TOP" COLSPAN=3><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">aclip</FONT></TD></TR><TR><TD WIDTH="12%" VALIGN="TOP">&nbsp;</TD><TD WIDTH="12%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">zaw</FONT></TD><TD WIDTH="34%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">aout, izout</FONT></TD><TD WIDTH="42%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">; Write to output channel</FONT></TD></TR><TR><TD WIDTH="12%" VALIGN="TOP">&nbsp;</TD><TD WIDTH="88%" VALIGN="TOP" COLSPAN=4><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">endin</FONT></TD></TR></TABLE><B><FONT FACE="Geneva" SIZE=1><P>Figure 30.10</B> Orchestra code for <I>instr 3013</I>, a &quot;tube-amp&quot; distortion processor as shown in figure 30.9.</P></FONT><FONT FACE="Palatino" SIZE=2><P>&nbsp;</P></FONT><P>&nbsp;</P><FONT FACE="Times"><P><IMG SRC="Image6.gif" WIDTH=214 HEIGHT=89></P></FONT><B><FONT FACE="Geneva" SIZE=1><P>Figure 30.11</B> Block diagram of a 3-band equalizer.</P></FONT><FONT FACE="Palatino" SIZE=2><P>&nbsp;</P></FONT><P>&nbsp;</P><TABLE CELLSPACING=0 BORDER=0 CELLPADDING=5 WIDTH=482><TR><TD WIDTH="13%" VALIGN="TOP">&nbsp;</TD><TD WIDTH="14%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">instr</FONT></TD><TD WIDTH="15%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>3018</FONT></TD><TD WIDTH="58%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>; 3 band eq</FONT></TD></TR><TR><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">ilogain</FONT></TD><TD WIDTH="14%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">=</FONT></TD><TD WIDTH="33%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">p4</FONT></TD><TD WIDTH="40%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>; Low Gain</FONT></TD></TR><TR><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">imidgain</FONT></TD><TD WIDTH="14%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">=</FONT></TD><TD WIDTH="33%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">p5*1.2</FONT></TD><TD WIDTH="40%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>; Midrange Gain</FONT></TD></TR><TR><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">ihigain</FONT></TD><TD WIDTH="14%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">=</FONT></TD><TD WIDTH="33%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">p6</FONT></TD><TD WIDTH="40%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>; High Gain</FONT></TD></TR><TR><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">ilofco</FONT></TD><TD WIDTH="14%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">=</FONT></TD><TD WIDTH="33%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">p7</FONT></TD><TD WIDTH="40%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>; Low frequency cut-off</FONT></TD></TR><TR><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">ihifco</FONT></TD><TD WIDTH="14%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">=</FONT></TD><TD WIDTH="33%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">p8</FONT></TD><TD WIDTH="40%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>; High frequency cut-off</FONT></TD></TR><TR><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">izin</FONT></TD><TD WIDTH="14%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">=</FONT></TD><TD WIDTH="33%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">p9</FONT></TD><TD WIDTH="40%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>; Input channel</FONT></TD></TR><TR><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">izout</FONT></TD><TD WIDTH="14%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">=</FONT></TD><TD WIDTH="33%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">p10</FONT></TD><TD WIDTH="40%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>; Output channel</FONT></TD></TR><TR><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">asig</FONT></TD><TD WIDTH="14%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">zar</FONT></TD><TD WIDTH="33%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">izin</FONT></TD><TD WIDTH="40%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>; Read from input channel</FONT></TD></TR><TR><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">alosig</FONT></TD><TD WIDTH="14%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">butterlp</FONT></TD><TD WIDTH="33%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">asig, ilofco</FONT></TD><TD WIDTH="40%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>; Lowpass filter</FONT></TD></TR><TR><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">atmpsig</FONT></TD><TD WIDTH="14%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">butterhp</FONT></TD><TD WIDTH="33%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">asig, ilofco-ilofco/4</FONT></TD><TD WIDTH="40%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>; Highpass at lowfrq cut-off</FONT></TD></TR><TR><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">amidsig</FONT></TD><TD WIDTH="14%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">butterlp</FONT></TD><TD WIDTH="33%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">atmpsig, ihifco+ihifco/4</FONT></TD><TD WIDTH="40%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>; then lowpass @ highfrqcutoff</FONT></TD></TR><TR><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">ahisig</FONT></TD><TD WIDTH="14%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">butterhp</FONT></TD><TD WIDTH="33%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">asig, ihifco</FONT></TD><TD WIDTH="40%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>; Hipass filter</FONT></TD></TR><TR><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">aout</FONT></TD><TD WIDTH="14%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">=</FONT></TD><TD WIDTH="73%" VALIGN="TOP" COLSPAN=3><FONT FACE="Courier New" SIZE=2><P>ilogain*alosig + imidgain*amidsig + ihigain*ahisig</FONT></TD></TR><TR><TD WIDTH="13%" VALIGN="TOP">&nbsp;</TD><TD WIDTH="14%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">zaw</FONT></TD><TD WIDTH="33%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">aout, izout</FONT></TD><TD WIDTH="40%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>; Write to output channel</FONT></TD></TR><TR><TD WIDTH="13%" VALIGN="TOP">&nbsp;</TD><TD WIDTH="87%" VALIGN="TOP" COLSPAN=4><FONT FACE="Courier New" SIZE=2><P>endin</FONT></TD></TR></TABLE><B><FONT FACE="Geneva" SIZE=1><P>Figure 30.12</B> Orchestra code for <I>instr 3018</I>, a 3-band equalizer using Butterworth filters.</P></FONT><FONT FACE="Palatino" SIZE=2><P>&nbsp;</P></FONT><P>&nbsp;</P><FONT FACE="Times"><P><IMG SRC="Image7.gif" WIDTH=257 HEIGHT=147></P></FONT><B><FONT FACE="Geneva" SIZE=1><P>Figure 30.13</B> Block diagram of <I>instr 3016</I>, a wah-wah.</P></FONT><FONT FACE="Palatino" SIZE=2><P>&nbsp;</P></FONT><P>&nbsp;</P><TABLE CELLSPACING=0 BORDER=0 CELLPADDING=5 WIDTH=478><TR><TD WIDTH="13%" VALIGN="TOP">&nbsp;</TD><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">instr</FONT></TD><TD WIDTH="16%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">3016</FONT></TD><TD WIDTH="58%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">; wah-wah</FONT></TD></TR><TR><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">irate</FONT></TD><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">=</FONT></TD><TD WIDTH="36%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">p4</FONT></TD><TD WIDTH="37%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">; Auto Wah Rate</FONT></TD></TR><TR><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">idepth</FONT></TD><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">=</FONT></TD><TD WIDTH="36%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">p5</FONT></TD><TD WIDTH="37%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">; LowPass Depth</FONT></TD></TR><TR><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">ilow</FONT></TD><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">=</FONT></TD><TD WIDTH="36%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">p6</FONT></TD><TD WIDTH="37%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">; Minimum Frequency</FONT></TD></TR><TR><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">ifmix</FONT></TD><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">=</FONT></TD><TD WIDTH="36%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">p7/1000</FONT></TD><TD WIDTH="37%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">; Formant Mix</FONT></TD></TR><TR><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">itab1</FONT></TD><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">=</FONT></TD><TD WIDTH="36%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">p8</FONT></TD><TD WIDTH="37%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">; Wave form table</FONT></TD></TR><TR><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">izin</FONT></TD><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">=</FONT></TD><TD WIDTH="36%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">p9</FONT></TD><TD WIDTH="37%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">; Input Channel</FONT></TD></TR><TR><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">izout</FONT></TD><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">=</FONT></TD><TD WIDTH="36%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">p10</FONT></TD><TD WIDTH="37%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">; Output Channel</FONT></TD></TR><TR><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">kosc1</FONT></TD><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">oscil</FONT></TD><TD WIDTH="36%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">.5, irate, itab1, .25</FONT></TD><TD WIDTH="37%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">; Oscillator</FONT></TD></TR><TR><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">kosc2</FONT></TD><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">=</FONT></TD><TD WIDTH="36%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">kosc1 + .5</FONT></TD><TD WIDTH="37%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">; Rescale for 0-1</FONT></TD></TR><TR><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">kosc3</FONT></TD><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">=</FONT></TD><TD WIDTH="36%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">kosc2</FONT></TD><TD WIDTH="37%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">; Formant Depth 0-1</FONT></TD></TR><TR><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">klopass</FONT></TD><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">=</FONT></TD><TD WIDTH="36%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">idepth*kosc2+ilow</FONT></TD><TD WIDTH="37%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">; Lowpass filter range</FONT></TD></TR><TR><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">kform1</FONT></TD><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">=</FONT></TD><TD WIDTH="36%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">430*kosc2 + 300</FONT></TD><TD WIDTH="37%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">; Formant 1 range</FONT></TD></TR><TR><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">kamp1</FONT></TD><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">=</FONT></TD><TD WIDTH="36%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">ampdb(-2*kosc3 + 59)*ifmix</FONT></TD><TD WIDTH="37%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">; Formant 1 level</FONT></TD></TR><TR><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">kform2</FONT></TD><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">=</FONT></TD><TD WIDTH="36%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">220*kosc2 + 870</FONT></TD><TD WIDTH="37%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">; Formant 2 range</FONT></TD></TR><TR><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">kamp2</FONT></TD><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">=</FONT></TD><TD WIDTH="36%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">ampdb(-14*kosc3 + 55)*ifmix</FONT></TD><TD WIDTH="37%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">; Formant 2 level</FONT></TD></TR><TR><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">kform3</FONT></TD><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">=</FONT></TD><TD WIDTH="36%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">200*kosc2 + 2240</FONT></TD><TD WIDTH="37%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">; Formant 3 range</FONT></TD></TR><TR><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">kamp3</FONT></TD><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">=</FONT></TD><TD WIDTH="36%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">ampdb(-15*kosc3 + 32)*ifmix</FONT></TD><TD WIDTH="37%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">; Formant 3 level</FONT></TD></TR><TR><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">asig</FONT></TD><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">zar</FONT></TD><TD WIDTH="36%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">izin</FONT></TD><TD WIDTH="37%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">; Read input channel</FONT></TD></TR><TR><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">afilt</FONT></TD><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">butterlp</FONT></TD><TD WIDTH="36%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">asig, klopass</FONT></TD><TD WIDTH="37%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">; Lowpass filter</FONT></TD></TR><TR><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">ares1</FONT></TD><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">reson</FONT></TD><TD WIDTH="36%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">afilt, kform1, kform1/8</FONT></TD><TD WIDTH="37%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">; Compute some formants</FONT></TD></TR><TR><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">ares2</FONT></TD><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">reson</FONT></TD><TD WIDTH="36%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">afilt, kform2, kform1/8</FONT></TD><TD WIDTH="37%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">; to add character to the</FONT></TD></TR><TR><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">ares3</FONT></TD><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">reson</FONT></TD><TD WIDTH="36%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">afilt, kform3, kform1/8</FONT></TD><TD WIDTH="37%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">; sound</FONT></TD></TR><TR><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">aresbal1</FONT></TD><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">balance</FONT></TD><TD WIDTH="36%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">ares1, afilt</FONT></TD><TD WIDTH="37%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">; Adjust formant levels</FONT></TD></TR><TR><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">aresbal2</FONT></TD><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">balance</FONT></TD><TD WIDTH="73%" VALIGN="TOP" COLSPAN=3><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">ares2, afilt</FONT></TD></TR><TR><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">aresbal3</FONT></TD><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">balance</FONT></TD><TD WIDTH="73%" VALIGN="TOP" COLSPAN=3><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">ares3, afilt</FONT></TD></TR><TR><TD WIDTH="13%" VALIGN="TOP">&nbsp;</TD><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">zaw</FONT></TD><TD WIDTH="73%" VALIGN="TOP" COLSPAN=3><FONT FACE="Courier New" SIZE=2><P>afilt+kamp1*aresbal1+kamp2*aresbal2+kamp3*aresbal3,izout</FONT></TD></TR><TR><TD WIDTH="13%" VALIGN="TOP">&nbsp;</TD><TD WIDTH="87%" VALIGN="TOP" COLSPAN=4><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">endin</FONT></TD></TR></TABLE><B><FONT FACE="Geneva" SIZE=1><P>Figure 30.14</B> Orchestra code for <I>instr 3016</I>, a wah-wah.</P></FONT><FONT FACE="Palatino" SIZE=2><P>&nbsp;</P></FONT><P>&nbsp;</P><FONT FACE="Geneva" SIZE=1><P><IMG SRC="Image8.gif" WIDTH=264 HEIGHT=98></P></FONT><B><FONT FACE="Geneva" SIZE=1><P>Figure 30.15</B> Block diagram of resonant lowpass filter.</P></FONT><FONT FACE="Palatino" SIZE=2><P>&nbsp;</P></FONT><P>&nbsp;</P><TABLE CELLSPACING=0 BORDER=0 CELLPADDING=5 WIDTH=477><TR><TD WIDTH="11%" VALIGN="TOP">&nbsp;</TD><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>instr</FONT></TD><TD WIDTH="15%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>3015</FONT></TD><TD WIDTH="62%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>; resonant lowpass filter</FONT></TD></TR><TR><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>idur</FONT></TD><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>=</FONT></TD><TD WIDTH="77%" VALIGN="TOP" COLSPAN=3><FONT FACE="Courier New" SIZE=2><P>p3</FONT></TD></TR><TR><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>itab1</FONT></TD><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>=</FONT></TD><TD WIDTH="26%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>p4</FONT></TD><TD WIDTH="51%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>; Cut-Off Frequency</FONT></TD></TR><TR><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>itab2</FONT></TD><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>=</FONT></TD><TD WIDTH="26%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>p5</FONT></TD><TD WIDTH="51%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>; Resonance</FONT></TD></TR><TR><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>ilpmix</FONT></TD><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>=</FONT></TD><TD WIDTH="26%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>p6</FONT></TD><TD WIDTH="51%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>; LowPass signal multiplier</FONT></TD></TR><TR><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>irzmix</FONT></TD><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>=</FONT></TD><TD WIDTH="26%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>p7</FONT></TD><TD WIDTH="51%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>; Resonance signal multiplier</FONT></TD></TR><TR><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>izin</FONT></TD><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>=</FONT></TD><TD WIDTH="26%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>p8</FONT></TD><TD WIDTH="51%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>; Input channel</FONT></TD></TR><TR><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>izout</FONT></TD><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>=</FONT></TD><TD WIDTH="26%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>p9</FONT></TD><TD WIDTH="51%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>; Output channel</FONT></TD></TR><TR><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>kfco</FONT></TD><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>oscil</FONT></TD><TD WIDTH="26%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>1, 1/idur, itab1</FONT></TD><TD WIDTH="51%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>; Cut-off Frequency envelope from table</FONT></TD></TR><TR><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>kfcort</FONT></TD><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>=</FONT></TD><TD WIDTH="26%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>sqrt(kfco)</FONT></TD><TD WIDTH="51%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>; Needed for the filter</FONT></TD></TR><TR><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>krezo</FONT></TD><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>oscil</FONT></TD><TD WIDTH="26%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>1, 1/idur, itab2</FONT></TD><TD WIDTH="51%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>; Resonance envelope from table</FONT></TD></TR><TR><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>krez</FONT></TD><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>=</FONT></TD><TD WIDTH="26%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>krezo*kfco/500</FONT></TD><TD WIDTH="51%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>; Add more resonance at high Fco</FONT></TD></TR><TR><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>kamp</FONT></TD><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>linseg</FONT></TD><TD WIDTH="77%" VALIGN="TOP" COLSPAN=3><FONT FACE="Courier New" SIZE=2><P>0, .002, 1, p3-.004, 1, .002, 0</FONT></TD></TR><TR><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>axn</FONT></TD><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>zar</FONT></TD><TD WIDTH="26%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>izin</FONT></TD><TD WIDTH="51%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>; Read input channel</FONT></TD></TR><TR><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>ka1</FONT></TD><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>=</FONT></TD><TD WIDTH="26%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>1000/krez/kfco-1</FONT></TD><TD WIDTH="51%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>; Compute filter coeff. a1</FONT></TD></TR><TR><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>ka2</FONT></TD><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>=</FONT></TD><TD WIDTH="26%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>100000/kfco/kfco</FONT></TD><TD WIDTH="51%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>; Compute filter coeff. a2</FONT></TD></TR><TR><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>kb</FONT></TD><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>=</FONT></TD><TD WIDTH="26%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>1+ka1+ka2</FONT></TD><TD WIDTH="51%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>; Compute filter coeff. b</FONT></TD></TR><TR><TD VALIGN="TOP" COLSPAN=5><FONT FACE="Courier New" SIZE=2><P>; Use the non-linear filter as an ordinary filter.</FONT></TD></TR><TR><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>ay1</FONT></TD><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>nlfilt</FONT></TD><TD WIDTH="77%" VALIGN="TOP" COLSPAN=3><FONT FACE="Courier New" SIZE=2><P>axn/kb, (ka1+2*ka2)/kb, -ka2/kb, 0, 0, 1</FONT></TD></TR><TR><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>ay</FONT></TD><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>nlfilt</FONT></TD><TD WIDTH="77%" VALIGN="TOP" COLSPAN=3><FONT FACE="Courier New" SIZE=2><P>ay1/kb, (ka1+2*ka2)/kb, -ka2/kb, 0, 0, 1</FONT></TD></TR><TR><TD VALIGN="TOP" COLSPAN=5><FONT FACE="Courier New" SIZE=2><P>; Resonance of 1 is a lowpass filter</FONT></TD></TR><TR><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>ka1lp</FONT></TD><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>=</FONT></TD><TD WIDTH="77%" VALIGN="TOP" COLSPAN=3><FONT FACE="Courier New" SIZE=2><P>1000/kfco-1</FONT></TD></TR><TR><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>ka2lp</FONT></TD><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>=</FONT></TD><TD WIDTH="77%" VALIGN="TOP" COLSPAN=3><FONT FACE="Courier New" SIZE=2><P>100000/kfco/kfco</FONT></TD></TR><TR><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>kblp</FONT></TD><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>=</FONT></TD><TD WIDTH="77%" VALIGN="TOP" COLSPAN=3><FONT FACE="Courier New" SIZE=2><P>1+ka1lp+ka2lp</FONT></TD></TR><TR><TD VALIGN="TOP" COLSPAN=5><FONT FACE="Courier New" SIZE=2><P>; Lowpass filter</FONT></TD></TR><TR><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>ay1lp</FONT></TD><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>nlfilt</FONT></TD><TD WIDTH="77%" VALIGN="TOP" COLSPAN=3><FONT FACE="Courier New" SIZE=2><P>axn/kblp, (ka1lp+2*ka2lp)/kblp, -ka2lp/kblp, 0, 0, 1</FONT></TD></TR><TR><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>aylp</FONT></TD><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>nlfilt</FONT></TD><TD WIDTH="77%" VALIGN="TOP" COLSPAN=3><FONT FACE="Courier New" SIZE=2><P>ay1lp/kblp, (ka1lp+2*ka2lp)/kblp, -ka2lp/kblp, 0, 0, 1</FONT></TD></TR><TR><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>ayrez</FONT></TD><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>=</FONT></TD><TD WIDTH="26%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>ay - aylp</FONT></TD><TD WIDTH="51%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>; Extract the resonance part.</FONT></TD></TR><TR><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>ayrz</FONT></TD><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>=</FONT></TD><TD WIDTH="26%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>ayrez/kfco</FONT></TD><TD WIDTH="51%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>; Use lower amplitudes at higher Fco</FONT></TD></TR><TR><TD VALIGN="TOP" COLSPAN=5><FONT FACE="Courier New" SIZE=2><P>; Scale the lowpass and resonance separately</FONT></TD></TR><TR><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>ay2</FONT></TD><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>=</FONT></TD><TD WIDTH="77%" VALIGN="TOP" COLSPAN=3><FONT FACE="Courier New" SIZE=2><P>aylp*6*ilpmix + ayrz*300*irzmix</FONT></TD></TR><TR><TD WIDTH="11%" VALIGN="TOP">&nbsp;</TD><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>zaw</FONT></TD><TD WIDTH="26%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>ay2, izout</FONT></TD><TD WIDTH="51%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>; Write to the output channel</FONT></TD></TR><TR><TD WIDTH="11%" VALIGN="TOP">&nbsp;</TD><TD WIDTH="89%" VALIGN="TOP" COLSPAN=4><FONT FACE="Courier New" SIZE=2><P>endin</FONT></TD></TR></TABLE><B><FONT FACE="Geneva" SIZE=1><P>Figure 30.16</B> Orchestra code for <I>instr 3015</I>, a resonant lowpass design using Csound&#146;s non-linear filter opcode &#151; <B>nlfilt</B>.</P></FONT><FONT FACE="Palatino" SIZE=2><P>&nbsp;</P></FONT><P>&nbsp;</P><FONT FACE="Times"><P><IMG SRC="Image9.gif" WIDTH=210 HEIGHT=109></P></FONT><B><FONT FACE="Geneva" SIZE=1><P>Figure 35.17</B> Block diagram of simple vibrato algorithm using an oscillator and a delay line.</P></FONT><FONT FACE="Geneva" SIZE=1><P>&nbsp;</P></FONT><P>&nbsp;</P><TABLE CELLSPACING=0 BORDER=0 CELLPADDING=5 WIDTH=478><TR><TD WIDTH="11%" VALIGN="TOP">&nbsp;</TD><TD WIDTH="12%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">instr</FONT></TD><TD WIDTH="15%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>3020</FONT></TD><TD WIDTH="61%" VALIGN="TOP" COLSPAN=3><FONT FACE="Courier New" SIZE=2><P>; vibrato</FONT></TD></TR><TR><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">iamp</FONT></TD><TD WIDTH="12%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">=</FONT></TD><TD WIDTH="31%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>p4/1000</FONT></TD><TD WIDTH="45%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>; Vibrato amplitude</FONT></TD></TR><TR><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">ifqc</FONT></TD><TD WIDTH="12%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">=</FONT></TD><TD WIDTH="31%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>p5</FONT></TD><TD WIDTH="45%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>; Vibrato frequency</FONT></TD></TR><TR><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">itab1</FONT></TD><TD WIDTH="12%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">=</FONT></TD><TD WIDTH="31%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>p6</FONT></TD><TD WIDTH="45%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>; Wave shape</FONT></TD></TR><TR><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">iphase</FONT></TD><TD WIDTH="12%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">=</FONT></TD><TD WIDTH="31%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>p7</FONT></TD><TD WIDTH="45%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>; Phase shift</FONT></TD></TR><TR><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">idelay</FONT></TD><TD WIDTH="12%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">=</FONT></TD><TD WIDTH="31%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>p8</FONT></TD><TD WIDTH="45%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>; Delay time before vibrato begins</FONT></TD></TR><TR><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">irmptim</FONT></TD><TD WIDTH="12%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">=</FONT></TD><TD WIDTH="31%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>p9</FONT></TD><TD WIDTH="45%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>; Ramp time for vibrato</FONT></TD></TR><TR><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">izin</FONT></TD><TD WIDTH="12%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">=</FONT></TD><TD WIDTH="31%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>p10</FONT></TD><TD WIDTH="45%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>; Input channel</FONT></TD></TR><TR><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">izout</FONT></TD><TD WIDTH="12%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">=</FONT></TD><TD WIDTH="31%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>p11</FONT></TD><TD WIDTH="45%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>; Output channel</FONT></TD></TR><TR><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">asig</FONT></TD><TD WIDTH="12%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">zar</FONT></TD><TD WIDTH="31%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>izin</FONT></TD><TD WIDTH="45%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>; Read input channel</FONT></TD></TR><TR><TD WIDTH="55%" VALIGN="TOP" COLSPAN=4>&nbsp;</TD><TD WIDTH="45%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>; Delay and ramp vibrato</FONT></TD></TR><TR><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">kramp</FONT></TD><TD WIDTH="12%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">linseg</FONT></TD><TD WIDTH="76%" VALIGN="TOP" COLSPAN=4><FONT FACE="Courier New" SIZE=2><P>0, idelay, 0, irmptim, 1, p3-idelay-irmptim, 1</FONT></TD></TR><TR><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">kosc</FONT></TD><TD WIDTH="12%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">oscil</FONT></TD><TD WIDTH="32%" VALIGN="TOP" COLSPAN=3><FONT FACE="Courier New" SIZE=2><P>kramp*iamp, ifqc, itab1</FONT></TD><TD WIDTH="44%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>; Low frequency oscillator</FONT></TD></TR><TR><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">atmp</FONT></TD><TD WIDTH="12%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">delayr</FONT></TD><TD WIDTH="31%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>3*iamp</FONT></TD><TD WIDTH="45%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>; Delay the signal</FONT></TD></TR><TR><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">aout</FONT></TD><TD WIDTH="12%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">deltapi</FONT></TD><TD WIDTH="31%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>kosc+1.5*iamp</FONT></TD><TD WIDTH="45%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>; Variable delay tap</FONT></TD></TR><TR><TD WIDTH="11%" VALIGN="TOP">&nbsp;</TD><TD WIDTH="12%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">delayw</FONT></TD><TD WIDTH="76%" VALIGN="TOP" COLSPAN=4><FONT FACE="Courier New" SIZE=2><P>asig</FONT></TD></TR><TR><TD WIDTH="11%" VALIGN="TOP">&nbsp;</TD><TD WIDTH="12%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">zaw</FONT></TD><TD WIDTH="31%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>aout, izout</FONT></TD><TD WIDTH="45%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>; Write to the output channel</FONT></TD></TR><TR><TD WIDTH="11%" VALIGN="TOP">&nbsp;</TD><TD WIDTH="89%" VALIGN="TOP" COLSPAN=5><FONT FACE="Courier New" SIZE=2><P>endin</FONT></TD></TR></TABLE><B><FONT FACE="Geneva" SIZE=1><P>Figure 30.18</B> Orchestra code for <I>instr 3020</I>, a variable tap-delay vibrato instrument.</P></FONT><FONT FACE="Geneva" SIZE=1><P>&nbsp;</P></FONT><P>&nbsp;</P><FONT FACE="Times"><P><IMG SRC="Image10.gif" WIDTH=224 HEIGHT=116></P></FONT><B><FONT FACE="Geneva" SIZE=1><P>Figure 30.19</B> Block diagram of a tap-delay pitch shifter.</P></FONT><FONT FACE="Geneva" SIZE=1><P>&nbsp;</P></FONT><P>&nbsp;</P><TABLE CELLSPACING=0 BORDER=0 CELLPADDING=5 WIDTH=478><TR><TD WIDTH="12%" VALIGN="TOP">&nbsp;</TD><TD WIDTH="14%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">instr</FONT></TD><TD WIDTH="16%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">3022</FONT></TD><TD WIDTH="58%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">; delay-based pitch shifter</FONT></TD></TR><TR><TD WIDTH="12%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">ipshift</FONT></TD><TD WIDTH="14%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">=</FONT></TD><TD WIDTH="73%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">(p4&lt;=1 ? p4-1 : p4/2)</FONT></TD></TR><TR><TD WIDTH="12%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">itab1</FONT></TD><TD WIDTH="14%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">=</FONT></TD><TD WIDTH="73%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">p5</FONT></TD></TR><TR><TD WIDTH="12%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">izin</FONT></TD><TD WIDTH="14%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">=</FONT></TD><TD WIDTH="73%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">p6</FONT></TD></TR><TR><TD WIDTH="12%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">izout</FONT></TD><TD WIDTH="14%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">=</FONT></TD><TD WIDTH="73%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">p7</FONT></TD></TR><TR><TD WIDTH="12%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">asig</FONT></TD><TD WIDTH="14%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">zar</FONT></TD><TD WIDTH="73%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">izin</FONT></TD></TR><TR><TD WIDTH="12%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">kosc</FONT></TD><TD WIDTH="14%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">oscil</FONT></TD><TD WIDTH="73%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">1/gifqc, gifqc*ipshift, itab1</FONT></TD></TR><TR><TD WIDTH="12%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">atmp</FONT></TD><TD WIDTH="14%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">delayr</FONT></TD><TD WIDTH="73%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">.1</FONT></TD></TR><TR><TD WIDTH="12%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">aout</FONT></TD><TD WIDTH="14%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">deltapi</FONT></TD><TD WIDTH="73%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">kosc+1/gifqc</FONT></TD></TR><TR><TD WIDTH="12%" VALIGN="TOP">&nbsp;</TD><TD WIDTH="14%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">delayw</FONT></TD><TD WIDTH="73%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">asig</FONT></TD></TR><TR><TD WIDTH="12%" VALIGN="TOP">&nbsp;</TD><TD WIDTH="14%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">zaw</FONT></TD><TD WIDTH="73%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">aout, izout</FONT></TD></TR><TR><TD WIDTH="12%" VALIGN="TOP">&nbsp;</TD><TD WIDTH="88%" VALIGN="TOP" COLSPAN=3><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">endin</FONT></TD></TR></TABLE><B><FONT FACE="Geneva" SIZE=1><P>Figure 30.20</B> Orchestra code for <I>instr 3022</I>, a variable delay-based pitch shifter.</P></FONT><FONT FACE="Geneva" SIZE=1><P>&nbsp;</P></FONT><P>&nbsp;</P><FONT FACE="Times"><P><IMG SRC="Image11.gif" WIDTH=253 HEIGHT=109></P></FONT><B><FONT FACE="Geneva" SIZE=1><P>Figure 30.21</B> Block diagram of a &quot;chorus&quot; effect.</P></FONT><FONT FACE="Times"><P>&nbsp;</P></FONT><P>&nbsp;</P><TABLE CELLSPACING=0 BORDER=0 CELLPADDING=5 WIDTH=478><TR><TD WIDTH="13%" VALIGN="TOP">&nbsp;</TD><TD WIDTH="14%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>instr</FONT></TD><TD WIDTH="16%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>3035</FONT></TD><TD WIDTH="57%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>; chorus</FONT></TD></TR><TR><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>irate</FONT></TD><TD WIDTH="14%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>=</FONT></TD><TD WIDTH="73%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>p4</FONT></TD></TR><TR><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>idepth</FONT></TD><TD WIDTH="14%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>=</FONT></TD><TD WIDTH="73%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>p5/1000</FONT></TD></TR><TR><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>iwave</FONT></TD><TD WIDTH="14%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>=</FONT></TD><TD WIDTH="73%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>p6</FONT></TD></TR><TR><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>imix</FONT></TD><TD WIDTH="14%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>=</FONT></TD><TD WIDTH="73%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>p7</FONT></TD></TR><TR><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>ideloff</FONT></TD><TD WIDTH="14%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>=</FONT></TD><TD WIDTH="73%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>p8/1000</FONT></TD></TR><TR><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>iphase</FONT></TD><TD WIDTH="14%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>=</FONT></TD><TD WIDTH="73%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>p9</FONT></TD></TR><TR><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>izin</FONT></TD><TD WIDTH="14%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>=</FONT></TD><TD WIDTH="73%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>p10</FONT></TD></TR><TR><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>izout</FONT></TD><TD WIDTH="14%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>=</FONT></TD><TD WIDTH="73%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>p11</FONT></TD></TR><TR><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>kamp</FONT></TD><TD WIDTH="14%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>linseg</FONT></TD><TD WIDTH="73%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>0, .002, 1, p3-.004, 1, .002, 0</FONT></TD></TR><TR><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>asig</FONT></TD><TD WIDTH="14%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>zar</FONT></TD><TD WIDTH="73%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>izin</FONT></TD></TR><TR><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>aosc1</FONT></TD><TD WIDTH="14%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>oscil</FONT></TD><TD WIDTH="73%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>idepth, irate, iwave, iphase</FONT></TD></TR><TR><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>aosc2</FONT></TD><TD WIDTH="14%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>=</FONT></TD><TD WIDTH="73%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>aosc1+ideloff</FONT></TD></TR><TR><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>atemp</FONT></TD><TD WIDTH="14%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>delayr</FONT></TD><TD WIDTH="73%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>idepth+ideloff</FONT></TD></TR><TR><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>adel1</FONT></TD><TD WIDTH="14%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>deltapi</FONT></TD><TD WIDTH="73%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>aosc2</FONT></TD></TR><TR><TD WIDTH="13%" VALIGN="TOP">&nbsp;</TD><TD WIDTH="14%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>delayw</FONT></TD><TD WIDTH="73%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>asig</FONT></TD></TR><TR><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>aout</FONT></TD><TD WIDTH="14%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>=</FONT></TD><TD WIDTH="73%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>(adel1*imix+asig)/2*kamp</FONT></TD></TR><TR><TD WIDTH="13%" VALIGN="TOP">&nbsp;</TD><TD WIDTH="14%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>zaw</FONT></TD><TD WIDTH="73%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>aout, izout</FONT></TD></TR><TR><TD WIDTH="13%" VALIGN="TOP">&nbsp;</TD><TD WIDTH="87%" VALIGN="TOP" COLSPAN=3><FONT FACE="Courier New" SIZE=2><P>endin</FONT></TD></TR></TABLE><B><FONT FACE="Geneva" SIZE=1><P>Figure 30.22</B> Orchestra code for <I>instr 3035</I>, a &quot;chorus&quot; instrument.</P></FONT><FONT FACE="Palatino" SIZE=2><P>&nbsp;</P></FONT><P>&nbsp;</P><FONT FACE="Times"><P><IMG SRC="Image12.gif" WIDTH=250 HEIGHT=132></P></FONT><B><FONT FACE="Geneva" SIZE=1><P>Figure 30.23</B> Block diagram of a flanger.</P></FONT><FONT FACE="Geneva" SIZE=1><P>&nbsp;</P></FONT><P>&nbsp;</P><TABLE CELLSPACING=0 BORDER=0 CELLPADDING=5 WIDTH=478><TR><TD WIDTH="12%" VALIGN="TOP">&nbsp;</TD><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>instr</FONT></TD><TD WIDTH="16%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>3030</FONT></TD><TD WIDTH="58%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>; flanger</FONT></TD></TR><TR><TD WIDTH="12%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>irate</FONT></TD><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>=</FONT></TD><TD WIDTH="74%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>p4</FONT></TD></TR><TR><TD WIDTH="12%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>idepth</FONT></TD><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>=</FONT></TD><TD WIDTH="74%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>p5/1000</FONT></TD></TR><TR><TD WIDTH="12%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>iwave</FONT></TD><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>=</FONT></TD><TD WIDTH="74%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>p6</FONT></TD></TR><TR><TD WIDTH="12%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>ifdbk</FONT></TD><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>=</FONT></TD><TD WIDTH="74%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>p7</FONT></TD></TR><TR><TD WIDTH="12%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>imix</FONT></TD><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>=</FONT></TD><TD WIDTH="74%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>p8</FONT></TD></TR><TR><TD WIDTH="12%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>ideloff</FONT></TD><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>=</FONT></TD><TD WIDTH="74%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>p9/1000</FONT></TD></TR><TR><TD WIDTH="12%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>iphase</FONT></TD><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>=</FONT></TD><TD WIDTH="74%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>p10</FONT></TD></TR><TR><TD WIDTH="12%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>izin</FONT></TD><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>=</FONT></TD><TD WIDTH="74%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>p11</FONT></TD></TR><TR><TD WIDTH="12%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>izout</FONT></TD><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>=</FONT></TD><TD WIDTH="74%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>p12</FONT></TD></TR><TR><TD WIDTH="12%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>adel1</FONT></TD><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>init</FONT></TD><TD WIDTH="74%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>0</FONT></TD></TR><TR><TD WIDTH="12%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>kamp</FONT></TD><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>linseg</FONT></TD><TD WIDTH="74%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>0, .002, 1, p3-.004, 1, .002, 0</FONT></TD></TR><TR><TD WIDTH="12%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>asig</FONT></TD><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>zar</FONT></TD><TD WIDTH="74%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>izin</FONT></TD></TR><TR><TD WIDTH="12%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>asig1</FONT></TD><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>=</FONT></TD><TD WIDTH="74%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>asig+ifdbk*adel1</FONT></TD></TR><TR><TD WIDTH="12%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>aosc1</FONT></TD><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>oscil</FONT></TD><TD WIDTH="74%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>idepth, irate, iwave, iphase</FONT></TD></TR><TR><TD WIDTH="12%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>aosc2</FONT></TD><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>=</FONT></TD><TD WIDTH="74%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>aosc1+ideloff</FONT></TD></TR><TR><TD WIDTH="12%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>atemp</FONT></TD><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>delayr</FONT></TD><TD WIDTH="74%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>idepth+ideloff</FONT></TD></TR><TR><TD WIDTH="12%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>adel1</FONT></TD><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>deltapi</FONT></TD><TD WIDTH="74%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>aosc2</FONT></TD></TR><TR><TD WIDTH="12%" VALIGN="TOP">&nbsp;</TD><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>delayw</FONT></TD><TD WIDTH="74%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>asig1</FONT></TD></TR><TR><TD WIDTH="12%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>aout</FONT></TD><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>=</FONT></TD><TD WIDTH="74%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>(imix*adel1+asig)/2</FONT></TD></TR><TR><TD WIDTH="12%" VALIGN="TOP">&nbsp;</TD><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>zaw</FONT></TD><TD WIDTH="74%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>aout, izout</FONT></TD></TR><TR><TD WIDTH="12%" VALIGN="TOP">&nbsp;</TD><TD WIDTH="88%" VALIGN="TOP" COLSPAN=3><FONT FACE="Courier New" SIZE=2><P>endin</FONT></TD></TR></TABLE><B><FONT FACE="Geneva" SIZE=1><P>Figure 30.24</B> Orchestra code for <I>instr 3030</I>, a flanger.</P></FONT><FONT FACE="Palatino" SIZE=2><P>&nbsp;</P></FONT><P>&nbsp;</P><FONT FACE="Times"><P><IMG SRC="Image13.gif" WIDTH=264 HEIGHT=210></P></FONT><B><FONT FACE="Geneva" SIZE=1><P>Figure 30.25</B> Block diagram of a stereo delay.</P></FONT><FONT FACE="Palatino" SIZE=2><P>&nbsp;</P></FONT><P>&nbsp;</P><TABLE CELLSPACING=0 BORDER=0 CELLPADDING=5 WIDTH=478><TR><TD WIDTH="12%" VALIGN="TOP">&nbsp;</TD><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">instr</FONT></TD><TD WIDTH="15%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>3040</FONT></TD><TD WIDTH="61%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>; stereo delay</FONT></TD></TR><TR><TD WIDTH="12%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">itim1</FONT></TD><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">=</FONT></TD><TD WIDTH="76%" VALIGN="TOP" COLSPAN=3><FONT FACE="Courier New" SIZE=2><P>p4</FONT></TD></TR><TR><TD WIDTH="12%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">ifdbk1</FONT></TD><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">=</FONT></TD><TD WIDTH="76%" VALIGN="TOP" COLSPAN=3><FONT FACE="Courier New" SIZE=2><P>p5</FONT></TD></TR><TR><TD WIDTH="12%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">ixfdbk1</FONT></TD><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">=</FONT></TD><TD WIDTH="76%" VALIGN="TOP" COLSPAN=3><FONT FACE="Courier New" SIZE=2><P>p6</FONT></TD></TR><TR><TD WIDTH="12%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">itim2</FONT></TD><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">=</FONT></TD><TD WIDTH="76%" VALIGN="TOP" COLSPAN=3><FONT FACE="Courier New" SIZE=2><P>p7</FONT></TD></TR><TR><TD WIDTH="12%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">ifdbk2</FONT></TD><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">=</FONT></TD><TD WIDTH="76%" VALIGN="TOP" COLSPAN=3><FONT FACE="Courier New" SIZE=2><P>p8</FONT></TD></TR><TR><TD WIDTH="12%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">ixfdbk2</FONT></TD><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">=</FONT></TD><TD WIDTH="76%" VALIGN="TOP" COLSPAN=3><FONT FACE="Courier New" SIZE=2><P>p9</FONT></TD></TR><TR><TD WIDTH="12%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">izinl</FONT></TD><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">=</FONT></TD><TD WIDTH="76%" VALIGN="TOP" COLSPAN=3><FONT FACE="Courier New" SIZE=2><P>p10</FONT></TD></TR><TR><TD WIDTH="12%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">izinr</FONT></TD><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">=</FONT></TD><TD WIDTH="76%" VALIGN="TOP" COLSPAN=3><FONT FACE="Courier New" SIZE=2><P>p11</FONT></TD></TR><TR><TD WIDTH="12%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">izoutl</FONT></TD><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">=</FONT></TD><TD WIDTH="76%" VALIGN="TOP" COLSPAN=3><FONT FACE="Courier New" SIZE=2><P>p12</FONT></TD></TR><TR><TD WIDTH="12%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">izoutr</FONT></TD><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">=</FONT></TD><TD WIDTH="76%" VALIGN="TOP" COLSPAN=3><FONT FACE="Courier New" SIZE=2><P>p13</FONT></TD></TR><TR><TD WIDTH="12%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">aoutl</FONT></TD><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">init</FONT></TD><TD WIDTH="76%" VALIGN="TOP" COLSPAN=3><FONT FACE="Courier New" SIZE=2><P>0</FONT></TD></TR><TR><TD WIDTH="12%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">aoutr</FONT></TD><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">init</FONT></TD><TD WIDTH="76%" VALIGN="TOP" COLSPAN=3><FONT FACE="Courier New" SIZE=2><P>0</FONT></TD></TR><TR><TD WIDTH="12%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">asigl</FONT></TD><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">zar</FONT></TD><TD WIDTH="76%" VALIGN="TOP" COLSPAN=3><FONT FACE="Courier New" SIZE=2><P>izinl</FONT></TD></TR><TR><TD WIDTH="12%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">asigr</FONT></TD><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">zar</FONT></TD><TD WIDTH="76%" VALIGN="TOP" COLSPAN=3><FONT FACE="Courier New" SIZE=2><P>izinr</FONT></TD></TR><TR><TD WIDTH="12%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">aoutl</FONT></TD><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">delayr</FONT></TD><TD WIDTH="44%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">itim1</FONT></TD><TD WIDTH="32%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>; Sum delayed signal...</FONT></TD></TR><TR><TD WIDTH="12%" VALIGN="TOP">&nbsp;</TD><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">delayw</FONT></TD><TD WIDTH="44%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">asigl+ifdbk1*aoutl+ixfdbk1*aoutr</FONT></TD><TD WIDTH="32%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>; ...with original and </FONT></TD></TR><TR><TD WIDTH="12%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">aoutr</FONT></TD><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">delayr</FONT></TD><TD WIDTH="44%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">itim2</FONT></TD><TD WIDTH="32%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>; ...add cross-feedback</FONT></TD></TR><TR><TD WIDTH="12%" VALIGN="TOP">&nbsp;</TD><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">delayw</FONT></TD><TD WIDTH="44%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">asigr+ifdbk2*aoutr+ixfdbk2*aoutl</FONT></TD><TD WIDTH="32%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>; ...signal.</FONT></TD></TR><TR><TD WIDTH="12%" VALIGN="TOP">&nbsp;</TD><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">zaw</FONT></TD><TD WIDTH="76%" VALIGN="TOP" COLSPAN=3><FONT FACE="Courier New" SIZE=2><P>aoutl, izoutl</FONT></TD></TR><TR><TD WIDTH="12%" VALIGN="TOP">&nbsp;</TD><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">zaw</FONT></TD><TD WIDTH="76%" VALIGN="TOP" COLSPAN=3><FONT FACE="Courier New" SIZE=2><P>aoutr, izoutr</FONT></TD></TR><TR><TD WIDTH="12%" VALIGN="TOP">&nbsp;</TD><TD WIDTH="88%" VALIGN="TOP" COLSPAN=4><FONT FACE="Courier New" SIZE=2><P>endin</FONT></TD></TR></TABLE><B><FONT FACE="Geneva" SIZE=1><P>Figure 30.26</B> Orchestra code for <I>instr 3040</I>, a stereo delay with feedback.</P></FONT><FONT FACE="Palatino" SIZE=2><P>&nbsp;</P></FONT><P>&nbsp;</P><FONT FACE="Times"><P><IMG SRC="Image14.gif" WIDTH=232 HEIGHT=123></P></FONT><B><FONT FACE="Geneva" SIZE=1><P>Figure 30.27</B> Block diagram of a tremolo effect.</P></FONT><FONT FACE="Palatino" SIZE=2><P>&nbsp;</P></FONT><P>&nbsp;</P><TABLE CELLSPACING=0 BORDER=0 CELLPADDING=5 WIDTH=478><TR><TD WIDTH="12%" VALIGN="TOP">&nbsp;</TD><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">instr</FONT></TD><TD WIDTH="15%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">3021</FONT></TD><TD WIDTH="61%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">; tremolo</FONT></TD></TR><TR><TD WIDTH="12%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">iamp</FONT></TD><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">=</FONT></TD><TD WIDTH="76%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">p4</FONT></TD></TR><TR><TD WIDTH="12%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">ifqc</FONT></TD><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">=</FONT></TD><TD WIDTH="76%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">p5</FONT></TD></TR><TR><TD WIDTH="12%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">itab1</FONT></TD><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">=</FONT></TD><TD WIDTH="76%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">p6</FONT></TD></TR><TR><TD WIDTH="12%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">iphase</FONT></TD><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">=</FONT></TD><TD WIDTH="76%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">p7</FONT></TD></TR><TR><TD WIDTH="12%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">izin</FONT></TD><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">=</FONT></TD><TD WIDTH="76%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">p8</FONT></TD></TR><TR><TD WIDTH="12%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">izout</FONT></TD><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">=</FONT></TD><TD WIDTH="76%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">p9</FONT></TD></TR><TR><TD WIDTH="12%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">asig</FONT></TD><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">zar</FONT></TD><TD WIDTH="76%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">izin</FONT></TD></TR><TR><TD WIDTH="12%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">kosc</FONT></TD><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">oscil</FONT></TD><TD WIDTH="76%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">iamp, ifqc, itab1, iphase</FONT></TD></TR><TR><TD WIDTH="12%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">aout</FONT></TD><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">=</FONT></TD><TD WIDTH="76%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">asig*(kosc+1)/2</FONT></TD></TR><TR><TD WIDTH="12%" VALIGN="TOP">&nbsp;</TD><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">zaw</FONT></TD><TD WIDTH="76%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">aout, izout</FONT></TD></TR><TR><TD WIDTH="12%" VALIGN="TOP">&nbsp;</TD><TD WIDTH="88%" VALIGN="TOP" COLSPAN=3><FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY">endin</FONT></TD></TR></TABLE><B><FONT FACE="Geneva" SIZE=1><P>Figure 30.28</B> Orchestra code for <I>instr 3021,</I> a tremolo/gate effect.</P></FONT><FONT FACE="Palatino" SIZE=2><P>&nbsp;</P></FONT><P>&nbsp;</P><FONT FACE="Times"><P><IMG SRC="Image15.gif" WIDTH=310 HEIGHT=164></P></FONT><B><FONT FACE="Geneva" SIZE=1><P>Figure 30.29</B> Block diagram of an LFO-based auto-panner.</P></FONT><FONT FACE="Palatino" SIZE=2><P>&nbsp;</P></FONT><P>&nbsp;</P><TABLE CELLSPACING=0 BORDER=0 CELLPADDING=5 WIDTH=478><TR><TD WIDTH="12%" VALIGN="TOP">&nbsp;</TD><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>instr</FONT></TD><TD WIDTH="16%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>3023</FONT></TD><TD WIDTH="60%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>; auto-panner</FONT></TD></TR><TR><TD WIDTH="12%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>iamp</FONT></TD><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>=</FONT></TD><TD WIDTH="76%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>p4</FONT></TD></TR><TR><TD WIDTH="12%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>ifqc</FONT></TD><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>=</FONT></TD><TD WIDTH="76%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>p5</FONT></TD></TR><TR><TD WIDTH="12%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>itab1</FONT></TD><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>=</FONT></TD><TD WIDTH="76%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>p6</FONT></TD></TR><TR><TD WIDTH="12%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>iphase</FONT></TD><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>=</FONT></TD><TD WIDTH="76%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>p7</FONT></TD></TR><TR><TD WIDTH="12%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>izin</FONT></TD><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>=</FONT></TD><TD WIDTH="76%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>p8</FONT></TD></TR><TR><TD WIDTH="12%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>izoutl</FONT></TD><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>=</FONT></TD><TD WIDTH="76%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>p9</FONT></TD></TR><TR><TD WIDTH="12%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>izoutr</FONT></TD><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>=</FONT></TD><TD WIDTH="76%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>p10</FONT></TD></TR><TR><TD WIDTH="12%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>asig</FONT></TD><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>zar</FONT></TD><TD WIDTH="76%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>izin</FONT></TD></TR><TR><TD WIDTH="12%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>kosc</FONT></TD><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>oscil</FONT></TD><TD WIDTH="76%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>iamp, ifqc, itab1, iphase</FONT></TD></TR><TR><TD WIDTH="12%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>kpanl</FONT></TD><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>=</FONT></TD><TD WIDTH="76%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>(kosc+1)/2</FONT></TD></TR><TR><TD WIDTH="12%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>kpanr</FONT></TD><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>=</FONT></TD><TD WIDTH="76%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>1-kpanl</FONT></TD></TR><TR><TD WIDTH="12%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>aoutl</FONT></TD><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>=</FONT></TD><TD WIDTH="76%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>asig*kpanl</FONT></TD></TR><TR><TD WIDTH="12%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>aoutr</FONT></TD><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>=</FONT></TD><TD WIDTH="76%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>asig*kpanr</FONT></TD></TR><TR><TD WIDTH="12%" VALIGN="TOP">&nbsp;</TD><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>zaw</FONT></TD><TD WIDTH="76%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>aoutl, izoutl</FONT></TD></TR><TR><TD WIDTH="12%" VALIGN="TOP">&nbsp;</TD><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>zaw</FONT></TD><TD WIDTH="76%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>aoutr, izoutr</FONT></TD></TR><TR><TD WIDTH="12%" VALIGN="TOP">&nbsp;</TD><TD WIDTH="88%" VALIGN="TOP" COLSPAN=3><FONT FACE="Courier New" SIZE=2><P>endin</FONT></TD></TR></TABLE><B><FONT FACE="Geneva" SIZE=1><P>Figure 30.30</B> Orchestra code for <I>instr 3023</I>, an auto-panner.</P></FONT><FONT FACE="Palatino" SIZE=2><P>&nbsp;</P></FONT><P>&nbsp;</P><TABLE CELLSPACING=0 BORDER=0 CELLPADDING=5 WIDTH=478><TR><TD WIDTH="13%" VALIGN="TOP">&nbsp;</TD><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>instr</FONT></TD><TD WIDTH="16%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>3045</FONT></TD><TD WIDTH="58%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>; simple reverb</FONT></TD></TR><TR><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>irvtime</FONT></TD><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>=</FONT></TD><TD WIDTH="73%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>p4</FONT></TD></TR><TR><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>irvfqc</FONT></TD><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>=</FONT></TD><TD WIDTH="73%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>p5</FONT></TD></TR><TR><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>izin</FONT></TD><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>=</FONT></TD><TD WIDTH="73%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>p6</FONT></TD></TR><TR><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>izout</FONT></TD><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>=</FONT></TD><TD WIDTH="73%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>p7</FONT></TD></TR><TR><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>asig</FONT></TD><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>zar</FONT></TD><TD WIDTH="73%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>izin</FONT></TD></TR><TR><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>aout</FONT></TD><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>nreverb</FONT></TD><TD WIDTH="73%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>asig, irvtime, irvfqc</FONT></TD></TR><TR><TD WIDTH="13%" VALIGN="TOP">&nbsp;</TD><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>zaw</FONT></TD><TD WIDTH="73%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>aout/5, izout</FONT></TD></TR><TR><TD WIDTH="13%" VALIGN="TOP">&nbsp;</TD><TD WIDTH="87%" VALIGN="TOP" COLSPAN=3><FONT FACE="Courier New" SIZE=2><P>endin</FONT></TD></TR></TABLE><B><FONT FACE="Geneva" SIZE=1><P>Figure 30.31</B> Orchestra code for <I>instr 3045, </I>a simple reverb instrument.</P></FONT></BODY></HTML>