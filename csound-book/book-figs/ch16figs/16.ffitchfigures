<HTML><HEAD><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1"><META NAME="Generator" CONTENT="Microsoft Word 97/98"><TITLE>16_A Look at Random Numbers, Noise and Chaos with Csound (figures)</TITLE></HEAD><BODY><DIR><DIR><B><FONT SIZE=5><P>16&#9;A Look at Random Numbers, Noise and Chaos with Csound (figures)</P></B></FONT></DIR></DIR><B><FONT SIZE=5><P>John ffitch</P></B></FONT><I><P>1/(xmax-xmin)</P></I><FONT FACE="Times" SIZE=2><P><IMG SRC="Image1.gif" WIDTH=166 HEIGHT=63></P></FONT><B><FONT FACE="Geneva" SIZE=1><P>Figure 16.1</B> Uniform Distribution.</P></FONT><FONT FACE="Palatino" SIZE=2><P>&nbsp;</P></FONT><P>&nbsp;</P><FONT SIZE=2><P><IMG SRC="Image2.gif" WIDTH=104 HEIGHT=71></P></FONT><B><FONT FACE="Geneva" SIZE=1><P>Figure 16.2</B> Block diagram of <I>instr 1601</I>, a subtractive synthesizer using white noise as input.</P></FONT><P>&nbsp;</P><P>&nbsp;</P><TABLE CELLSPACING=0 BORDER=0 CELLPADDING=5 WIDTH=477><TR><TD WIDTH="9%" VALIGN="TOP">&nbsp;</TD><TD WIDTH="15%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>instr</FONT></TD><TD WIDTH="15%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>1601</FONT></TD><TD WIDTH="61%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>; filtered noise WITH &quot;declicking&quot; envelope</FONT></TD></TR><TR><TD WIDTH="9%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>kband</FONT></TD><TD WIDTH="15%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>line</FONT></TD><TD WIDTH="76%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>p5, p3, p6</FONT></TD></TR><TR><TD WIDTH="9%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>aenv</FONT></TD><TD WIDTH="15%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>linseg</FONT></TD><TD WIDTH="76%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>0, p3*.01, 1, p3*.8, .6, p3*.1, 0</FONT></TD></TR><TR><TD WIDTH="9%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>a1</FONT></TD><TD WIDTH="15%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>rand</FONT></TD><TD WIDTH="76%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>p4</FONT></TD></TR><TR><TD WIDTH="9%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>abp</FONT></TD><TD WIDTH="15%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>butterbp</FONT></TD><TD WIDTH="76%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>a1, 333, kband</FONT></TD></TR><TR><TD WIDTH="9%" VALIGN="TOP">&nbsp;</TD><TD WIDTH="15%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>out</FONT></TD><TD WIDTH="76%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>abp*aenv</FONT></TD></TR><TR><TD WIDTH="9%" VALIGN="TOP">&nbsp;</TD><TD WIDTH="91%" VALIGN="TOP" COLSPAN=3><FONT FACE="Courier New" SIZE=2><P>endin<I> </I></FONT></TD></TR></TABLE><B><FONT FACE="Geneva" SIZE=1><P>Figure 16.3</B> Orchestra code for <I>instr 1601</I>, filtered noise with a &quot;de-clicking&quot; envelope.</P></FONT><FONT FACE="Palatino" SIZE=2><P>&nbsp;</P></FONT><P>&nbsp;</P><FONT FACE="Times" SIZE=2><P><IMG SRC="Image3.gif" WIDTH=104 HEIGHT=79></P></FONT><B><FONT FACE="Geneva" SIZE=1><P>Figure 16.4</B> Gaussian Distribution</P></FONT><FONT FACE="Palatino" SIZE=2><P>&nbsp;</P></FONT><P>&nbsp;</P><FONT FACE="Palatino" SIZE=2><P><IMG SRC="Image4.gif" WIDTH=137 HEIGHT=159></P></FONT><B><FONT FACE="Geneva" SIZE=1><P>Figure 16.5</B> Block diagram of <I>instr 1602</I>, a chorusing instrument with Guassian &quot;blur.&quot;</P></FONT><FONT FACE="Palatino" SIZE=2><P>&nbsp;</P></FONT><P>&nbsp;</P><TABLE CELLSPACING=0 BORDER=0 CELLPADDING=5 WIDTH=473><TR><TD WIDTH="9%" VALIGN="TOP">&nbsp;</TD><TD WIDTH="15%" VALIGN="TOP" COLSPAN=4><FONT FACE="Courier New" SIZE=2><P>instr</FONT></TD><TD WIDTH="15%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>1602</FONT></TD><TD WIDTH="61%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>; additive WITH &quot;gaussian&quot; freqUENCY deviation</FONT></TD></TR><TR><TD WIDTH="9%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>k1</FONT></TD><TD WIDTH="15%" VALIGN="TOP" COLSPAN=4><FONT FACE="Courier New" SIZE=2><P>gauss</FONT></TD><TD WIDTH="76%" VALIGN="TOP" COLSPAN=4><FONT FACE="Courier New" SIZE=2><P>p5</FONT></TD></TR><TR><TD WIDTH="9%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>k2</FONT></TD><TD WIDTH="15%" VALIGN="TOP" COLSPAN=4><FONT FACE="Courier New" SIZE=2><P>gauss</FONT></TD><TD WIDTH="76%" VALIGN="TOP" COLSPAN=4><FONT FACE="Courier New" SIZE=2><P>p6</FONT></TD></TR><TR><TD WIDTH="9%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>a1</FONT></TD><TD WIDTH="15%" VALIGN="TOP" COLSPAN=4><FONT FACE="Courier New" SIZE=2><P>oscili</FONT></TD><TD WIDTH="76%" VALIGN="TOP" COLSPAN=4><FONT FACE="Courier New" SIZE=2><P>p4/2, 333, 1</FONT></TD></TR><TR><TD WIDTH="9%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>a2</FONT></TD><TD WIDTH="15%" VALIGN="TOP" COLSPAN=4><FONT FACE="Courier New" SIZE=2><P>oscili</FONT></TD><TD WIDTH="76%" VALIGN="TOP" COLSPAN=4><FONT FACE="Courier New" SIZE=2><P>p4/2, 333+k1, 1</FONT></TD></TR><TR><TD WIDTH="9%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>a3</FONT></TD><TD WIDTH="15%" VALIGN="TOP" COLSPAN=4><FONT FACE="Courier New" SIZE=2><P>oscili</FONT></TD><TD WIDTH="76%" VALIGN="TOP" COLSPAN=4><FONT FACE="Courier New" SIZE=2><P>p4/2, 333+k2, 1</FONT></TD></TR><TR><TD WIDTH="9%" VALIGN="TOP">&nbsp;</TD><TD WIDTH="15%" VALIGN="TOP" COLSPAN=4><FONT FACE="Courier New" SIZE=2><P>outs</FONT></TD><TD WIDTH="76%" VALIGN="TOP" COLSPAN=4><FONT FACE="Courier New" SIZE=2><P>a1+a2, a1+a3</FONT></TD></TR><TR><TD WIDTH="9%" VALIGN="TOP">&nbsp;</TD><TD WIDTH="91%" VALIGN="TOP" COLSPAN=8><FONT FACE="Courier New" SIZE=2><P>endin</FONT></TD></TR><TR><TD VALIGN="TOP" COLSPAN=9>&nbsp;</TD></TR><TR><TD WIDTH="12%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>f 1</FONT></TD><TD WIDTH="4%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>0</FONT></TD><TD WIDTH="8%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>8192</FONT></TD><TD WIDTH="10%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>10</FONT></TD><TD WIDTH="67%" VALIGN="TOP" COLSPAN=3><FONT FACE="Courier New" SIZE=2><P>1</FONT></TD></TR><TR><TD VALIGN="TOP" COLSPAN=9>&nbsp;</TD></TR><TR><TD WIDTH="12%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>i 1602</FONT></TD><TD WIDTH="4%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>0</FONT></TD><TD WIDTH="8%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>2</FONT></TD><TD WIDTH="10%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>10000</FONT></TD><TD WIDTH="7%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>33</FONT></TD><TD WIDTH="60%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>33</FONT></TD></TR><TR><TD WIDTH="12%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>i 1602</FONT></TD><TD WIDTH="4%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>+</FONT></TD><TD WIDTH="8%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>.</FONT></TD><TD WIDTH="10%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>15000</FONT></TD><TD WIDTH="7%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>33</FONT></TD><TD WIDTH="60%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>33</FONT></TD></TR><TR><TD WIDTH="12%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>i 1602</FONT></TD><TD WIDTH="4%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>+</FONT></TD><TD WIDTH="8%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>.</FONT></TD><TD WIDTH="10%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>20000</FONT></TD><TD WIDTH="7%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>33</FONT></TD><TD WIDTH="60%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>33</FONT></TD></TR></TABLE><B><FONT FACE="Geneva" SIZE=1><P>Figure 16.6</B> Orchestra and score code for <I>instr 1602</I>, an additive instrument with chorusing featuring Gaussian deviation of center frequency around 333 Hz.</P></FONT><FONT FACE="Palatino" SIZE=2><P>&nbsp;</P></FONT><P>&nbsp;</P><FONT FACE="Times" SIZE=2><P><IMG SRC="Image5.gif" WIDTH=104 HEIGHT=79></P></FONT><B><FONT FACE="Geneva" SIZE=1><P>Figure 16.7</B> Exponential distribution</P></FONT><FONT FACE="Palatino" SIZE=2><P>&nbsp;</P></FONT><P>&nbsp;</P><FONT FACE="Times" SIZE=2><P><IMG SRC="Image6.gif" WIDTH=104 HEIGHT=79></P></FONT><B><FONT FACE="Geneva" SIZE=1><P>Figure 16.8</B> The Poisson distribution.</P></FONT><FONT FACE="Palatino" SIZE=2><P>&nbsp;</P></FONT><P>&nbsp;</P><FONT FACE="Times" SIZE=2><P><IMG SRC="Image7.gif" WIDTH=104 HEIGHT=79></P></FONT><B><FONT FACE="Geneva" SIZE=1><P>Figure 16.9</B> Triangular Distribution.</P></FONT><FONT FACE="Palatino" SIZE=2><P>&nbsp;</P></FONT><P>&nbsp;</P><FONT FACE="Times" SIZE=2><P><IMG SRC="Image8.gif" WIDTH=117 HEIGHT=88></P></FONT><B><FONT FACE="Geneva" SIZE=1><P>Figure 16.10</B> Cauchy Distribution.</P></FONT><FONT FACE="Palatino" SIZE=2><P>&nbsp;</P></FONT><P>&nbsp;</P><FONT FACE="Times" SIZE=2><P><IMG SRC="Image9.gif" WIDTH=125 HEIGHT=94></P></FONT><B><FONT FACE="Geneva" SIZE=1><P>Figure 16.11</B> Weibull.</P></FONT><FONT FACE="Palatino" SIZE=2><P>&nbsp;</P></FONT><P>&nbsp;</P><FONT FACE="Times" SIZE=2><P><IMG SRC="Image10.gif" WIDTH=108 HEIGHT=82></P></FONT><B><FONT FACE="Geneva" SIZE=1><P>Figure 16.12</B> Beta Distribution (<I>a</I>=0.2, <I>b</I>=0.4)</P></FONT><FONT FACE="Palatino" SIZE=2><P>&nbsp;</P></FONT><P>&nbsp;</P><FONT SIZE=2><P><IMG SRC="Image11.gif" WIDTH=141 HEIGHT=188></P></FONT><B><FONT FACE="Geneva" SIZE=1><P>Figure 16.13</B> Block diagram <I>instr 1603</I>, a basic FM instrument</P></FONT><FONT FACE="Palatino" SIZE=2><P>&nbsp;</P></FONT><P>&nbsp;</P><TABLE CELLSPACING=0 BORDER=0 CELLPADDING=5 WIDTH=477><TR><TD WIDTH="11%" VALIGN="TOP">&nbsp;</TD><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>instr</FONT></TD><TD WIDTH="15%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>1603</FONT></TD><TD WIDTH="61%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>; basic fm &quot;bell&quot;</FONT></TD></TR><TR><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>ifenv</FONT></TD><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>=</FONT></TD><TD WIDTH="33%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>2</FONT></TD><TD WIDTH="44%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>; bell settings: amp and index...</FONT></TD></TR><TR><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>ifdyn</FONT></TD><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>=</FONT></TD><TD WIDTH="33%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>3</FONT></TD><TD WIDTH="44%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>; ...envelopes are exponential</FONT></TD></TR><TR><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>ifq1</FONT></TD><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>=</FONT></TD><TD WIDTH="33%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>cpspch(p5)*5</FONT></TD><TD WIDTH="44%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>; decreasing, N1:N2 is 5:7</FONT></TD></TR><TR><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>if1</FONT></TD><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>=</FONT></TD><TD WIDTH="33%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>1</FONT></TD><TD WIDTH="44%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>; duration = 15 sec</FONT></TD></TR><TR><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>ifq2</FONT></TD><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>=</FONT></TD><TD WIDTH="76%" VALIGN="TOP" COLSPAN=3><FONT FACE="Courier New" SIZE=2><P>cpspch(p5)*7</FONT></TD></TR><TR><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>if2</FONT></TD><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>=</FONT></TD><TD WIDTH="76%" VALIGN="TOP" COLSPAN=3><FONT FACE="Courier New" SIZE=2><P>1</FONT></TD></TR><TR><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>imax</FONT></TD><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>=</FONT></TD><TD WIDTH="76%" VALIGN="TOP" COLSPAN=3><FONT FACE="Courier New" SIZE=2><P>10</FONT></TD></TR><TR><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>aenv</FONT></TD><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>oscili</FONT></TD><TD WIDTH="33%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>p4, 1/p3, ifenv</FONT></TD><TD WIDTH="44%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>; envelope</FONT></TD></TR><TR><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>adyn</FONT></TD><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>oscili</FONT></TD><TD WIDTH="33%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>ifq2*imax, 1/p3, ifdyn</FONT></TD><TD WIDTH="44%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>; dynamic</FONT></TD></TR><TR><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>amod</FONT></TD><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>oscili</FONT></TD><TD WIDTH="33%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>adyn, ifq2, if2</FONT></TD><TD WIDTH="44%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>; modulator</FONT></TD></TR><TR><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>acar</FONT></TD><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>oscili</FONT></TD><TD WIDTH="33%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>aenv, ifq1+amod, if1</FONT></TD><TD WIDTH="44%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>; carrier</FONT></TD></TR><TR><TD WIDTH="11%" VALIGN="TOP">&nbsp;</TD><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>out</FONT></TD><TD WIDTH="76%" VALIGN="TOP" COLSPAN=3><FONT FACE="Courier New" SIZE=2><P>acar</FONT></TD></TR><TR><TD WIDTH="11%" VALIGN="TOP">&nbsp;</TD><TD WIDTH="89%" VALIGN="TOP" COLSPAN=4><FONT FACE="Courier New" SIZE=2><P>endin</FONT></TD></TR></TABLE><B><FONT FACE="Geneva" SIZE=1><P>Figure 16.14</B> Orchestra code for <I>instr 1603</I>, a basic FM &quot;bell&quot; instrument.</P></FONT><FONT FACE="Palatino" SIZE=2><P>&nbsp;</P></FONT><P>&nbsp;</P><FONT FACE="Palatino" SIZE=2><P><IMG SRC="Image12.gif" WIDTH=215 HEIGHT=276></P></FONT><B><FONT FACE="Geneva" SIZE=1><P>Figure 16.15</B> Block diagram of <I>instr 1604</I>, enhanced FM bell instrument with random variation of various parameters.</P></FONT><P>&nbsp;</P><P>&nbsp;</P><TABLE CELLSPACING=0 BORDER=0 CELLPADDING=5 WIDTH=472><TR><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>&nbsp;</P><P>&nbsp;</FONT></TD><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>instr</FONT></TD><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>1604</FONT></TD><TD WIDTH="61%" VALIGN="TOP" COLSPAN=3><FONT FACE="Courier New" SIZE=2><P>; enhanced fm &quot;bell&quot; WITH noise bursts</FONT></TD></TR><TR><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>idur</FONT></TD><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>=</FONT></TD><TD WIDTH="74%" VALIGN="TOP" COLSPAN=4><FONT FACE="Courier New" SIZE=2><P>p3</FONT></TD></TR><TR><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>iamp</FONT></TD><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>=</FONT></TD><TD WIDTH="74%" VALIGN="TOP" COLSPAN=4><FONT FACE="Courier New" SIZE=2><P>p4</FONT></TD></TR><TR><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>ifenv</FONT></TD><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>=</FONT></TD><TD WIDTH="23%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>2</FONT></TD><TD WIDTH="51%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>; bell settings:</FONT></TD></TR><TR><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>ifdyn</FONT></TD><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>=</FONT></TD><TD WIDTH="23%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>3</FONT></TD><TD WIDTH="51%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>; amp and index env are exponential</FONT></TD></TR><TR><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>ifq1</FONT></TD><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>=</FONT></TD><TD WIDTH="23%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>cpsoct(p5)*5</FONT></TD><TD WIDTH="51%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>; decreasing, N1:N2 is 5:7, imax=10</FONT></TD></TR><TR><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>if1</FONT></TD><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>=</FONT></TD><TD WIDTH="23%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>1</FONT></TD><TD WIDTH="51%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>; duration = 15 sec</FONT></TD></TR><TR><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>ifq2</FONT></TD><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>=</FONT></TD><TD WIDTH="74%" VALIGN="TOP" COLSPAN=4><FONT FACE="Courier New" SIZE=2><P>cpsoct(p5)*7</FONT></TD></TR><TR><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>if2</FONT></TD><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>=</FONT></TD><TD WIDTH="74%" VALIGN="TOP" COLSPAN=4><FONT FACE="Courier New" SIZE=2><P>1</FONT></TD></TR><TR><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>imax</FONT></TD><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>=</FONT></TD><TD WIDTH="74%" VALIGN="TOP" COLSPAN=4><FONT FACE="Courier New" SIZE=2><P>10</FONT></TD></TR><TR><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>aenv</FONT></TD><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>oscili</FONT></TD><TD WIDTH="38%" VALIGN="TOP" COLSPAN=3><FONT FACE="Courier New" SIZE=2><P>iamp, 1/idur, ifenv</FONT></TD><TD WIDTH="36%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>; envelope</FONT></TD></TR><TR><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>adyn</FONT></TD><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>oscili</FONT></TD><TD WIDTH="38%" VALIGN="TOP" COLSPAN=3><FONT FACE="Courier New" SIZE=2><P>ifq2*imax, 1/idur, ifdyn</FONT></TD><TD WIDTH="36%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>; dynamic</FONT></TD></TR><TR><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>anoise</FONT></TD><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>rand</FONT></TD><TD WIDTH="74%" VALIGN="TOP" COLSPAN=4><FONT FACE="Courier New" SIZE=2><P>100</FONT></TD></TR><TR><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>amod</FONT></TD><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>oscili</FONT></TD><TD WIDTH="38%" VALIGN="TOP" COLSPAN=3><FONT FACE="Courier New" SIZE=2><P>adyn+anoise, ifq2, if2</FONT></TD><TD WIDTH="36%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>; modulator</FONT></TD></TR><TR><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>acar</FONT></TD><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>oscili</FONT></TD><TD WIDTH="38%" VALIGN="TOP" COLSPAN=3><FONT FACE="Courier New" SIZE=2><P>aenv, ifq1+amod, if1</FONT></TD><TD WIDTH="36%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>; carrier</FONT></TD></TR><TR><TD WIDTH="13%" VALIGN="TOP">&nbsp;</TD><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>timout</FONT></TD><TD WIDTH="74%" VALIGN="TOP" COLSPAN=4><FONT FACE="Courier New" SIZE=2><P>0.1, idur, noisend</FONT></TD></TR><TR><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>knenv</FONT></TD><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>linseg</FONT></TD><TD WIDTH="74%" VALIGN="TOP" COLSPAN=4><FONT FACE="Courier New" SIZE=2><P>iamp, 0.05, iamp, 0.05, 0</FONT></TD></TR><TR><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>anoise3</FONT></TD><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>rand</FONT></TD><TD WIDTH="74%" VALIGN="TOP" COLSPAN=4><FONT FACE="Courier New" SIZE=2><P>knenv</FONT></TD></TR><TR><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>anoise4</FONT></TD><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>butterbp</FONT></TD><TD WIDTH="74%" VALIGN="TOP" COLSPAN=4><FONT FACE="Courier New" SIZE=2><P>anoise3, iamp, 100</FONT></TD></TR><TR><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>anoise5</FONT></TD><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>balance</FONT></TD><TD WIDTH="74%" VALIGN="TOP" COLSPAN=4><FONT FACE="Courier New" SIZE=2><P>anoise4, anoise3</FONT></TD></TR><TR><TD VALIGN="TOP" COLSPAN=6><FONT FACE="Courier New" SIZE=2><P>noisend:</FONT></TD></TR><TR><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>arvb</FONT></TD><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>nreverb</FONT></TD><TD WIDTH="74%" VALIGN="TOP" COLSPAN=4><FONT FACE="Courier New" SIZE=2><P>acar, 2, .1</FONT></TD></TR><TR><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>amix</FONT></TD><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>=</FONT></TD><TD WIDTH="74%" VALIGN="TOP" COLSPAN=4><FONT FACE="Courier New" SIZE=2><P>acar+anoise5+arvb</FONT></TD></TR><TR><TD WIDTH="13%" VALIGN="TOP">&nbsp;</TD><TD WIDTH="13%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>out</FONT></TD><TD WIDTH="74%" VALIGN="TOP" COLSPAN=4><FONT FACE="Courier New" SIZE=2><P>amix</FONT></TD></TR><TR><TD WIDTH="13%" VALIGN="TOP">&nbsp;</TD><TD WIDTH="87%" VALIGN="TOP" COLSPAN=5><FONT FACE="Courier New" SIZE=2><P>endin</FONT></TD></TR></TABLE><B><FONT FACE="Geneva" SIZE=1><P>Figure 16.16</B> Orchestra code for <I>instr 1604</I>, an enhanced FM bell instrument mixed with a filtered noise burst to simulate striker.</P></FONT><P>&nbsp;</P><P>&nbsp;</P><FONT FACE="Courier New" SIZE=2><P>void&#9;pink_seq(int N)</P><P>{</P><P>&#9;float *r = (float*)malloc(N*sizeof(float));</P><P>&#9;int len = 1&lt;&lt;N;</P><P>&#9;float range = 2.0/(float)N;</P><P>&#9;int lastn = len-1;</P><P>&#9;int n;</P><P>&#9;for (n=0; n&lt;len; n++) {</P><P>&#9;float R = 0.0;</P><P>&#9;int i;</P><P>&#9;for (i=0; i&lt;N; i++) {</P><P>&#9;int iup = 1&lt;&lt;i;</P><P>&#9;if ((iup &amp; n) != (iup &amp; lastn))</P><P>&#9;r[i] = ((float)rand()/(float) RAND_MAX - 0.5) * range;</P><P>&#9;R += r[i];</P><P>&#9;}</P><P>&#9;printf("%f\n", R);</P><P>&#9;lastn = n;</P><P>&#9;}</P></FONT><FONT FACE="Courier New"><P>}</P></FONT><B><FONT FACE="Geneva" SIZE=1><P>Figure 16.17</B> Algorithm in C for the generation of &quot;pink&quot; noise.</P></FONT><FONT FACE="Geneva" SIZE=1><P>&nbsp;</P></FONT><P>&nbsp;</P><FONT FACE="Courier New" SIZE=2><P>x =&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;(16.7)</P><P>(1/1048576)e<SUP>4</SUP> a<SUP>9</SUP> cos(9ct)</FONT> </P><FONT FACE="Courier New" SIZE=2><P>-(65/1048576)e<SUP>4</SUP> a<SUP>9</SUP> cos(7ct) </P><P>+(335/262144)e<SUP>4</SUP> a<SUP>9</SUP> cos(5ct)</P><P>-(7797/1048576)e<SUP>4</SUP> a<SUP>9</SUP> cos(3ct) </P><P>-(1/32768)e<SUP>3</SUP> a<SUP>7</SUP> cos(7ct) </P><P>+(43/32768)e<SUP>3</SUP> a<SUP>7</SUP> cos(5ct) </P><P>-(417/32768)e<SUP>3</SUP> a<SUP>7</SUP> cos(3ct) </P><P>+(1/1024)e<SUP>2</SUP> a<SUP>5</SUP> cos(5ct) </P><P>-(21/1024)e<SUP>2</SUP> a<SUP>5</SUP> cos(3ct)</P><P>-(1/32)e a<SUP>3</SUP> cos(3ct) </P><P>+a cos(ct))</P></FONT><B><FONT FACE="Geneva" SIZE=1><P>Figure 16.18</B> Periodic solution of equation 16.6.</P></FONT><FONT FACE="Geneva" SIZE=1><P>&nbsp;</P></FONT><P>&nbsp;</P><TABLE CELLSPACING=0 BORDER=0 CELLPADDING=5 WIDTH=478><TR><TD WIDTH="11%" VALIGN="TOP">&nbsp;</TD><TD WIDTH="12%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>instr</FONT></TD><TD WIDTH="15%" VALIGN="TOP" COLSPAN=3><FONT FACE="Courier New" SIZE=2><P>1605</FONT></TD><TD WIDTH="61%" VALIGN="TOP" COLSPAN=4><FONT FACE="Courier New" SIZE=2><P>; cubic oscillator USING THE Duffing equation</FONT></TD></TR><TR><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>ax</FONT></TD><TD WIDTH="12%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>init</FONT></TD><TD WIDTH="34%" VALIGN="TOP" COLSPAN=6><FONT FACE="Courier New" SIZE=2><P>1</FONT></TD><TD WIDTH="42%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>; Duffings System or...</FONT></TD></TR><TR><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>ay</FONT></TD><TD WIDTH="12%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>init</FONT></TD><TD WIDTH="34%" VALIGN="TOP" COLSPAN=6><FONT FACE="Courier New" SIZE=2><P>0</FONT></TD><TD WIDTH="42%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>; ... cubic oscillator</FONT></TD></TR><TR><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>ke</FONT></TD><TD WIDTH="12%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>init</FONT></TD><TD WIDTH="34%" VALIGN="TOP" COLSPAN=6><FONT FACE="Courier New" SIZE=2><P>p6</FONT></TD><TD WIDTH="42%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>; ax = y</FONT></TD></TR><TR><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>ka</FONT></TD><TD WIDTH="12%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>init</FONT></TD><TD WIDTH="34%" VALIGN="TOP" COLSPAN=6><FONT FACE="Courier New" SIZE=2><P>p7</FONT></TD><TD WIDTH="42%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>; ay = ex^3-ax</FONT></TD></TR><TR><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>kh</FONT></TD><TD WIDTH="12%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>init</FONT></TD><TD WIDTH="76%" VALIGN="TOP" COLSPAN=7><FONT FACE="Courier New" SIZE=2><P>p5</FONT></TD></TR><TR><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>kampenv</FONT></TD><TD WIDTH="12%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>linseg</FONT></TD><TD WIDTH="76%" VALIGN="TOP" COLSPAN=7><FONT FACE="Courier New" SIZE=2><P>0, .01, p4, p3-.02, p4, .01, 0</FONT></TD></TR><TR><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>axnew</FONT></TD><TD WIDTH="12%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>=</FONT></TD><TD WIDTH="76%" VALIGN="TOP" COLSPAN=7><FONT FACE="Courier New" SIZE=2><P>ay</FONT></TD></TR><TR><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>ay</FONT></TD><TD WIDTH="12%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>=</FONT></TD><TD WIDTH="76%" VALIGN="TOP" COLSPAN=7><FONT FACE="Courier New" SIZE=2><P>ay+kh*(ke*ax*ax*ax-ka*ax)</FONT></TD></TR><TR><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>ax</FONT></TD><TD WIDTH="12%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>=</FONT></TD><TD WIDTH="76%" VALIGN="TOP" COLSPAN=7><FONT FACE="Courier New" SIZE=2><P>axnew</FONT></TD></TR><TR><TD WIDTH="11%" VALIGN="TOP">&nbsp;</TD><TD WIDTH="12%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>outs</FONT></TD><TD WIDTH="76%" VALIGN="TOP" COLSPAN=7><FONT FACE="Courier New" SIZE=2><P>kampenv*ax, kampenv*ay</FONT></TD></TR><TR><TD WIDTH="11%" VALIGN="TOP">&nbsp;</TD><TD WIDTH="89%" VALIGN="TOP" COLSPAN=9><FONT FACE="Courier New" SIZE=2><P>endin</FONT></TD></TR><TR><TD VALIGN="TOP" COLSPAN=10>&nbsp;</TD></TR><TR><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>t</FONT></TD><TD WIDTH="7%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>0</FONT></TD><TD WIDTH="82%" VALIGN="TOP" COLSPAN=8><FONT FACE="Courier New" SIZE=2><P>400</FONT></TD></TR><TR><TD VALIGN="TOP" COLSPAN=10>&nbsp;</TD></TR><TR><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>i 1605</FONT></TD><TD WIDTH="7%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>0</FONT></TD><TD WIDTH="8%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>10</FONT></TD><TD WIDTH="10%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>30000</FONT></TD><TD WIDTH="12%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>.01</FONT></TD><TD WIDTH="8%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>.1</FONT></TD><TD WIDTH="45%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>100</FONT></TD></TR><TR><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>i 1605</FONT></TD><TD WIDTH="7%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>+</FONT></TD><TD WIDTH="8%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>10</FONT></TD><TD WIDTH="10%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>30000</FONT></TD><TD WIDTH="12%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>.01</FONT></TD><TD WIDTH="8%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>.3</FONT></TD><TD WIDTH="45%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>100</FONT></TD></TR><TR><TD WIDTH="11%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>i 1605</FONT></TD><TD WIDTH="7%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>+</FONT></TD><TD WIDTH="8%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>10</FONT></TD><TD WIDTH="10%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>30000</FONT></TD><TD WIDTH="12%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>.01</FONT></TD><TD WIDTH="8%" VALIGN="TOP"><FONT FACE="Courier New" SIZE=2><P>.6</FONT></TD><TD WIDTH="45%" VALIGN="TOP" COLSPAN=2><FONT FACE="Courier New" SIZE=2><P>100</FONT></TD></TR></TABLE><B><FONT FACE="Geneva" SIZE=1><P>Figure 16.19</B> Orchestra and score code for <I>instr 1605</I>, a cubic oscillator instrument via the Duffing equation.</P></FONT></BODY></HTML>