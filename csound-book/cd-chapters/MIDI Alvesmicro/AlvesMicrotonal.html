<html>	<head>		<meta http-equiv="content-type" content="text/html;charset=iso-8859-1">		<meta name="generator" content="Adobe GoLive 4">		<title>Using Alternate Tunings inCsound</title>	</head>	<body bgcolor="white">		<h1><b>2. Csound-based Microtonal Synthesis and Control with MIDI</b></h1>		<h2>Bill Alves</h2>		<p>Even in the recent past, making music with alternate tuning systems was not for the faint of heart. The imposition of the twelve-tone equal temperament standard in the West meant that alternate-tuning pioneers like Harry Partch had to tune or even build their own instruments. Nevertheless, in recognition of the small but growing group of alternate-tuning musicians, some manufacturers added re-tuning features to early MIDI instruments. While this capability was a great leap forward for those of us with limited carpentry skills, MIDI instruments still had significant tuning limitations.</p>		<p>Only in a software-based system such as Csound is the full palette of possible pitch systems available to the composer. Csound not only removes the practical necessity for compromises inherent in most tuning systems, it also allows the tuning explorer to chart new potentials previously unavailable for practical music-making. This chapter will provide an introduction to the techniques used for a variety of types of alternate tunings in Csound.</p>		<p><font size="4"><b>Pitch Specification and Resolution in Csound</b></font></p>		<p>Csound provides three different methods for pitch specification: <i>cps</i> (frequency in Hertz, required by most functions), <i>pch</i> (a twelve-tone equal temperament specification with microtones in cents) and <i>oct</i> (a specification with decimal divisions of the octave). The <i>pch</i> specification is most commonly used in score files to specify pitches. The number to the left of the decimal point represents the octave, with 8 being the octave beginning on middle C. The two digits immediately to the right of the decimal point represent the pitch class, that is, the key number within the octave for a standard piano keyboard, beginning with C=00.</p>		<p>Thus 8.00 is middle C, 8.01 is C# or Db, and so on, up to 8.11 which is B. 8.12 is equivalent to 9.00, or C of the next octave. The next two decimal points represent cents, that is, hundredths of equally-tempered semitones. Thus 8.0050 is a pitch halfway between C and C#, or 50 cents (a quarter-tone) sharp of C. In the <i>oct</i> format, the numbers to the left of the decimal point, again, represent the octave, but the numbers to the right of the decimal point represent decimal divisions of the octave. Therefore, 8.06 (F#) in <i>pch</i> notation is equivalent to 8.50 (halfway between the C of octave 8 and the C of octave 9) in <i>oct</i> notation.</p>		<p>Csound provides six functions to convert between these specifications: <b>cpspch</b> (convert from pch to <i>cps</i> in twelve-tone equal temperament), <b>cpsoct</b> (convert from oct to <i>cps</i>), <b>pchoct</b> (convert from <i>oct</i> to <i>pch</i>), <b>pchcps</b> (convert from <i>cps</i> to <i>pch</i>),<b>octcps</b> (convert from <i>cps</i> to <i>oct</i>), and <b>octpch</b> (convert from <i>pch</i> to <i>oct</i>).</p>		<p>While pitches in a score may be specified directly with <i>cps</i>, few musicians think in such terms. For composers who use twelve-tone equal temperament (12TET), or who know their pitches relationship to 12TET, <i>pch</i> notation can be useful. For example, a quarter-tone scale could be rendered: 8.000, 8.005, 8.010, 8.015, 8.020, 8.025, and so on. However, many composers in alternate tunings have no desire to express themselves in relation to the 12TET reference.</p>		<p>The <i>oct</i> specification would be mainly useful in equal temperaments easily represented in decimal format, such as 10TET or 100TET. John Fitch's <i>Drums and Different Canons #1</i> is a work in 100TET that uses <i>oct</i> format for all pitches. The complete orchestra and score for this piece is available on the CD-ROM accompanying this book.</p>		<p>Pitch resolution in Csound is generally very good (especially in comparison to most MIDI instruments), though the frequency output of analysis programs such as <b>hetro </b>and <b>pvanal</b> may be coarse. Frequencies in <i>cps</i> format are represented by floating point variables in Csound, which on most systems means that the difference between 20 Hz and the next highest representable frequency is only about 0.00021cents.</p>		<p><font size="4"><b>Frequency Tables</b></font></p>		<p>Many MIDI manufacturers allow the specification of a &quot;tuning table,&quot; which is a specification of frequencies for each of the twelve MIDI pitches peroctave, though some instruments allow the user to specify a tuning across the entire gamut of MIDI pitches. Tuning tables in Csound offer simplicity and efficiency, and unlike most MIDI instrument tuning tables, they need not be limited to 12 pitches per octave.</p>		<p>Let us say, taking a simple case, that one has a series of twelve or fewer frequencies that you would simply like to use instead of the standard equaltempered versions. In this example, I have chosen a tuning of an African <i>mbira</i> player, John Kunaka, published in Berliner (1981). (Actually these mbira tunings do not stay constant in different octaves, but we will use only the central octave for now.) With the help of the <b>int</b> function (which returns the integer part of the argument) and <b>frac</b> function (which returns thefractional part of the argument), you can essentially have your own replacement for <b>cpspch</b> conversion. In the score file, the <i>mbira</i> tunings for the central octave in Hz are stored in a <i>f-table</i>. Those pitches not found on the <i>mbira</i> (shown by asterisks in the comments) have been arbitrarily filled in:</p>		<p>		<table cellspacing="0" border="0" width="491">			<tr>				<td width="11%" valign="top">; table#</td>				<td width="6%" valign="top">time</td>				<td width="6%" valign="top">size</td>				<td width="5%" valign="top">fn</td>				<td width="5%" valign="top">C</td>				<td width="6%" valign="top">C#*</td>				<td width="6%" valign="top">D</td>				<td width="6%" valign="top">EB</td>				<td width="5%" valign="top">E*</td>				<td width="6%" valign="top">F</td>				<td width="6%" valign="top">F#*</td>				<td width="5%" valign="top">G</td>				<td width="6%" valign="top">Ab</td>				<td width="6%" valign="top">A*</td>				<td valign="top" colspan="2">Bb</td>				<td width="6%" valign="top">B*</td>			</tr>			<tr>				<td width="11%" valign="top">f 1</td>				<td width="6%" valign="top">0</td>				<td width="6%" valign="top">16</td>				<td width="5%" valign="top">-2</td>				<td width="5%" valign="top">269</td>				<td width="6%" valign="top">287</td>				<td width="6%" valign="top">291</td>				<td width="6%" valign="top">313</td>				<td width="5%" valign="top">336</td>				<td width="6%" valign="top">353</td>				<td width="6%" valign="top">380</td>				<td width="5%" valign="top">392</td>				<td width="6%" valign="top">431</td>				<td width="6%" valign="top">448</td>				<td width="6%" valign="top">469</td>				<td valign="top" colspan="2">504</td>			</tr>		</table>		</p>		<p>A sample arpeggio:</p>		<p>		<table cellspacing="0" border="0" width="477">			<tr>				<td width="13%" valign="top">; instr</td>				<td width="10%" valign="top">start</td>				<td width="8%" valign="top">dur</td>				<td width="11%" valign="top">amp</td>				<td valign="top" colspan="2">pitch</td>			</tr>			<tr>				<td width="13%" valign="top">i 2201</td>				<td width="10%" valign="top">0</td>				<td width="8%" valign="top">0.5</td>				<td width="11%" valign="top">1</td>				<td width="10%" valign="top">8.00</td>				<td width="47%" valign="top">; 269 Hz</td>			</tr>			<tr>				<td width="13%" valign="top">i 2201</td>				<td width="10%" valign="top">+</td>				<td width="8%" valign="top">.</td>				<td width="11%" valign="top">.</td>				<td width="10%" valign="top">8.03</td>				<td width="47%" valign="top">; 313 Hz</td>			</tr>			<tr>				<td width="13%" valign="top">i 2201</td>				<td width="10%" valign="top">+</td>				<td width="8%" valign="top">.</td>				<td width="11%" valign="top">.</td>				<td width="10%" valign="top">8.07</td>				<td width="47%" valign="top">; 392 Hz</td>			</tr>			<tr>				<td width="13%" valign="top">i 2201</td>				<td width="10%" valign="top">+</td>				<td width="8%" valign="top">.</td>				<td width="11%" valign="top">.</td>				<td width="10%" valign="top">9.00</td>				<td width="47%" valign="top">; 538 Hz (don't use 8.12!)</td>			</tr>		</table>		</p>		<p>(Notice that, though we are only using12 spaces in the <i>f-table</i>, its length still must be a power of two. The GEN2<b> </b>function must be negative to inhibit rescaling). Then in the .orc file, the following init-time conversion would be used for each of the instruments:</p>		<p><img src="Image1.gif" width="280" height="286"></p>		<p><font face="Geneva" size="1"><b>Figure 22.1</b> Block diagram of init-time conversion algoritm to index into a tuning table and return appropriate grequency ratio.</font></p>		<p><font face="Palatino">&nbsp;</font></p>		<p>		<table cellspacing="0" border="0" width="477">			<tr>				<td width="17%" valign="top">&nbsp;</td>				<td width="10%" valign="top">instr</td>				<td width="20%" valign="top">2201</td>				<td width="53%" valign="top">&nbsp;</td>			</tr>			<tr>				<td width="17%" valign="top">ioct</td>				<td width="10%" valign="top">=</td>				<td width="20%" valign="top">int(p5)</td>				<td width="53%" valign="top">;returns the octave part of the pitch #</td>			</tr>			<tr>				<td width="17%" valign="top">ipchclass</td>				<td width="10%" valign="top">=</td>				<td width="20%" valign="top">100*frac(p5)</td>				<td width="53%" valign="top">;returns the pitch class number (0-11)</td>			</tr>			<tr>				<td width="17%" valign="top">ipch</td>				<td width="10%" valign="top">itable</td>				<td width="20%" valign="top">ipchclass, 1</td>				<td width="53%" valign="top">;any fraction left will be truncated</td>			</tr>			<tr>				<td width="17%" valign="top">ioctfact</td>				<td width="10%" valign="top">ipow</td>				<td width="20%" valign="top">2, ioct-8</td>				<td width="53%" valign="top">;the 8th octave is in the table</td>			</tr>			<tr>				<td width="17%" valign="top">ifreq</td>				<td width="10%" valign="top">=</td>				<td width="20%" valign="top">ipch*ioctfact</td>				<td width="53%" valign="top">;each octave is a power of two</td>			</tr>			<tr>				<td width="17%" valign="top">&nbsp;</td>				<td width="10%" valign="top">...</td>				<td width="20%" valign="top">&nbsp;</td>				<td width="53%" valign="top">;go on to use ifreq as normal</td>			</tr>		</table>		</p>		<p><font face="Geneva" size="1"><b>Figure 22.2</b> Orchestra code excerpt from <i>instr 2201</i> which uses a tuning table and a <b>pow</b> function to replace the <b>cpspch</b> conversion with alternate tuning.</font></p>		<p>There is nothing here restricting the use of only twelve pitch classes per octave. In the above example one may use up to 100 pitches per octave, though the size of the f-table would have to be adjusted.</p>		<p>It is also possible to use the same technique over several octaves. In the following example, I have used the data collected by Surjodiningrat et Al (1969) on the tuning of the Javanese gamelan Kyahi Kanyutmesem of the Mangkunegaran Palace in Surakarta. I have assigned the data so that the slendro (five-tone) tuning appears on the five black keys and the pelog (seven-tone) tuning appears on the seven white keys (a few pitches not present in the gamelan have been filled in with octave equivalents):</p>		<p>Tuning table for gamelan:</p>		<p>		<table cellspacing="0" border="0" width="513">			<tr>				<td width="6%" valign="top">f 1</td>				<td width="7%" valign="top">0</td>				<td width="7%" valign="top">64</td>				<td width="7%" valign="top">-2</td>				<td width="7%" valign="top">59</td>				<td width="7%" valign="top">62</td>				<td width="7%" valign="top">62</td>				<td width="7%" valign="top">73</td>				<td width="7%" valign="top">73</td>				<td width="7%" valign="top">80</td>				<td width="9%" valign="top">84</td>				<td width="8%" valign="top">86</td>				<td width="7%" valign="top">93</td>				<td width="8%" valign="top">102</td>			</tr>			<tr>				<td width="6%" valign="top">&nbsp;</td>				<td width="7%" valign="top">109</td>				<td width="7%" valign="top">110</td>				<td width="7%" valign="top">118</td>				<td width="7%" valign="top">126</td>				<td width="7%" valign="top">128</td>				<td width="7%" valign="top">146</td>				<td width="7%" valign="top">145</td>				<td width="7%" valign="top">159</td>				<td width="7%" valign="top">167</td>				<td width="9%" valign="top">172</td>				<td width="8%" valign="top">189</td>				<td width="7%" valign="top">204</td>				<td width="8%" valign="top">219</td>			</tr>			<tr>				<td width="6%" valign="top">&nbsp;</td>				<td width="7%" valign="top">220</td>				<td width="7%" valign="top">234</td>				<td width="7%" valign="top">248</td>				<td width="7%" valign="top">257</td>				<td width="7%" valign="top">287</td>				<td width="7%" valign="top">294</td>				<td width="7%" valign="top">321</td>				<td width="7%" valign="top">332</td>				<td width="7%" valign="top">348</td>				<td width="9%" valign="top">381</td>				<td width="8%" valign="top">406</td>				<td width="7%" valign="top">437</td>				<td width="8%" valign="top">439</td>			</tr>			<tr>				<td width="6%" valign="top">&nbsp;</td>				<td width="7%" valign="top">471</td>				<td width="7%" valign="top">501</td>				<td width="7%" valign="top">519</td>				<td width="7%" valign="top">580</td>				<td width="7%" valign="top">597</td>				<td width="7%" valign="top">641</td>				<td width="7%" valign="top">671</td>				<td width="7%" valign="top">698</td>				<td width="7%" valign="top">778</td>				<td width="9%" valign="top">817</td>				<td width="8%" valign="top">898</td>				<td width="7%" valign="top">886</td>				<td width="8%" valign="top">946</td>			</tr>			<tr>				<td width="6%" valign="top">&nbsp;</td>				<td width="7%" valign="top">1040</td>				<td width="7%" valign="top">1041</td>				<td width="7%" valign="top">1202</td>				<td width="7%" valign="top">1224</td>				<td width="7%" valign="top">1318</td>				<td width="7%" valign="top">1388</td>				<td width="7%" valign="top">1432</td>				<td width="7%" valign="top">1604</td>				<td width="7%" valign="top">1656</td>				<td width="9%" valign="top">1824</td>				<td width="8%" valign="top">1820</td>				<td width="7%" valign="top">1935</td>				<td width="8%" valign="top">2134</td>			</tr>			<tr>				<td width="6%" valign="top">&nbsp;</td>				<td valign="top" colspan="13">2142</td>			</tr>		</table>		</p>		<p><font face="Geneva" size="1"><b>Figure 22.3</b> Tuning table for the Gamelan.</font></p>		<p><img src="Image2.gif" width="235" height="272" align="LEFT" hspace="9"><br>		<br>		<br>		<br>		<br>		<br>		<br>		<br>		<br>		<br>		<br>		<br>		<br>		<br>		<br>		<br>		<br>		<br>		<br>		<br>		<br>		<br>		<br>		<br>		<font face="Geneva" size="1"><b>Figure 22.4</b> Block diagram of init-time conversion algorithm in which black keys map to the 5 tone &quot;Slendro&quot; tuning and the white keys map to the 7 tone &quot;Pelog&quot; tuning.</font></p>		<p><font face="Times">&nbsp;</font></p>		<p>		<table cellspacing="0" border="0" width="473">			<tr>				<td width="15%" valign="top">&nbsp;</td>				<td width="10%" valign="top">instr</td>				<td width="31%" valign="top">2202</td>				<td width="43%" valign="top">&nbsp;</td>			</tr>			<tr>				<td width="15%" valign="top">ioct</td>				<td width="10%" valign="top">=</td>				<td width="31%" valign="top">int(p5)</td>				<td width="43%" valign="top">;returns the octave</td>			</tr>			<tr>				<td width="15%" valign="top">ipchclass</td>				<td width="10%" valign="top">=</td>				<td width="31%" valign="top">100*frac(p5)</td>				<td width="43%" valign="top">;returns the pitch class number</td>			</tr>			<tr>				<td width="15%" valign="top">ilookup</td>				<td width="10%" valign="top">=</td>				<td width="31%" valign="top">12*(ioct-6)+ipchclass</td>				<td width="43%" valign="top">;octaves below 6 are not valid</td>			</tr>			<tr>				<td width="15%" valign="top">ifreq</td>				<td width="10%" valign="top">itable</td>				<td width="31%" valign="top">ilookup, 1</td>				<td width="43%" valign="top">;tuning table is fn table #1</td>			</tr>			<tr>				<td width="15%" valign="top">&nbsp;</td>				<td width="10%" valign="top">...</td>				<td width="31%" valign="top">&nbsp;</td>				<td width="43%" valign="top">;go on to use ifreq as normal</td>			</tr>		</table>		</p>		<p><font face="Geneva" size="1"><b>Figure 22.5</b> Orchestra code excerpt from <i>instr 2202</i>, which maps two tunings to black and white keys.</font></p>		<p>This simple example only works with pitches between 6.00 and 11.01. With some more work, it would be possible to return octave equivalents when the pitches fall outside of this range.</p>		<p><font size="4"><b>Csound and Non-12 Equal Temperaments</b></font></p>		<p>While it is possible to use frequency tables to reproduce virtually any tuning, it mainly makes sense when, as in the above examples, you wish to reproduce an empirical tuning. When, as in many tuning systems, the frequencies may be generated mathematically, why not let the computer do the work for you ?</p>		<p>One common class of tuning systems is equal temperament, where the interval between adjacent pitches is always the same. Most of the time, it is assumed that a whole number of pitches will fit in an octave, though this need not be the case. Nevertheless, when one speaks of 12-tone equal temperament (12TET) or 19-tone equal temperament (19TET), that means the octave is divided evenly into 12 or 19 tones.</p>		<p>Say we want to implement a pitch format similar to <i>pch</i> representation, but where the tenths and hundredths digits range from 00 to 47, to 48-tone equal temperament (eighths oftones). Here is one way conversion might be accomplished in Csound;</p>		<p>		<table cellspacing="0" border="0" width="477">			<tr>				<td width="14%" valign="top">&nbsp;</td>				<td width="8%" valign="top">instr</td>				<td valign="top" colspan="2">2203</td>			</tr>			<tr>				<td width="14%" valign="top">ioct</td>				<td width="8%" valign="top">=</td>				<td width="34%" valign="top">int(p5)</td>				<td width="43%" valign="top">; the octave</td>			</tr>			<tr>				<td width="14%" valign="top">ipchclass</td>				<td width="8%" valign="top">=</td>				<td width="34%" valign="top">100*frac(p5)</td>				<td width="43%" valign="top">; the pitch class # (0-47)</td>			</tr>			<tr>				<td width="14%" valign="top">ifreq</td>				<td width="8%" valign="top">=</td>				<td width="34%" valign="top">cpsoct(ioct+ipchclass/48)</td>				<td width="43%" valign="top">; covert it to oct format</td>			</tr>			<tr>				<td width="14%" valign="top">&nbsp;</td>				<td width="8%" valign="top">...</td>				<td width="34%" valign="top">&nbsp;</td>				<td width="43%" valign="top">; go on to use ifreq as normal</td>			</tr>		</table>		</p>		<p>The same translation can also be effected with the <b>cps2pch</b> opcode:</p>		<p><font face="Times">&nbsp;</font></p>		<p>		<table cellspacing="0" border="0" width="473">			<tr>				<td width="14%" valign="top">&nbsp;</td>				<td width="15%" valign="top">instr</td>				<td width="28%" valign="top">2204</td>				<td width="43%" valign="top">&nbsp;</td>			</tr>			<tr>				<td width="14%" valign="top">ifreq</td>				<td width="15%" valign="top">cps2pch</td>				<td width="28%" valign="top">p5, 48</td>				<td width="43%" valign="top">; 48 = # of pitches per octave</td>			</tr>			<tr>				<td width="14%" valign="top">&nbsp;</td>				<td width="15%" valign="top">...</td>				<td width="28%" valign="top">&nbsp;</td>				<td width="43%" valign="top">; go on to use ifreq as normal</td>			</tr>		</table>		</p>		<p>The specification of pitch this way translates very nicely from the notation used by some composers, notably Julian Carillo. He notated pitches as numbers of scale steps within an octave, as in the following example from his <i>Preludio a Colon</i>:</p>		<p><font face="Times">&nbsp;</font></p>		<p>		<table cellspacing="0" border="0" width="477">			<tr>				<td valign="top" colspan="5">; Measure 1</td>			</tr>			<tr>				<td width="15%" valign="top">; instr</td>				<td width="8%" valign="top">start</td>				<td width="8%" valign="top">dur</td>				<td width="8%" valign="top">amp</td>				<td width="59%" valign="top">pitch</td>			</tr>			<tr>				<td width="15%" valign="top">i 2205</td>				<td width="8%" valign="top">0</td>				<td width="8%" valign="top">0.5</td>				<td width="8%" valign="top">0.2</td>				<td width="59%" valign="top">7.32</td>			</tr>			<tr>				<td width="15%" valign="top">i 2205</td>				<td width="8%" valign="top">+</td>				<td width="8%" valign="top">.</td>				<td width="8%" valign="top">0.3</td>				<td width="59%" valign="top">7.34</td>			</tr>			<tr>				<td width="15%" valign="top">i 2205</td>				<td width="8%" valign="top">+</td>				<td width="8%" valign="top">.</td>				<td width="8%" valign="top">0.4</td>				<td width="59%" valign="top">7.36</td>			</tr>			<tr>				<td width="15%" valign="top">i 2205</td>				<td width="8%" valign="top">+</td>				<td width="8%" valign="top">.</td>				<td width="8%" valign="top">0.5</td>				<td width="59%" valign="top">7.38</td>			</tr>			<tr>				<td width="15%" valign="top">i 2205</td>				<td width="8%" valign="top">+</td>				<td width="8%" valign="top">.</td>				<td width="8%" valign="top">0.4</td>				<td width="59%" valign="top">7.36</td>			</tr>			<tr>				<td width="15%" valign="top">i 2205</td>				<td width="8%" valign="top">+</td>				<td width="8%" valign="top">.</td>				<td width="8%" valign="top">0.3</td>				<td width="59%" valign="top">7.34</td>			</tr>			<tr>				<td valign="top" colspan="5">; Measure 2</td>			</tr>			<tr>				<td width="15%" valign="top">i 2205</td>				<td width="8%" valign="top">+</td>				<td width="8%" valign="top">.</td>				<td width="8%" valign="top">0.2</td>				<td width="59%" valign="top">7.32</td>			</tr>			<tr>				<td width="15%" valign="top">i 2205</td>				<td width="8%" valign="top">+</td>				<td width="8%" valign="top">.</td>				<td width="8%" valign="top">0.3</td>				<td width="59%" valign="top">7.34</td>			</tr>			<tr>				<td width="15%" valign="top">i 2205</td>				<td width="8%" valign="top">+</td>				<td width="8%" valign="top">.</td>				<td width="8%" valign="top">0.4</td>				<td width="59%" valign="top">7.36</td>			</tr>			<tr>				<td width="15%" valign="top">i 2205</td>				<td width="8%" valign="top">+</td>				<td width="8%" valign="top">.</td>				<td width="8%" valign="top">0.5</td>				<td width="59%" valign="top">7.38</td>			</tr>			<tr>				<td width="15%" valign="top">i 2205</td>				<td width="8%" valign="top">+</td>				<td width="8%" valign="top">.</td>				<td width="8%" valign="top">0.4</td>				<td width="59%" valign="top">7.36</td>			</tr>			<tr>				<td width="15%" valign="top">i 2205</td>				<td width="8%" valign="top">+</td>				<td width="8%" valign="top">.</td>				<td width="8%" valign="top">0.3</td>				<td width="59%" valign="top">7.34</td>			</tr>			<tr>				<td valign="top" colspan="5">; Measure 3</td>			</tr>			<tr>				<td width="15%" valign="top">i 2205</td>				<td width="8%" valign="top">+</td>				<td width="8%" valign="top">.</td>				<td width="8%" valign="top">0.2</td>				<td width="59%" valign="top">7.32</td>			</tr>			<tr>				<td width="15%" valign="top">i 2206</td>				<td width="8%" valign="top">7.5</td>				<td width="8%" valign="top">2.167</td>				<td width="8%" valign="top">0.5</td>				<td width="59%" valign="top">9.32</td>			</tr>			<tr>				<td width="15%" valign="top">i 2207</td>				<td width="8%" valign="top">7.5</td>				<td width="8%" valign="top">12</td>				<td width="8%" valign="top">0.5</td>				<td width="59%" valign="top">8.32</td>			</tr>		</table>		</p>		<p><font face="Geneva" size="1"><b>Figure 22.6 </b>Score file excerpt of the music of Julian Carillo in which uses a 48-tone equal tempered scale.</font></p>		<p><font size="4">Multiplier Tables</font></p>		<p>In the <b>cps2pch</b> opcode shown above, if the second parameter is negative, then its absolute value is the number of a table that is used for the frequency multipliers. This use of a <i>f-table</i> is different from the examples in section 2, where the table stored the actual frequencies in Hz. In this case, Csound will <i>multiply</i> the reference frequency (middle C of whatever octave) by the corresponding table entry. For example, if you store the following multipliers in a <i>f-table</i>;</p>		<p>		<table cellspacing="0" border="0" width="464">			<tr>				<td width="5%" valign="top">f1</td>				<td width="13%" valign="top">0</td>				<td width="13%" valign="top">16</td>				<td width="14%" valign="top">-2</td>				<td width="13%" valign="top">1.000000</td>				<td width="13%" valign="top">1.065041</td>				<td width="13%" valign="top">1.134313</td>				<td width="18%" valign="top">1.208089</td>			</tr>			<tr>				<td width="5%" valign="top">&nbsp;</td>				<td width="13%" valign="top">1.246758</td>				<td width="13%" valign="top">1.327849</td>				<td width="14%" valign="top">1.414214</td>				<td width="13%" valign="top">1.506196</td>				<td width="13%" valign="top">1.604160</td>				<td width="13%" valign="top">1.708495</td>				<td width="18%" valign="top">1.819619</td>			</tr>			<tr>				<td width="5%" valign="top">&nbsp;</td>				<td width="13%" valign="top">1.877861</td>				<td width="13%" valign="top">&nbsp;</td>				<td width="14%" valign="top">&nbsp;</td>				<td width="13%" valign="top">&nbsp;</td>				<td width="13%" valign="top">&nbsp;</td>				<td width="13%" valign="top">&nbsp;</td>				<td width="18%" valign="top">&nbsp;</td>			</tr>		</table>		</p>		<p>and use it together with the following conversion in your instrument:</p>		<p>		<table cellspacing="0" border="0" width="356">			<tr>				<td width="14%" valign="top">ifreq</td>				<td width="15%" valign="top">cps2pch</td>				<td width="15%" valign="top">p5, -1</td>				<td width="56%" valign="top">;refer tomultipliertable #1</td>			</tr>		</table>		</p>		<p>it will reproduce Bhatkande's theoretical North Indian tuning, a subset of 22TET (Levy 1982). In this example, every time the score calls for a C# (such as 8.01), the frequency reference for C of that octave is multiplied by 1.065041 to find the corresponding frequency.</p>		<p>The use of a multiplier tuning table such as this is useful whenever you are using an octave (or other interval) replicating a tuning system that is not otherwise easily expressible. For example, historical mean-tone and well-temperament tunings might have different derivations for different pitch classes. Here is a multiplier table for one-quarter-comma meantone temperament:</p>		<p>		<table cellspacing="0" border="0" width="486">			<tr>				<td width="5%" valign="top">f1</td>				<td width="12%" valign="top">0</td>				<td width="12%" valign="top">16</td>				<td width="15%" valign="top">-2</td>				<td width="13%" valign="top">1.000000</td>				<td width="13%" valign="top">1.044906</td>				<td width="14%" valign="top">1.118034</td>				<td width="17%" valign="top">1.196279</td>			</tr>			<tr>				<td width="5%" valign="top">&nbsp;</td>				<td width="12%" valign="top">1.250000</td>				<td width="12%" valign="top">1.337481</td>				<td width="15%" valign="top">1.397542</td>				<td width="13%" valign="top">1.495349</td>				<td width="13%" valign="top">1.562500</td>				<td width="14%" valign="top">1.671850</td>				<td width="17%" valign="top">1.788854</td>			</tr>			<tr>				<td width="5%" valign="top">&nbsp;</td>				<td width="12%" valign="top">1.869185</td>				<td width="12%" valign="top">&nbsp;</td>				<td width="15%" valign="top">&nbsp;</td>				<td width="13%" valign="top">&nbsp;</td>				<td width="13%" valign="top">&nbsp;</td>				<td width="14%" valign="top">&nbsp;</td>				<td width="17%" valign="top">&nbsp;</td>			</tr>		</table>		</p>		<p>Other so-called non-just non-equaltemperaments are good candidates for the use of a multiplier tuning table, as long as the number of pitches can be practically stored in a table.</p>		<p><font size="4">Csound and Just Intonation</font></p>		<p>Just intonation is a class of tuning systems in which the frequency ratios can be expressed by relatively small numbers. The acoustic purity of just ratios have been an ideal for many composers, even when in practice the compromises of temperament are adopted, usually in order to freely modulate. As we shall see, though modulation restrictions are not always necessary when working with Csound.</p>		<p>While other techniques, such as multiplier tables, can be used as easily with just intonation, most just intonation composers find it most convenient to express their pitches in terms of ratios. For example, the interval between a C and an E might be expressed as a 5/4. This assumes that you have some absolute point of reference of course, so that, given C as 262 hz, you can easily find the frequency for E.</p>		<p>Lydia Ayers proposed a simple wayof using several Csound <i>p-fields</i> to express pitches in just intonation: one for the numerator (<i>p5</i>), one for the denominator (<i>p6</i>), and one for the octave multiplier (<i>p7</i>) (Ayers 1994). I used a variation of this idea in thescore for my own piece, <i>Highway 70</i>;</p>		<p>		<table cellspacing="0" border="0" width="478">			<tr>				<td width="15%" valign="top">;p1</td>				<td width="15%" valign="top">p2</td>				<td width="14%" valign="top">p3</td>				<td width="7%" valign="top">p4</td>				<td width="7%" valign="top">p5</td>				<td width="8%" valign="top">p6</td>				<td width="14%" valign="top">p7</td>				<td width="20%" valign="top">&nbsp;</td>			</tr>			<tr>				<td width="15%" valign="top">;instr</td>				<td width="15%" valign="top">start</td>				<td width="14%" valign="top">dur</td>				<td width="7%" valign="top">amp</td>				<td width="7%" valign="top">num</td>				<td width="8%" valign="top">den</td>				<td width="14%" valign="top">octave</td>				<td width="20%" valign="top">&nbsp;</td>			</tr>			<tr>				<td width="15%" valign="top">i4</td>				<td width="15%" valign="top">132.5</td>				<td width="14%" valign="top">0.125</td>				<td width="7%" valign="top">0.9</td>				<td width="7%" valign="top">7</td>				<td width="8%" valign="top">4</td>				<td width="14%" valign="top">10</td>				<td width="20%" valign="top">;7/4 ratio</td>			</tr>			<tr>				<td width="15%" valign="top">I2</td>				<td width="15%" valign="top">132.5</td>				<td width="14%" valign="top">0.5</td>				<td width="7%" valign="top">0.9</td>				<td width="7%" valign="top">1</td>				<td width="8%" valign="top">1</td>				<td width="14%" valign="top">6</td>				<td width="20%" valign="top">;1/1</td>			</tr>			<tr>				<td width="15%" valign="top">i2</td>				<td width="15%" valign="top">132.5</td>				<td width="14%" valign="top">0.5</td>				<td width="7%" valign="top">0.9</td>				<td width="7%" valign="top">1</td>				<td width="8%" valign="top">1</td>				<td width="14%" valign="top">7</td>				<td width="20%" valign="top">;1/1</td>			</tr>			<tr>				<td width="15%" valign="top">i3</td>				<td width="15%" valign="top">132.5</td>				<td width="14%" valign="top">29.0</td>				<td width="7%" valign="top">0.9</td>				<td width="7%" valign="top">1</td>				<td width="8%" valign="top">1</td>				<td width="14%" valign="top">5</td>				<td width="20%" valign="top">;1/1</td>			</tr>			<tr>				<td width="15%" valign="top">i3</td>				<td width="15%" valign="top">132.5</td>				<td width="14%" valign="top">29.0</td>				<td width="7%" valign="top">0.9</td>				<td width="7%" valign="top">1</td>				<td width="8%" valign="top">1</td>				<td width="14%" valign="top">6</td>				<td width="20%" valign="top">;1/1</td>			</tr>			<tr>				<td width="15%" valign="top">i4</td>				<td width="15%" valign="top">132.625</td>				<td width="14%" valign="top">0.125</td>				<td width="7%" valign="top">0.9</td>				<td width="7%" valign="top">11</td>				<td width="8%" valign="top">8</td>				<td width="14%" valign="top">10</td>				<td width="20%" valign="top">;11/8</td>			</tr>			<tr>				<td width="15%" valign="top">i4</td>				<td width="15%" valign="top">132.750</td>				<td width="14%" valign="top">0.125</td>				<td width="7%" valign="top">0.9</td>				<td width="7%" valign="top">1</td>				<td width="8%" valign="top">1</td>				<td width="14%" valign="top">9</td>				<td width="20%" valign="top">;1/1</td>			</tr>			<tr>				<td width="15%" valign="top">i4</td>				<td width="15%" valign="top">132.875</td>				<td width="14%" valign="top">0.125</td>				<td width="7%" valign="top">0.9</td>				<td width="7%" valign="top">7</td>				<td width="8%" valign="top">4</td>				<td width="14%" valign="top">10</td>				<td width="20%" valign="top">;7/4</td>			</tr>			<tr>				<td width="15%" valign="top">i4</td>				<td width="15%" valign="top">133.0</td>				<td width="14%" valign="top">0.125</td>				<td width="7%" valign="top">0.9</td>				<td width="7%" valign="top">3</td>				<td width="8%" valign="top">2</td>				<td width="14%" valign="top">10</td>				<td width="20%" valign="top">;3/2</td>			</tr>			<tr>				<td width="15%" valign="top">i2</td>				<td width="15%" valign="top">133.0</td>				<td width="14%" valign="top">0.5</td>				<td width="7%" valign="top">0.9</td>				<td width="7%" valign="top">3</td>				<td width="8%" valign="top">2</td>				<td width="14%" valign="top">7</td>				<td width="20%" valign="top">;3/2</td>			</tr>			<tr>				<td width="15%" valign="top">i2</td>				<td width="15%" valign="top">133.0</td>				<td width="14%" valign="top">0.5</td>				<td width="7%" valign="top">0.9</td>				<td width="7%" valign="top">7</td>				<td width="8%" valign="top">6</td>				<td width="14%" valign="top">8</td>				<td width="20%" valign="top">;7/6</td>			</tr>		</table>		</p>		<p><font face="Times">&nbsp;</font></p>		<p><font face="Times"><b>Figure 22.7</b></font></p>		<p><font face="Times">Score file in which several P-fields are used to specify the frequency ratio for the specified note.</font></p>		<p>In each instrument of the .orc file, the frequency is determined by the following</p>		<p>conversion:</p>		<p>		<table cellspacing="0" border="0" width="473">			<tr>				<td width="10%" valign="top">ioct</td>				<td width="9%" valign="top">ipow</td>				<td width="25%" valign="top">2, p7-8</td>				<td width="56%" valign="top">;8 is the octave of the ref pitch</td>			</tr>			<tr>				<td width="10%" valign="top">ifreq</td>				<td width="9%" valign="top">=</td>				<td width="25%" valign="top">440*ioct*p5/p6</td>				<td width="56%" valign="top">;ref pitch*oct*num/den</td>			</tr>		</table>		</p>		<p>440 (A of octave 8) in this example represents the pitch reference, that is, the 1/1 pitch.</p>		<p><font size="4">Dynamic Just Intonation</font></p>		<p>In the just intonation example above, the pitch reference was set to 440hz, and all pitches were expressed in ratios relative to that frequency. Most music in just intonation is written in this manner, with a single pitch reference, what Lou Harrison calls a &quot;strict style&quot; (Harrison 1971). However, if a composer wants to modulate, the ratios that were small integers relative to one tonic may not be relative to another. Instruments of fixed pitch, such as a piano, are tied to a strict style. This is not the case with Csound.</p>		<p>In Csound there are several possible waysto implement a dynamic just intonation, which Harrison calls a &quot;free style&quot; and Polansky a &quot;paratactical tuning&quot; (Polansky 1987). In <i>Highway 70</i>, referenced above, I stored the 1/1 pitch reference in a global variable, which could then be changed through a call to an instrument that does not otherwise make sound.</p>		<p>&nbsp;</p>		<p>		<table cellspacing="0" border="0" width="504">			<tr>				<td width="10%" valign="top">gref</td>				<td width="15%" valign="top">init</td>				<td width="19%" valign="top">440</td>				<td width="56%" valign="top">&nbsp;</td>			</tr>			<tr>				<td width="10%" valign="top">&nbsp;</td>				<td width="15%" valign="top">&nbsp;</td>				<td width="19%" valign="top">&nbsp;</td>				<td width="56%" valign="top">&nbsp;</td>			</tr>			<tr>				<td width="10%" valign="top">&nbsp;</td>				<td width="15%" valign="top">instr 2206</td>				<td width="19%" valign="top">&nbsp;</td>				<td width="56%" valign="top">;number this instrument 1 so it gets called first</td>			</tr>			<tr>				<td width="10%" valign="top">gref</td>				<td width="15%" valign="top">=</td>				<td width="19%" valign="top">p4</td>				<td width="56%" valign="top">&nbsp;</td>			</tr>			<tr>				<td width="10%" valign="top">&nbsp;</td>				<td width="15%" valign="top">endin</td>				<td width="19%" valign="top">&nbsp;</td>				<td width="56%" valign="top">&nbsp;</td>			</tr>			<tr>				<td width="10%" valign="top">&nbsp;</td>				<td width="15%" valign="top">&nbsp;</td>				<td width="19%" valign="top">&nbsp;</td>				<td width="56%" valign="top">&nbsp;</td>			</tr>			<tr>				<td width="10%" valign="top">&nbsp;</td>				<td width="15%" valign="top">instr 2306</td>				<td width="19%" valign="top">&nbsp;</td>				<td width="56%" valign="top">&nbsp;</td>			</tr>			<tr>				<td width="10%" valign="top">ioct</td>				<td width="15%" valign="top">ipow</td>				<td width="19%" valign="top">2, p7-8</td>				<td width="56%" valign="top">;get octave factor</td>			</tr>			<tr>				<td width="10%" valign="top">ifreq</td>				<td width="15%" valign="top">=</td>				<td width="19%" valign="top">gref*ioct*p5/p6</td>				<td width="56%" valign="top">;freq = 1/1 ref*oct*num/den</td>			</tr>			<tr>				<td width="10%" valign="top">&nbsp;</td>				<td width="15%" valign="top">...</td>				<td width="19%" valign="top">&nbsp;</td>				<td width="56%" valign="top">&nbsp;</td>			</tr>		</table>		</p>		<p><font face="Times"><b>Figure 22.8</b></font></p>		<p><font face="Times">Orchastra code excerpt from <i>instr 2206 </i>showing init-time conversion of global refrence and providing the means for a dynamic just intonation which can be changed on a not by note basis.</font></p>		<p><font face="Times">&nbsp;</font></p>		<p>		<table cellspacing="0" border="0" width="513">			<tr>				<td width="10%" valign="top">;p1</td>				<td width="8%" valign="top">p2</td>				<td width="7%" valign="top">p3</td>				<td width="6%" valign="top">p4</td>				<td width="6%" valign="top">p5</td>				<td width="7%" valign="top">p6</td>				<td width="11%" valign="top">p7</td>				<td width="45%" valign="top">;1/1 = 440 Hz</td>			</tr>			<tr>				<td width="10%" valign="top">;instr</td>				<td width="8%" valign="top">start</td>				<td width="7%" valign="top">dur</td>				<td width="6%" valign="top">amp</td>				<td width="6%" valign="top">num</td>				<td width="7%" valign="top">den</td>				<td width="11%" valign="top">octave</td>				<td width="45%" valign="top">&nbsp;</td>			</tr>			<tr>				<td width="10%" valign="top">i2</td>				<td width="8%" valign="top">160.5</td>				<td width="7%" valign="top">0.5</td>				<td width="6%" valign="top">0.9</td>				<td width="6%" valign="top">3</td>				<td width="7%" valign="top">2</td>				<td width="11%" valign="top">7</td>				<td width="45%" valign="top">&nbsp;</td>			</tr>			<tr>				<td width="10%" valign="top">i2</td>				<td width="8%" valign="top">160.5</td>				<td width="7%" valign="top">0.5</td>				<td width="6%" valign="top">0.9</td>				<td width="6%" valign="top">7</td>				<td width="7%" valign="top">6</td>				<td width="11%" valign="top">8</td>				<td width="45%" valign="top">&nbsp;</td>			</tr>			<tr>				<td width="10%" valign="top">i2</td>				<td width="8%" valign="top">161.0</td>				<td width="7%" valign="top">0.5</td>				<td width="6%" valign="top">0.9</td>				<td width="6%" valign="top">7</td>				<td width="7%" valign="top">4</td>				<td width="11%" valign="top">7</td>				<td width="45%" valign="top">&nbsp;</td>			</tr>			<tr>				<td width="10%" valign="top">i2</td>				<td width="8%" valign="top">161.0</td>				<td width="7%" valign="top">0.5</td>				<td width="6%" valign="top">0.9</td>				<td width="6%" valign="top">4</td>				<td width="7%" valign="top">3</td>				<td width="11%" valign="top">8</td>				<td width="45%" valign="top">&nbsp;</td>			</tr>			<tr>				<td width="10%" valign="top">i1</td>				<td width="8%" valign="top">161.5</td>				<td width="7%" valign="top">0.1</td>				<td width="6%" valign="top">385</td>				<td width="6%" valign="top">&nbsp;</td>				<td width="7%" valign="top">&nbsp;</td>				<td width="11%" valign="top">&nbsp;</td>				<td width="45%" valign="top">;set new 1/1 to 440*7/8</td>			</tr>			<tr>				<td width="10%" valign="top">i2</td>				<td width="8%" valign="top">161.5</td>				<td width="7%" valign="top">0.5</td>				<td width="6%" valign="top">0.9</td>				<td width="6%" valign="top">3</td>				<td width="7%" valign="top">2</td>				<td width="11%" valign="top">7</td>				<td width="45%" valign="top">&nbsp;</td>			</tr>			<tr>				<td width="10%" valign="top">i2</td>				<td width="8%" valign="top">161.5</td>				<td width="7%" valign="top">0.5</td>				<td width="6%" valign="top">0.9</td>				<td width="6%" valign="top">7</td>				<td width="7%" valign="top">6</td>				<td width="11%" valign="top">7</td>				<td width="45%" valign="top">&nbsp;</td>			</tr>			<tr>				<td width="10%" valign="top">i2</td>				<td width="8%" valign="top">161.5</td>				<td width="7%" valign="top">3.0</td>				<td width="6%" valign="top">0.9</td>				<td width="6%" valign="top">7</td>				<td width="7%" valign="top">6</td>				<td width="11%" valign="top">8</td>				<td width="45%" valign="top">&nbsp;</td>			</tr>			<tr>				<td width="10%" valign="top">i2</td>				<td width="8%" valign="top">161.5</td>				<td width="7%" valign="top">3.0</td>				<td width="6%" valign="top">0.9</td>				<td width="6%" valign="top">7</td>				<td width="7%" valign="top">6</td>				<td width="11%" valign="top">9</td>				<td width="45%" valign="top">&nbsp;</td>			</tr>			<tr>				<td width="10%" valign="top">i3</td>				<td width="8%" valign="top">161.5</td>				<td width="7%" valign="top">6.0</td>				<td width="6%" valign="top">0.9</td>				<td width="6%" valign="top">1</td>				<td width="7%" valign="top">1</td>				<td width="11%" valign="top">5</td>				<td width="45%" valign="top">&nbsp;</td>			</tr>			<tr>				<td width="10%" valign="top">i3</td>				<td width="8%" valign="top">161.5</td>				<td width="7%" valign="top">6.0</td>				<td width="6%" valign="top">0.9</td>				<td width="6%" valign="top">1</td>				<td width="7%" valign="top">1</td>				<td width="11%" valign="top">6</td>				<td width="45%" valign="top">&nbsp;</td>			</tr>		</table>		</p>		<p><font face="Times">&nbsp;</font></p>		<div align="left">			<p><font face="Times"><b>Figure 22.9</b></font></p>		</div>		<p><font face="Times">Score file for <i>instr 2205</i>, dynamic just intonation.</font></p>		<p>The score for Lou Harrison's <i>Simfony in Free Style</i> was written mostly in successive ratios, that is, each note is defined in relation to the one before it. Such a score could be realized with separate global references for each instrument.</p>		<p>The first two measures of Lou Harrison's <i>Simfony in Free Style</i></p>		<p>		<table cellspacing="0" border="0" width="352">			<tr>				<td width="14%" valign="top">;instr</td>				<td width="13%" valign="top">start</td>				<td width="10%" valign="top">dur</td>				<td width="16%" valign="top">amp</td>				<td width="16%" valign="top">num</td>				<td width="16%" valign="top">den</td>				<td width="16%" valign="top">ref</td>			</tr>			<tr>				<td width="14%" valign="top">i1</td>				<td width="13%" valign="top">0</td>				<td width="10%" valign="top">1</td>				<td width="16%" valign="top">0.9</td>				<td width="16%" valign="top">1</td>				<td width="16%" valign="top">1</td>				<td width="16%" valign="top">396</td>			</tr>			<tr>				<td width="14%" valign="top">i1</td>				<td width="13%" valign="top">+</td>				<td width="10%" valign="top">0.1</td>				<td width="16%" valign="top">.</td>				<td width="16%" valign="top">10</td>				<td width="16%" valign="top">9</td>				<td width="16%" valign="top">0</td>			</tr>			<tr>				<td width="14%" valign="top">i1</td>				<td width="13%" valign="top">+</td>				<td width="10%" valign="top">0.1</td>				<td width="16%" valign="top">.</td>				<td width="16%" valign="top">9</td>				<td width="16%" valign="top">8</td>				<td width="16%" valign="top">0</td>			</tr>			<tr>				<td width="14%" valign="top">i1</td>				<td width="13%" valign="top">+</td>				<td width="10%" valign="top">1.8</td>				<td width="16%" valign="top">.</td>				<td width="16%" valign="top">8</td>				<td width="16%" valign="top">9</td>				<td width="16%" valign="top">0</td>			</tr>			<tr>				<td width="14%" valign="top">i1</td>				<td width="13%" valign="top">+</td>				<td width="10%" valign="top">1</td>				<td width="16%" valign="top">.</td>				<td width="16%" valign="top">9</td>				<td width="16%" valign="top">8</td>				<td width="16%" valign="top">0</td>			</tr>			<tr>				<td width="14%" valign="top">i1</td>				<td width="13%" valign="top">+</td>				<td width="10%" valign="top">1</td>				<td width="16%" valign="top">.</td>				<td width="16%" valign="top">8</td>				<td width="16%" valign="top">7</td>				<td width="16%" valign="top">0</td>			</tr>			<tr>				<td width="14%" valign="top">i1</td>				<td width="13%" valign="top">+</td>				<td width="10%" valign="top">5</td>				<td width="16%" valign="top">.</td>				<td width="16%" valign="top">7</td>				<td width="16%" valign="top">6</td>				<td width="16%" valign="top">0</td>			</tr>			<tr>				<td width="14%" valign="top">i2</td>				<td width="13%" valign="top">6</td>				<td width="10%" valign="top">1</td>				<td width="16%" valign="top">0.9</td>				<td width="16%" valign="top">6</td>				<td width="16%" valign="top">5</td>				<td width="16%" valign="top">396</td>			</tr>			<tr>				<td width="14%" valign="top">i2</td>				<td width="13%" valign="top">7</td>				<td width="10%" valign="top">0.1</td>				<td width="16%" valign="top">0.9</td>				<td width="16%" valign="top">10</td>				<td width="16%" valign="top">9</td>				<td width="16%" valign="top">0</td>			</tr>			<tr>				<td width="14%" valign="top">i3</td>				<td width="13%" valign="top">7</td>				<td width="10%" valign="top">2</td>				<td width="16%" valign="top">0.9</td>				<td width="16%" valign="top">1</td>				<td width="16%" valign="top">1</td>				<td width="16%" valign="top">110</td>			</tr>			<tr>				<td width="14%" valign="top">i2</td>				<td width="13%" valign="top">7.1</td>				<td width="10%" valign="top">0.1</td>				<td width="16%" valign="top">0.9</td>				<td width="16%" valign="top">9</td>				<td width="16%" valign="top">8</td>				<td width="16%" valign="top">0</td>			</tr>			<tr>				<td width="14%" valign="top">i2</td>				<td width="13%" valign="top">7.2</td>				<td width="10%" valign="top">1.8</td>				<td width="16%" valign="top">0.9</td>				<td width="16%" valign="top">8</td>				<td width="16%" valign="top">9</td>				<td width="16%" valign="top">0</td>			</tr>			<tr>				<td width="14%" valign="top">i2</td>				<td width="13%" valign="top">9</td>				<td width="10%" valign="top">1</td>				<td width="16%" valign="top">0.9</td>				<td width="16%" valign="top">9</td>				<td width="16%" valign="top">8</td>				<td width="16%" valign="top">0</td>			</tr>			<tr>				<td width="14%" valign="top">i3</td>				<td width="13%" valign="top">9</td>				<td width="10%" valign="top">2</td>				<td width="16%" valign="top">0.9</td>				<td width="16%" valign="top">6</td>				<td width="16%" valign="top">5</td>				<td width="16%" valign="top">0</td>			</tr>			<tr>				<td width="14%" valign="top">i2</td>				<td width="13%" valign="top">10</td>				<td width="10%" valign="top">1</td>				<td width="16%" valign="top">0.9</td>				<td width="16%" valign="top">8</td>				<td width="16%" valign="top">7</td>				<td width="16%" valign="top">0</td>			</tr>		</table>		</p>		<p><font face="Times"><b>Figure 23.10</b></font></p>		<p><font face="Times">Score file of the music of Lou harrison requiring unique dynamic just intonation tuning reference per instrument.</font></p>		<p>Once again, <i>p5</i> is the numerator and <i>p6</i> the denominator, but now they refer to the previous pitch for that instrument, unless <i>p7</i> is non-zero, in which case they refer to it:</p>		<p>		<table cellspacing="0" border="0" width="464">			<tr>				<td width="11%" valign="top">&nbsp;</td>				<td width="16%" valign="top">instr 2207</td>				<td valign="top" colspan="3">&nbsp;</td>				<td width="3%" valign="top">&nbsp;</td>				<td valign="top" colspan="2">&nbsp;</td>			</tr>			<tr>				<td width="11%" valign="top">&nbsp;</td>				<td width="16%" valign="top">if</td>				<td valign="top" colspan="3">p7=0 igoto suc</td>				<td width="3%" valign="top">&nbsp;</td>				<td valign="top" colspan="2">&nbsp;</td>			</tr>			<tr>				<td width="11%" valign="top">gref1</td>				<td width="16%" valign="top">=</td>				<td valign="top" colspan="3">p7</td>				<td width="3%" valign="top">&nbsp;</td>				<td valign="top" colspan="2">;if p7 != 0, it is the new 1/1</td>			</tr>			<tr>				<td width="11%" valign="top">ifreq</td>				<td width="16%" valign="top">=</td>				<td valign="top" colspan="3">gref1*p5/p6</td>				<td width="3%" valign="top">&nbsp;</td>				<td valign="top" colspan="2">;calculate freq</td>			</tr>			<tr>				<td width="11%" valign="top">igoto</td>				<td width="16%" valign="top">cont</td>				<td valign="top" colspan="3">&nbsp;</td>				<td width="3%" valign="top">&nbsp;</td>				<td valign="top" colspan="2">;go on to the rest of the instr</td>			</tr>			<tr>				<td width="11%" valign="top">suc:</td>				<td width="16%" valign="top">&nbsp;</td>				<td width="10%" valign="top">&nbsp;</td>				<td valign="top" colspan="5">&nbsp;</td>			</tr>			<tr>				<td width="11%" valign="top">ifreq</td>				<td width="16%" valign="top">=</td>				<td valign="top" colspan="2">gref1*p5/p6</td>				<td valign="top" colspan="3">&nbsp;</td>				<td width="47%" valign="top">;if p7 = 0, use last reference</td>			</tr>			<tr>				<td width="11%" valign="top">gref1</td>				<td width="16%" valign="top">=</td>				<td valign="top" colspan="3">ifreq</td>				<td width="3%" valign="top">&nbsp;</td>				<td valign="top" colspan="2">;and set it to current freq</td>			</tr>			<tr>				<td width="11%" valign="top">cont:</td>				<td width="16%" valign="top">&nbsp;</td>				<td valign="top" colspan="3">...</td>				<td width="3%" valign="top">&nbsp;</td>				<td valign="top" colspan="2">&nbsp;</td>			</tr>		</table>		</p>		<p><font face="Times">&nbsp;</font></p>		<p><font face="Times"><b>Figure 22.11</b></font></p>		<p><font face="Times">Orchestra code exceprt for <i>instr 2207</i> in which global pitch reference is derived from previous notes played on that instrument.</font></p>		<p>Each instrument would have to have its own global variable pitch reference and could only play a single line. Note that successive intervals going down require the smaller number in the numerator.</p>		<p><font size="4">Non-Octave Based Tunings</font></p>		<p>There is some evidence that average listeners tend to identify as octaves intervals that are slightly larger than 2/1 (Sundberg 1973). If we wanted to create a system in which the octaves are 1215 instead of 1200 cents, while still using <b>pch</b> notation for example, we could convert our pitches to <b>oct</b> format and then multiply them by the appropriate ratio;</p>		<p>		<table cellspacing="0" border="0" width="464">			<tr>				<td width="16%" valign="top">&nbsp;</td>				<td width="16%" valign="top">instr 2208</td>				<td width="21%" valign="top">&nbsp;</td>				<td width="48%" valign="top">&nbsp;</td>			</tr>			<tr>				<td width="16%" valign="top">ioct</td>				<td width="16%" valign="top">=</td>				<td width="21%" valign="top">octpch(p5)</td>				<td width="48%" valign="top">;convert from pch to oct format</td>			</tr>			<tr>				<td width="16%" valign="top">istretch</td>				<td width="16%" valign="top">=</td>				<td width="21%" valign="top">ioct*1215/1200</td>				<td width="48%" valign="top">;multiply by stretch factor</td>			</tr>			<tr>				<td width="16%" valign="top">ifreq</td>				<td width="16%" valign="top">=</td>				<td width="21%" valign="top">cpsoct(istretch)</td>				<td width="48%" valign="top">;go on to use ifreq as normal</td>			</tr>		</table>		</p>		<p><font face="Times">&nbsp;</font></p>		<p><font face="Times"><b>Figure 22.12</b></font></p>		<p><font face="Times">Orchestra code excerpt for <i>instr 2208</i>, i-time conversion for &quot;stretched&quot; tuning.</font></p>		<p>Stretched scales still use the perceptual equivalent of octaves. However, scales do not have to be based on the octave at all. One example of a non-octave based scale is the one proposed by H. Bohlen, John Pierce, andothers, known as the Bohlen-Pierce scale (Bohlen 1978, Pierce 1990). This scale contains 13 equal steps with in the span of a 3/1, that is, a perfect twelfth or &quot;tritave,&quot; rather than an octave. The resulting step sizes provide good approximations to several interesting just triads and tetrads. In a pitch specification format comparable to <b>pch</b> format, the ones digit would indicate the tritave number, and the tenths and hundredths digits the step number (00 to 12). In standard Csound, such a specification could be converted as follows;</p>		<p>		<table cellspacing="0" border="0" width="459">			<tr>				<td width="13%" valign="top">&nbsp;</td>				<td width="17%" valign="top">instr 2209</td>				<td width="20%" valign="top">&nbsp;</td>				<td width="51%" valign="top">&nbsp;</td>			</tr>			<tr>				<td width="13%" valign="top">itritave</td>				<td width="17%" valign="top">=</td>				<td width="20%" valign="top">int(p5)</td>				<td width="51%" valign="top">;returns the tritave number</td>			</tr>			<tr>				<td width="13%" valign="top">istepno</td>				<td width="17%" valign="top">=</td>				<td width="20%" valign="top">100*frac(p5)</td>				<td width="51%" valign="top">;returns the step # (00 to 12)</td>			</tr>			<tr>				<td width="13%" valign="top">ifact</td>				<td width="17%" valign="top">ipow</td>				<td width="20%" valign="top">3, itritave+istepno/13</td>				<td width="51%" valign="top">;multiplication factor</td>			</tr>			<tr>				<td width="13%" valign="top">ifreq</td>				<td width="17%" valign="top">=</td>				<td width="20%" valign="top">ifact*cpspch(1.00)</td>				<td width="51%" valign="top">;1.00 (C1) is the base pitch</td>			</tr>		</table>		</p>		<p><font face="Times">&nbsp;</font></p>		<p><font face="Times">&nbsp;</font></p>		<p><font face="Times">figure 22.13</font></p>		<p><font face="Times">Orchestra code excerpt for <i>instr 2209</i> showing i-time conversion for calculating the transposition factor for &quot;Bohlen-Pierce&quot; scale in which the frequency ratio is 3:1.</font></p>		<p>In Csound there is now a function that performs this conversion automatically<font face="Times">;</font></p>		<p>		<table cellspacing="0" border="0" width="338">			<tr>				<td width="14%" valign="top">icps</td>				<td width="16%" valign="top">cpsxpch</td>				<td width="69%" valign="top">ipch, iequal, irepeat, ibase</td>			</tr>		</table>		</p>		<p>where <i>ipch</i> is the pitch representation (analogous to pch format, as in the previous example), <i>iequal</i> the number of steps perrepeating interval (e.g. 13 in Bohlen-Pierce), irepeat is the repeating interval expressed as a ratio (2 for an octave, 3 forPierce-Bohlen), and <i>ibase</i> is the base frequency (the frequency of the first step of the first repeating interval, that is, the pitch 1.00 in <b>pch</b> format).</p>		<p>Some tuning systems, such as Gary Morrison's 88CET (88 Cents per step Equal Temperament) are based on a certain fixed size per scale step, a size that does not divide evenly into an octave. Because <i>ibase</i> does not have to be an integer, such scales can be specified divisions of an irrational ratio. For example, 88CET can be specified in terms of 8 scale steps per 1.501773 (about a perfect fifth).</p>		<p>Of course, non-replicating tuning systems do not have to have equal stepsizes. Computer composers such as Jonathan Harvey have derived tunings from the inharmonic partials in much the same ways that just intonation scales are derived from harmonic partials (Harvey 1981). James Dashow has used modulation summation and difference tones as the basis for chordal structures (Dashow 1980). Brian McLaren has proposed a variety of methods for generating series of irrational numbers for scales (McLaren 1993). Such systems would probably best be implementedusing multiplier tables.</p>		<p><font size="4">Real Time MIDI and Alternate Tunings</font></p>		<p>MIDI note on pitch numbers can be convertedto any of the three Csound pitch specification formats with the <i>cpsmidi</i>, <i>octmidi</i>, and <i>pchmidi</i> functions. While these conversions assume 12-tone equal temperament, once converted to <i>pch</i> format, a pitch can be further manipulated using the techniques shown in previous sections.</p>		<p>Because MIDI allows for only 128 possible pitches, there are much greater limitations for those wishing to use more than twelve pitches per octave. In the following example, the MIDI note number is converted to a pitch in 53TET:</p>		<p>		<table cellspacing="0" border="0" width="482">			<tr>				<td width="11%" valign="top">&nbsp;</td>				<td width="16%" valign="top">instr 2210</td>				<td width="23%" valign="top">&nbsp;</td>				<td width="50%" valign="top">&nbsp;</td>			</tr>			<tr>				<td width="11%" valign="top">inote</td>				<td width="16%" valign="top">notnum</td>				<td width="23%" valign="top">&nbsp;</td>				<td width="50%" valign="top">;receive the note number from MIDI</td>			</tr>			<tr>				<td width="11%" valign="top">ifact</td>				<td width="16%" valign="top">ipow</td>				<td width="23%" valign="top">2, inote/53</td>				<td width="50%" valign="top">;each note is one step in 53TET</td>			</tr>			<tr>				<td width="11%" valign="top">ifreq</td>				<td width="16%" valign="top">=</td>				<td width="23%" valign="top">ifact*cpspch(7.00)</td>				<td width="50%" valign="top">;7.00 is the lowest pitch available</td>			</tr>			<tr>				<td width="11%" valign="top">&nbsp;</td>				<td width="16%" valign="top">...</td>				<td width="23%" valign="top">&nbsp;</td>				<td width="50%" valign="top">;go on to use ifreq as normal</td>			</tr>		</table>		</p>		<p><font face="Times">&nbsp;</font></p>		<p><font face="Times"><b>Figure 22.14</b></font></p>		<p><font face="Times">Orchestra code excerpt for <i>instr 2210</i> which converts a midi note number to 53-tone equal temperment.</font></p>		<p>In this example, the range of pitches is severely limited. Even if your MIDI controller makes all 128 note numbers available, the total range available will only be 128/53, or just over two octaves.</p>		<p>One possibility is to use another MIDI message to transpose the available range. The following example uses control change messages to reset the current bottom octave.</p>		<p><font face="Times"><img src="Image3.gif" width="372" height="244" align="LEFT" hspace="9"></font></p>		<p><font face="Times">&nbsp;</font></p>		<p><font face="Times"><br>		<br>		<br>		<br>		<br>		<br>		<br>		<br>		<br>		<br>		<br>		<br>		<br>		<br>		<br>		<br>		<br>		<br>		<br>		<br>		<b>Figure 22.15</b></font></p>		<p><font face="Times">Block diagram of <i>instr 2211</i>, a midi instrument in which a controller is used to &quot;reset&quot; the bottem octave in a 53 tone scale - thus re-scaling the playable range of the standard midi keyboard.</font></p>		<p>		<table cellspacing="0" border="0" width="477">			<tr>				<td width="11%" valign="top">&nbsp;</td>				<td width="14%" valign="top">&nbsp;</td>				<td width="17%" valign="top">&nbsp;</td>				<td width="3%" valign="top">&nbsp;</td>				<td width="55%" valign="top">&nbsp;</td>			</tr>			<tr>				<td width="11%" valign="top">gtrans</td>				<td width="14%" valign="top">init 9</td>				<td width="17%" valign="top">&nbsp;</td>				<td width="3%" valign="top">&nbsp;</td>				<td width="55%" valign="top">;initialize transposition</td>			</tr>			<tr>				<td width="11%" valign="top">&nbsp;</td>				<td width="14%" valign="top">instr 1</td>				<td width="17%" valign="top">&nbsp;</td>				<td width="3%" valign="top">&nbsp;</td>				<td width="55%" valign="top">&nbsp;</td>			</tr>			<tr>				<td width="11%" valign="top">itrans</td>				<td width="14%" valign="top">midictrl</td>				<td width="17%" valign="top">8</td>				<td width="3%" valign="top">&nbsp;</td>				<td width="55%" valign="top">;receive controller 8 value</td>			</tr>			<tr>				<td width="11%" valign="top">if</td>				<td width="14%" valign="top">itrans=0</td>				<td width="17%" valign="top">igoto play</td>				<td width="3%" valign="top">&nbsp;</td>				<td width="55%" valign="top">;if 0 use last value</td>			</tr>			<tr>				<td width="11%" valign="top">gtrans</td>				<td width="14%" valign="top">=</td>				<td width="17%" valign="top">itrans</td>				<td width="3%" valign="top">&nbsp;</td>				<td width="55%" valign="top">;else reset transposition</td>			</tr>			<tr>				<td width="11%" valign="top">play:</td>				<td width="14%" valign="top">&nbsp;</td>				<td width="17%" valign="top">&nbsp;</td>				<td width="3%" valign="top">&nbsp;</td>				<td width="55%" valign="top">&nbsp;</td>			</tr>			<tr>				<td width="11%" valign="top">inote</td>				<td width="14%" valign="top">notnum</td>				<td width="17%" valign="top">&nbsp;</td>				<td width="3%" valign="top">&nbsp;</td>				<td width="55%" valign="top">;receive note number from MIDI</td>			</tr>		</table>		<table cellspacing="0" border="0" width="473">			<tr>				<td width="10%" valign="top">ifact</td>				<td width="9%" valign="top">ipow</td>				<td width="4%" valign="top">&nbsp;</td>				<td width="24%" valign="top">2, inote/53</td>				<td width="53%" valign="top">;convert note # to 53TET</td>			</tr>			<tr>				<td width="10%" valign="top">ifreq</td>				<td width="9%" valign="top">=</td>				<td width="4%" valign="top">&nbsp;</td>				<td width="24%" valign="top">ifact*cpspch(gtrans)</td>				<td width="53%" valign="top">&nbsp;</td>			</tr>			<tr>				<td width="10%" valign="top">&nbsp;</td>				<td width="9%" valign="top">...</td>				<td width="4%" valign="top">&nbsp;</td>				<td width="24%" valign="top">&nbsp;</td>				<td width="53%" valign="top">;go on to use ifreq as normal</td>			</tr>		</table>		</p>		<p><font face="Times">&nbsp;</font></p>		<p><font face="Times"><b>Figure 22.16</b></font></p>		<p><font face="Times">Orchestra code for <i>instr 2311</i> A microtonal midi instrument with scalable range.</font></p>		<p>Another possibility is to set aside some MIDI note numbers to indicate a transposition. While this technique reduces the available pitches on your controller, it is helpful in another situation: to provide a pitch reference for dynamic just intonation. In this case, you could set your lowest octave to indicate your current tonic. Pressing a key in this range would not result in any sound, but would transpose the pitches following. Here is an example using a simple 5-limit, 12 pitch per octave just scale:</p>		<p>A table of multipliers for a 5-limit just scale</p>		<p>		<table cellspacing="0" border="0" width="477">			<tr>				<td width="5%" valign="top">f1</td>				<td width="13%" valign="top">0</td>				<td width="13%" valign="top">16</td>				<td width="13%" valign="top">-2</td>				<td width="12%" valign="top">1.000000</td>				<td width="12%" valign="top">1.066667</td>				<td width="15%" valign="top">1.125000</td>				<td width="16%" valign="top">1.200000</td>			</tr>			<tr>				<td width="5%" valign="top">&nbsp;</td>				<td width="13%" valign="top">1.250000</td>				<td width="13%" valign="top">1.333333</td>				<td width="13%" valign="top">1.406250</td>				<td width="12%" valign="top">1.500000</td>				<td width="12%" valign="top">1.600000</td>				<td width="15%" valign="top">1.666667</td>				<td width="16%" valign="top">1.777778</td>			</tr>			<tr>				<td width="5%" valign="top">&nbsp;</td>				<td width="13%" valign="top">1.875000</td>				<td width="13%" valign="top">&nbsp;</td>				<td width="13%" valign="top">&nbsp;</td>				<td width="12%" valign="top">&nbsp;</td>				<td width="12%" valign="top">&nbsp;</td>				<td width="15%" valign="top">&nbsp;</td>				<td width="16%" valign="top">&nbsp;</td>			</tr>		</table>		</p>		<p><font face="Times"><b>Figure 22.17</b></font></p>		<p><font face="Times">Function table mapping lowest 5 mini note numbers to transposition facors inicating and setting the current tonic.</font></p>		<p><font face="Times"><img src="Image4.gif" width="417" height="553" align="LEFT" hspace="9"></font></p>		<p><font face="Times">&nbsp;</font></p>		<p><font face="Times">&nbsp;</font></p>		<p><font face="Times"><br>		<br>		<br>		<br>		<br>		<br>		<br>		<br>		<br>		<br>		<br>		<br>		<br>		<br>		<br>		<br>		<br>		<br>		<br>		<br>		<br>		<br>		<br>		<br>		<br>		<br>		<br>		<br>		<br>		<br>		<br>		<br>		<br>		<br>		<br>		<br>		<br>		<br>		<br>		<br>		<br>		<br>		<br>		<b>Figure 22.18</b></font></p>		<p><font face="Times">Block diagram of <i>instr 2212</i>, a more comprehensive midi mapped microtonic</font></p>		<p><font face="Times">instrument.</font></p>		<p>		<table cellspacing="0" border="0" width="458">			<tr>				<td width="13%" valign="top">gref</td>				<td width="15%" valign="top">init 10</td>				<td width="22%" valign="top">&nbsp;</td>				<td width="47%" valign="top">;initialize pitch reference to C</td>				<td width="3%" valign="top">&nbsp;</td>			</tr>			<tr>				<td width="13%" valign="top">gbase</td>				<td width="15%" valign="top">init</td>				<td width="22%" valign="top">cpspch(1.00)</td>				<td width="47%" valign="top">&nbsp;</td>				<td width="3%" valign="top">&nbsp;</td>			</tr>			<tr>				<td width="13%" valign="top">&nbsp;</td>				<td width="15%" valign="top">&nbsp;</td>				<td width="22%" valign="top">&nbsp;</td>				<td width="47%" valign="top">&nbsp;</td>				<td width="3%" valign="top">&nbsp;</td>			</tr>			<tr>				<td width="13%" valign="top">&nbsp;</td>				<td width="15%" valign="top">instr 1</td>				<td width="22%" valign="top">&nbsp;</td>				<td width="47%" valign="top">&nbsp;</td>				<td width="3%" valign="top">&nbsp;</td>			</tr>			<tr>				<td width="13%" valign="top">ipch</td>				<td width="15%" valign="top">pchmidi</td>				<td width="22%" valign="top">&nbsp;</td>				<td width="47%" valign="top">;receive pch format from MIDI</td>				<td width="3%" valign="top">&nbsp;</td>			</tr>			<tr>				<td width="13%" valign="top">ioct</td>				<td width="15%" valign="top">=</td>				<td width="22%" valign="top">int(ipch)</td>				<td width="47%" valign="top">;gets the octave number</td>				<td width="3%" valign="top">&nbsp;</td>			</tr>			<tr>				<td width="13%" valign="top">inote</td>				<td width="15%" valign="top">=</td>				<td width="22%" valign="top">100*frac(ipch)</td>				<td width="47%" valign="top">;gets the note number (00-11)</td>				<td width="3%" valign="top">&nbsp;</td>			</tr>			<tr>				<td width="13%" valign="top">if</td>				<td width="15%" valign="top">ioct&gt;3</td>				<td width="22%" valign="top">igoto play</td>				<td width="47%" valign="top">;3 is lowest MIDI octave</td>				<td width="3%" valign="top">&nbsp;</td>			</tr>			<tr>				<td width="13%" valign="top">gref</td>				<td width="15%" valign="top">=</td>				<td width="22%" valign="top">inote</td>				<td width="47%" valign="top">;reset pitch reference</td>				<td width="3%" valign="top">&nbsp;</td>			</tr>			<tr>				<td width="13%" valign="top">ifact</td>				<td width="15%" valign="top">itable</td>				<td width="22%" valign="top">gref</td>				<td width="47%" valign="top">;reset pitch base</td>				<td width="3%" valign="top">&nbsp;</td>			</tr>			<tr>				<td width="13%" valign="top">gbase</td>				<td width="15%" valign="top">=</td>				<td width="22%" valign="top">cpspch(1.00)*ifact</td>				<td width="47%" valign="top">&nbsp;</td>				<td width="3%" valign="top">&nbsp;</td>			</tr>			<tr>				<td width="13%" valign="top">&nbsp;</td>				<td width="15%" valign="top">igoto</td>				<td width="22%" valign="top">end</td>				<td width="47%" valign="top">&nbsp;</td>				<td width="3%" valign="top">&nbsp;</td>			</tr>			<tr>				<td width="13%" valign="top">play:</td>				<td width="15%" valign="top">&nbsp;</td>				<td width="22%" valign="top">&nbsp;</td>				<td width="47%" valign="top">&nbsp;</td>				<td width="3%" valign="top">&nbsp;</td>			</tr>			<tr>				<td width="13%" valign="top">ilookup</td>				<td width="15%" valign="top">=</td>				<td width="22%" valign="top">inote-gref</td>				<td width="47%" valign="top">;offset lookup point by ref</td>				<td width="3%" valign="top">&nbsp;</td>			</tr>			<tr>				<td width="13%" valign="top">if</td>				<td width="15%" valign="top">ilookup&gt;=0</td>				<td width="22%" valign="top">igoto nomod</td>				<td width="47%" valign="top">;if offset goes below zero</td>				<td width="3%" valign="top">&nbsp;</td>			</tr>			<tr>				<td width="13%" valign="top">ilookup</td>				<td width="15%" valign="top">=</td>				<td width="22%" valign="top">ilookup+12</td>				<td width="47%" valign="top">;add 12</td>				<td width="3%" valign="top">&nbsp;</td>			</tr>			<tr>				<td width="13%" valign="top">nomod:</td>				<td width="15%" valign="top">&nbsp;</td>				<td width="22%" valign="top">&nbsp;</td>				<td width="47%" valign="top">&nbsp;</td>				<td width="3%" valign="top">&nbsp;</td>			</tr>			<tr>				<td width="13%" valign="top">ifact</td>				<td width="15%" valign="top">itable</td>				<td width="22%" valign="top">ilookup</td>				<td width="47%" valign="top">;look up the just factor</td>				<td width="3%" valign="top">&nbsp;</td>			</tr>			<tr>				<td width="13%" valign="top">ioctfact</td>				<td width="15%" valign="top">ipow</td>				<td width="22%" valign="top">2, ioct</td>				<td width="47%" valign="top">;octave multiplication factor</td>				<td width="3%" valign="top">&nbsp;</td>			</tr>			<tr>				<td width="13%" valign="top">ifreq</td>				<td width="15%" valign="top">=</td>				<td width="22%" valign="top">ioctfact*gbase*ifact</td>				<td width="47%" valign="top">&nbsp;</td>				<td width="3%" valign="top">&nbsp;</td>			</tr>		</table>		</p>		<p><font face="Times"><b>Figure 22.19</b></font></p>		<p><font face="Times">Orchestra code excerpt of init-time conversion and mapping of note numbers to tuning, transpose, and scaling factors.</font></p>		<p><font face="Times"><br>		These examples could probably be improvised significantly for real time performance, following the suggestions in the real-time Csound chapter. If your </font>MIDI controller allows it, you could set another channel or instrument to set the pitch reference or transposition message, thus increasing the pitch range of your melodic instrument and avoiding the costly conditional in the above example.</p>		<p><font size="4">Conclusion</font></p>		<p>There is a small but growing bibliography for the interested alternatetuning novice. Chalmers 1993 is an excellent survey of a variety of tuning methods, historical, non-Western, and modern. For those interested in justintonation, there is no better introduction than Doty (1994). Barbour (1951), though biased in favor of 12TET, is a fairly complete survey of the history of tuning systems in the Western European tradition. Many other tuning issues are discussed at length in journal articles, especially in the periodicals <u>1/1</u> and <u>Xenharmonik&ocirc;n</u>.</p>		<p>There is a large bibliography compiled by Brian McLaren, Franck Jedrzejewski, and Manuel Op de Coul available on the internet at :ftp://ella.mills.edu/ccm/tuning/papers/bib.html. A discography which includes many pieces of computer music can be found at :ftp://ella.mills.edu/ccm/tuning/papers/discs.html. Other tuning-related links can be found at http://www.dnai.com:80/~jinetwk/other.html. Examples of alternate tuning Csound compositions by Bill Alves, Lydia Ayers, and JohnFitch are on the CD-ROM accompanying this book.</p>		<p>Frederick Moore pointed out the computer's &quot;absolute neutrality in questions of tuning&quot; (Moore 1990). In Csound then, the use of alternate tunings is mainly a question of finding the pitch specification technique best suited for your own musical purposes. Such a challenge is still a welcome alternative to carpentry for many composers.</p>		<p><font size="4">References</font></p>		<p>Ayers, Lydia. 1994. &quot;Exploring Microtonal Tunings: A Kaleidoscopeof Extended Just Tunings and their Compositional Applications.&quot; DMA thesis, University of Illinois at Urbana-Champaign.</p>		<p>Barbour, J. Murray. 1972. <u>Tuning and Temperament</u><i>: </i><u>AHistorical Survey</u>. East Lansing: Michigan State University Press, 1951.Rpt. New York: Da Capo Press.</p>		<p>Berliner, Paul. 1978. <u>The Soul of Mbira: Music and Traditionsof the Shona People of Zimbabwe</u>. Berkeley: University of California Press.</p>		<p>Bohlen, H. 1978. &quot;13 Tonstufen in der Duodezeme,&quot; <u>Acoustica</u>. 39, 76-86.</p>		<p>Chalmers, John. 1993. <u>Divisions of the Tetrachord</u>. HanoverNH: Frog Peak Music.</p>		<p>Dashow, James. 1980. &quot;Spectra as Chords&quot;, <u>Computer Music Journal</u>. vol. 4 no. 1, 43-52.</p>		<p>Doty, David B. 1993. <u>The Just Intonation Primer</u>. San Francisco:The Just Intonation Network.</p>		<p>Harrison, Lou. 1971. <u>Lou Harrison's Music Primer</u>. New York:Peters.</p>		<p>Harvey, Jonathan. 1981. &quot;Mortuos Plango Vivos Voco: A Realization at IRCAM&quot;, <i>Computer Music Journal.</i> vol. 5 no. 4, 22-24.</p>		<p>Levy, Mark. 1982. <u>Intonation in North Indian Music: A SelectComparison of Theories with Contemporary Practice</u>. New Delhi: Biblia ImpexPrivate Ltd.</p>		<p>Mathews, Max and Pierce, John R. 1989. &quot;The Bohlen-Pierce Scale&quot;, <u>Current </u><i>Directions in Computer Music Research</i>, ed. Max Mathews andJohn R. Pierce. Cambridge MA: MIT Press.</p>		<p>&nbsp;</p>		<p>McLaren, Brian. 1993. &quot;The Uses and Characteristics of Non-JustNon-Equal-Tempered Scales,&quot; <i>Xenharmonik&ocirc;n</i> 15:27-41.</p>		<p>Moore, Frederick. 1990.<i>Elements of Computer Music</i>. EnglewoodCliffs, NJ: Prentice Hall.</p>		<p>Mathews, Max and Pierce, John R. 1989. &quot;The Bohlen-Pierce Scale&quot;,<i>in Current Directions in Computer Music Research</i>, ed. Max Mathews andJohn R. Pierce. Cambridge MA: MIT Press.</p>		<p>Polansky, Larry. Spring 1987 &quot;Paratactical Tuning: An Agenda for theUse of Computers in Experimental Intonation&quot;, <i>Computer Music Journal</i>vol. 11 no. 1, 61-68.</p>		<p>Polansky, Larry. 1987. &quot;Paratactical Tuning: An Agenda for theUse of Computers in Experimental Intonation&quot;, <i>Computer Music Journal</i>. vol. 11 no. 1, 61-68.</p>		<p>Sundberg, J. E. F. and J. Linkqvist. Dec. 1973. &quot;Musical octaves andpitch<i>.&quot; Journal of the Acoustical Society of America</i>. 54 #4 922-29.</p>		<p>Surjodiningrat, Wasisto, P. J. Sudarjana, and AdhiSusanto. 1969, rpt. 1972, 1993. <i>Penjelidikan dalam pengukuran nada gamelan-gamelan djawaterkemuka di Jogjakarta dan Surakarta</i>. Yogyakarta: Gadjah Mada UniversityPress; translated by the authors as: <i>Tone measurements of outstanding Javanese Gamelan</i>. Yogyakarta: GadjahMada University Press.	</body></html>