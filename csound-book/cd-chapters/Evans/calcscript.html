<html>

	<head>
		<title>Hearing the Mandelbrot Set (fractal music with Csound)</title>
		<script language="JAVASCRIPT">
<!--
function calcline(form) {
   var xMid;
   var yPoint;
   var LineLength;
   var MaxIteration;
   var xResolution;
   var PitchCount;
   var TimeIncrement;
   var xStart;
   var xIncrement;

   xMid = document.forms[0].elements[0].value;
   yPoint = document.forms[0].elements[1].value;
   LineLength = document.forms[0].elements[2].value;
   MaxIteration = document.forms[0].elements[3].value;
   xResolution = document.forms[0].elements[4].value;
   PitchCount = document.forms[0].elements[5].value;
   TimeIncrement = document.forms[0].elements[6].value;   
   
   var x;
   var y;
   var LamdaReal;
   var LamdaImag;
   var xCounter;
   var yCounter;
   var xNew;
   var yNew;
   var n;
   var zMagSquared=0.0;
   var PreviousValue=1000;
   var CurrentTime = 0.0;
   var CurrentTimeString;
   var DotPosition;

   xStart = xMid-.5*LineLength;
   xIncrement = LineLength/xResolution;

   LamdaImag = yPoint*1.0;
   document.write("<PRE>");
   for (xCounter=0; xCounter < xResolution; ++xCounter){
	   LamdaReal=xStart + xIncrement*xCounter;
	   zMagSquared = 0.0;
	   x = 0.0;
	   y = 0.0;

       for (n=0; n < MaxIteration; ++n){
      		xNew = (x*x - y*y) + LamdaReal;
      		yNew = 2.0*x*y + LamdaImag;
      		x=xNew;
	      	y=yNew;
	        zMagSquared = x*x+y*y;

		   if (zMagSquared >= 4.0) {
				break;
		   } 
	   }
	   CurrentTimeString = " "+CurrentTime+"     ";
       temp1 = "  "+n%PitchCount+" ";

       if (n!=PreviousValue){
           document.write("i1  "+CurrentTimeString.substring(0,7)+"  12.0   75   "+temp1+"<BR>");
           PreviousValue = n;
       }
       CurrentTime = CurrentTime+TimeIncrement*1.0;
   }
   document.write("e");
   document.write("<\PRE>");
   alert("Done.");
}
//-->
</script>
	</head>

	<body bgcolor="#ffffff">
		<table width="600" border="0" cellspacing="0" cellpadding="0">
			<td width="175" align="RIGHT"><img src="space.gif" vspace="49"><br>
				<font size="2"><b>contents</b></td>
			<td width="20"><img src="space.gif"></td>
			<td width="405" align="LEFT"><font size="5">Hearing the Mandelbrot Set<br>
				(fractal music with Csound) <font size="2"><br>
				<img src="space.gif" vspace="6"><br>
				<a href="bio.html">Brian Evans</a><br>
				<a href="http://www.lightspace.com">lightspace Studios</a><br>
				<a href="mailto:brian@lightspace.com">brian@lightspace.com</a><br>
				<img src="space.gif" vspace="8"><font size="3"></td>
		</table>
		<table width="600" border="0" cellspacing="0" cellpadding="0">
			<tr>
				<td width="195" valign="TOP">
					<table width="175" border="0" align="LEFT" cellspacing="0" cellpadding="0">
						<tr align="RIGHT">
							<td><a href="intro.html">Introduction</a></td>
						</tr>
						<tr align="RIGHT">
							<td><a href="algo.html">The Basic Algorithm</a></td>
						</tr>
						<tr align="RIGHT">
							<td><a href="calcscore.html">Calculating a Score</a></td>
						</tr>
						<tr align="RIGHT">
							<td><font size="2">(sonic line vs image plane)<img src="space.gif" hspace="5"><font size="3"></td>
						</tr>
						<tr align="RIGHT">
							<td><a href="mapping.html">Simple Mapping with Csound</a></td>
						</tr>
						<tr align="RIGHT">
							<td><a href="range.html">Pitch Range and Event Length</a></td>
						</tr>
						<tr align="RIGHT">
							<td><a href="thoughts.html">Final Thoughts</a></td>
						</tr>
						<tr align="RIGHT">
							<td><a href="refs.html">References</a></td>
						</tr>
						<tr align="RIGHT">
							<td><img src="space.gif" vspace="5"></td>
						</tr>
						<tr align="RIGHT">
							<td><a href="sources.html">Code/Sound Examples</a></td>
						</tr>
						<tr align="RIGHT">
							<td><font size="4"><b>Create a Score!</b><font size="3"></td>
						</tr>
						<tr align="RIGHT">
							<td><img src="space.gif" vspace="5"></td>
						</tr>
						<tr align="RIGHT">
							<td><a href="images.html">Misc. Images</a></td>
						</tr>
					</table>
					<td width="405">
						<table width="405" border="0" cellspacing="0" cellpadding="0">
							<tr>
								<td width="405" align="LEFT" valign="TOP">This page will calculate a set of Csound I-statements build from the Mandelbrot set parameters below ( as described in this article). The output line will be a Csound representation of the defined line through the set. Paste the output in the appropriate place in <a href="sources/mandel.sco">mandel.sco</a> and compile with the orchestra <a href="sources/mandel.orc">mandel.orc</a> to create a fractal sonic map.
									<hr>
									<form>
									<pre>



      xMid           <input type="TEXT" size="10" value="0.3515">


<p>
      yPoint         <input type="TEXT" size="10" value="0.42073">


<p>
      LineLength     <input type="TEXT" size="10" value="0.001">


<p>
      MaxIteration   <input type="TEXT" size="10" value="255">


<p>
      xResolution    <input type="TEXT" size="10" value="100">


<p>
      PitchCount     <input type="TEXT" size="10" value="28">


<p>
      TimeIncrement  <input type="TEXT" size="10" value="0.2">


<p>
     <input type="BUTTON" value="calc a line" onclick="calcline(this.form)">
     </pre>
									</form>
									<hr>
									<p>(Please note that there is no data checking in the script to ensure valid entries-- be sure and double check your input!! If you change the number of pitches in the pitch range (f1) be sure and reflect that in the PitchCount variable.)</td>
							</tr>
						</table>
					</td>
				</tr>
			</table>
			<br>
		</body>

	</html>
