<html>	<head>		<meta http-equiv="content-type" content="text/html;charset=iso-8859-1">		<meta name="generator" content="Adobe GoLive 4">		<title>A Csound Multi-Effects Processor</title>	</head>	<body bgcolor="white">		<h1><b>Implementing the Gardner Reverbs in Csound</b></h1>		<h2><b>Hans Mikelson</b></h2>		<p>This chapter describes the implementation of reverbs based on nested allpass filters. Reverberant sound occurs when sound waves are reflected by surfaces repeatedly until the individual reflections merge into a continuous sound. Nested allpass filters proposed by Barry Vercoe and Miller Puckette (1985) can be used to simulate the dense reflections associated with room reverberation. This chapter describes several different types of allpass filters and uses them to implement three different reverbs. The reverbs presented in this section are derived from those developed by Bill Gardner (1992).</p>		<p><b>The Allpass Filter</b></p>		<p>Adding both a feedback path and a feedforward path to a delay line as shown in figure 24.1 makes an allpass filter.</p>		<p><b><img src="Image1.gif" width="78%" height="82%"></b></p>		<p><b>Figure 24.1</b> Block diagram of a simple allpass filter.</p>		<p>Gain is applied to the feedback path and negative gain is applied to the feedforward path. An allpass filter passes all frequencies unaltered but changes the phase of each frequency. This can be implemented in Csound as follows:</p>		<p>		<table cellspacing="0" border="0" width="473">			<tr>				<td width="13%" valign="top"><font face="Courier" size="2">adel1</font></td>				<td width="11%" valign="top"><a href="../../../2%20CD1/Reference/Manual4.0/syntax/assign.htm"><font face="Courier" size="2">init</font></a></td>				<td valign="top" colspan="2"><font face="Courier" size="2">0</font></td>			</tr>			<tr>				<td width="13%" valign="top"><font face="Courier" size="2">aout</font></td>				<td width="11%" valign="top"><font face="Courier" size="2">=</font></td>				<td width="32%" valign="top"><font face="Courier" size="2">adel1-igain*ain</font></td>				<td width="45%" valign="top"><font face="Courier" size="2">; FEEDFORWARD</font></td>			</tr>			<tr>				<td width="13%" valign="top"><font face="Courier" size="2">adel1</font></td>				<td width="11%" valign="top"><a href="../../../2%20CD1/Reference/Manual4.0/sigmod/delayr.htm"><font face="Courier" size="2">delay</font></a></td>				<td width="32%" valign="top"><font face="Courier" size="2">ain+igain*aout, itime</font></td>				<td width="45%" valign="top"><font face="Courier" size="2">; FEEDBACK</font></td>			</tr>		</table>		</p>		<p><b>The Single Nested Allpass Filter</b></p>		<p>A single nested allpass filter is implemented by surrounding one allpass filter by a second as shown in figure 24.2.</p>		<p><b><img src="Image2.gif" width="120%" height="110%"></b></p>		<p><b>Figure 24.2</b> Block diagram of a single nested allpass filter.</p>		<p>?A simplified representation of the allpass filter presented in figure 24.2 is shown in figure 24.3. The outer delay time <i>t1</i> in figure 24.3 is equal to the sum of the <i>delay1</i> and <i>delay2</i> times of figure 24.2.</p>		<p><b><img src="Image3.gif" width="489" height="232"></b></p>		<p><b>Figure 24.3</b> Block diagram of a simplified single nested allpass filter.</p>		<p>?This can be implemented in Csound as follows:</p>		<p>		<table cellspacing="0" border="0" width="473">			<tr>				<td width="10%" valign="top"><font face="Courier" size="2">asum</font></td>				<td width="9%" valign="top"><font face="Courier" size="2">=</font></td>				<td width="36%" valign="top"><font face="Courier" size="2">adel2-igain2*adel1</font></td>				<td width="45%" valign="top"><font face="Courier" size="2">; Feedforward</font></td>			</tr>			<tr>				<td width="10%" valign="top"><font face="Courier" size="2">aout</font></td>				<td width="9%" valign="top"><font face="Courier" size="2">=</font></td>				<td width="36%" valign="top"><font face="Courier" size="2">asum-igain1*ain</font></td>				<td width="45%" valign="top"><font face="Courier" size="2">; Feedforward</font></td>			</tr>			<tr>				<td width="10%" valign="top"><font face="Courier" size="2">adel1</font></td>				<td width="9%" valign="top"><a href="../../../2%20CD1/Reference/Manual4.0/sigmod/delayr.htm"><font face="Courier" size="2">delay</font></a></td>				<td width="36%" valign="top"><font face="Courier" size="2">ain+igain1*aout, itime</font></td>				<td width="45%" valign="top"><font face="Courier" size="2">; Feedback</font></td>			</tr>			<tr>				<td width="10%" valign="top"><font face="Courier" size="2">adel2</font></td>				<td width="9%" valign="top"><a href="../../../2%20CD1/Reference/Manual4.0/sigmod/delayr.htm"><font face="Courier" size="2">delay</font></a></td>				<td width="36%" valign="top"><font face="Courier" size="2">adel1+igain2*asum, itime2</font></td>				<td width="45%" valign="top"><font face="Courier" size="2">; Feedback</font></td>			</tr>		</table>		</p>		<p><b>The Double Nested Allpass Filter</b></p>		<p>A double nested allpass filter is implemented by surrounding two allpass filters in series by a third allpass filter as shown in figure 24.4.</p>		<p><img src="Image4.gif" width="1898" height="689"></p>		<p><b>Figure 24.4</b> Block diagram of double nested allpass filter.</p>		<p>?The simplified version of this is presented in figure 24.5. In this case <i>t1</i> in figure 24.5 is the sum of <i>delay1</i>, <i>delay2</i> and <i>delay3</i> of figure 24.4.</p>		<p><img src="Image5.gif" width="670" height="232"></p>		<p><b>Figure 24.5</b> Simplified block diagram of a double nested allpass filter.</p>		<p>?The double nested allpass filter can be implemented in Csound as follows:</p>		<p>		<table cellspacing="0" border="0" width="477">			<tr>				<td width="11%" valign="top"><font face="Courier" size="2">asum1</font></td>				<td width="10%" valign="top"><font face="Courier" size="2">=</font></td>				<td width="40%" valign="top"><font face="Courier" size="2">adel2-igain2*adel1</font></td>				<td width="39%" valign="top"><font face="Courier" size="2">; 1st In FF</font></td>			</tr>			<tr>				<td width="11%" valign="top"><font face="Courier" size="2">asum2</font></td>				<td width="10%" valign="top"><font face="Courier" size="2">=</font></td>				<td width="40%" valign="top"><font face="Courier" size="2">adel3-igain3*asum1</font></td>				<td width="39%" valign="top"><font face="Courier" size="2">; 2nd In FF</font></td>			</tr>			<tr>				<td width="11%" valign="top"><font face="Courier" size="2">aout</font></td>				<td width="10%" valign="top"><font face="Courier" size="2">=</font></td>				<td width="40%" valign="top"><font face="Courier" size="2">asum2-igain1*ain</font></td>				<td width="39%" valign="top"><font face="Courier" size="2">; Outer FF</font></td>			</tr>			<tr>				<td width="11%" valign="top"><font face="Courier" size="2">adel1</font></td>				<td width="10%" valign="top"><a href="../../../2%20CD1/Reference/Manual4.0/sigmod/delayr.htm"><font face="Courier" size="2">delay</font></a></td>				<td width="40%" valign="top"><font face="Courier" size="2">ain+igain1*aout, itime1</font></td>				<td width="39%" valign="top"><font face="Courier" size="2">; Outer FB</font></td>			</tr>			<tr>				<td width="11%" valign="top"><font face="Courier" size="2">adel2</font></td>				<td width="10%" valign="top"><a href="../../../2%20CD1/Reference/Manual4.0/sigmod/delayr.htm"><font face="Courier" size="2">delay</font></a></td>				<td width="40%" valign="top"><font face="Courier" size="2">adel1+igain2*asum1, itime2</font></td>				<td width="39%" valign="top"><font face="Courier" size="2">; 1st In FB</font></td>			</tr>			<tr>				<td width="11%" valign="top"><font face="Courier" size="2">adel3</font></td>				<td width="10%" valign="top"><a href="../../../2%20CD1/Reference/Manual4.0/sigmod/delayr.htm"><font face="Courier" size="2">delay</font></a></td>				<td width="40%" valign="top"><font face="Courier" size="2">asum1+igain3*asum2, itime3</font></td>				<td width="39%" valign="top"><font face="Courier" size="2">; 2nd In FB</font></td>			</tr>		</table>		</p>		<p><b>Small Room Reverberator</b></p>		<p>The nested allpass filters are now combined to form reverbs. The first reverb presented is for a small room. It consists of a double nested allpass filter followed by a single nested allpass filter. The input is pre-filtered at 6 kHz to reduce metallic ringing. An overall feedback path is bandpass filtered and added to the input. The feedback filter also reduces the metallic character of the reverb and reduces DC offset. Another simplified notation is presented in figure 24.6. Delays are indicated by putting the delay time above the signal path and all times in these figures are expressed in milliseconds.</p>		<p><img src="Image6.gif" width="148%" height="131%"></p>		<p><b>Figure 24.6</b> Block diagram of small room reverberator.</p>		<p>?The small room reverb shown in figure 24.6 can be implemented in Csound as follows:</p>		<p>		<table cellspacing="0" border="0" width="478">			<tr>				<td width="14%" valign="top">&nbsp;</td>				<td width="14%" valign="top"><a href="../../../2%20CD1/Reference/Manual4.0/syntax/iblock.htm"><font face="Courier" size="2">instr</font></a></td>				<td width="14%" valign="top"><font face="Courier" size="2">2402</font></td>				<td valign="top" colspan="2"><font face="Courier" size="2">; small room reverb</font></td>			</tr>			<tr>				<td width="14%" valign="top"><font face="Courier" size="2">idur</font></td>				<td width="14%" valign="top"><font face="Courier" size="2">=</font></td>				<td valign="top" colspan="3"><font face="Courier" size="2">p3</font></td>			</tr>			<tr>				<td width="14%" valign="top"><font face="Courier" size="2">iamp</font></td>				<td width="14%" valign="top"><font face="Courier" size="2">=</font></td>				<td valign="top" colspan="3"><font face="Courier" size="2">p4</font></td>			</tr>			<tr>				<td width="14%" valign="top"><font face="Courier" size="2">iinch</font></td>				<td width="14%" valign="top"><font face="Courier" size="2">=</font></td>				<td valign="top" colspan="3"><font face="Courier" size="2">p5</font></td>			</tr>			<tr>				<td width="14%" valign="top"><font face="Courier" size="2">aout41</font></td>				<td width="14%" valign="top"><a href="../../../2%20CD1/Reference/Manual4.0/syntax/assign.htm"><font face="Courier" size="2">init</font></a></td>				<td valign="top" colspan="3"><font face="Courier" size="2">0</font></td>			</tr>			<tr>				<td width="14%" valign="top"><font face="Courier" size="2">adel01</font></td>				<td width="14%" valign="top"><a href="../../../2%20CD1/Reference/Manual4.0/syntax/assign.htm"><font face="Courier" size="2">init</font></a></td>				<td valign="top" colspan="3"><font face="Courier" size="2">0</font></td>			</tr>			<tr>				<td width="14%" valign="top"><font face="Courier" size="2">adel11</font></td>				<td width="14%" valign="top"><a href="../../../2%20CD1/Reference/Manual4.0/syntax/assign.htm"><font face="Courier" size="2">init</font></a></td>				<td valign="top" colspan="3"><font face="Courier" size="2">0</font></td>			</tr>			<tr>				<td width="14%" valign="top"><font face="Courier" size="2">adel21</font></td>				<td width="14%" valign="top"><a href="../../../2%20CD1/Reference/Manual4.0/syntax/assign.htm"><font face="Courier" size="2">init</font></a></td>				<td valign="top" colspan="3"><font face="Courier" size="2">0</font></td>			</tr>			<tr>				<td width="14%" valign="top"><font face="Courier" size="2">adel22</font></td>				<td width="14%" valign="top"><a href="../../../2%20CD1/Reference/Manual4.0/syntax/assign.htm"><font face="Courier" size="2">init</font></a></td>				<td valign="top" colspan="3"><font face="Courier" size="2">0</font></td>			</tr>			<tr>				<td width="14%" valign="top"><font face="Courier" size="2">adel23</font></td>				<td width="14%" valign="top"><a href="../../../2%20CD1/Reference/Manual4.0/syntax/assign.htm"><font face="Courier" size="2">init</font></a></td>				<td valign="top" colspan="3"><font face="Courier" size="2">0</font></td>			</tr>			<tr>				<td width="14%" valign="top"><font face="Courier" size="2">adel41</font></td>				<td width="14%" valign="top"><a href="../../../2%20CD1/Reference/Manual4.0/syntax/assign.htm"><font face="Courier" size="2">init</font></a></td>				<td valign="top" colspan="3"><font face="Courier" size="2">0</font></td>			</tr>			<tr>				<td width="14%" valign="top"><font face="Courier" size="2">adel42</font></td>				<td width="14%" valign="top"><a href="../../../2%20CD1/Reference/Manual4.0/syntax/assign.htm"><font face="Courier" size="2">init</font></a></td>				<td valign="top" colspan="3"><font face="Courier" size="2">0</font></td>			</tr>			<tr>				<td width="14%" valign="top"><font face="Courier" size="2">kdclick</font></td>				<td width="14%" valign="top"><a href="../../../2%20CD1/Reference/Manual4.0/siggen/line.htm"><font face="Courier" size="2">linseg</font></a></td>				<td valign="top" colspan="3"><font face="Courier" size="2">0, .002, iamp, idur-.004, iamp, .002, 0</font></td>			</tr>			<tr>				<td valign="top" colspan="5"><font face="Courier" size="2">; Initialize</font></td>			</tr>			<tr>				<td width="14%" valign="top"><font face="Courier" size="2">asig0</font></td>				<td width="14%" valign="top"><a href="../../../2%20CD1/Reference/Manual4.0/zak/zir.htm"><font face="Courier" size="2">zar</font></a></td>				<td valign="top" colspan="3"><font face="Courier" size="2">iinch</font></td>			</tr>			<tr>				<td width="14%" valign="top"><font face="Courier" size="2">aflt01</font></td>				<td width="14%" valign="top"><a href="../../../2%20CD1/Reference/Manual4.0/sigmod/butterhp.htm"><font face="Courier" size="2">butterlp</font></a></td>				<td valign="top" colspan="2"><font face="Courier" size="2">asig0, 6000</font></td>				<td width="37%" valign="top"><font face="Courier" size="2">; Pre-Filter</font></td>			</tr>			<tr>				<td width="14%" valign="top"><font face="Courier" size="2">aflt02</font></td>				<td width="14%" valign="top"><a href="../../../2%20CD1/Reference/Manual4.0/sigmod/butterhp.htm"><font face="Courier" size="2">butterbp</font></a></td>				<td valign="top" colspan="2"><font face="Courier" size="2">.5*aout41, 1600, 800</font></td>				<td width="37%" valign="top"><font face="Courier" size="2">; Feedback Filter</font></td>			</tr>			<tr>				<td width="14%" valign="top"><font face="Courier" size="2">asum01</font></td>				<td width="14%" valign="top"><font face="Courier" size="2">=</font></td>				<td valign="top" colspan="2"><font face="Courier" size="2">aflt01+.5*aflt02</font></td>				<td width="37%" valign="top"><font face="Courier" size="2">; Initial Mix</font></td>			</tr>			<tr>				<td valign="top" colspan="5"><font face="Courier" size="2">; Delay 1</font></td>			</tr>			<tr>				<td width="14%" valign="top"><font face="Courier" size="2">adel11</font></td>				<td width="14%" valign="top"><a href="../../../2%20CD1/Reference/Manual4.0/sigmod/delayr.htm"><font face="Courier" size="2">delay</font></a></td>				<td valign="top" colspan="3"><font face="Courier" size="2">asum01, .024</font></td>			</tr>			<tr>				<td valign="top" colspan="5"><font face="Courier" size="2">; Double Nested Allpass</font></td>			</tr>			<tr>				<td width="14%" valign="top"><font face="Courier" size="2">asum21</font></td>				<td width="14%" valign="top"><font face="Courier" size="2">=</font></td>				<td valign="top" colspan="2"><font face="Courier" size="2">adel22-.25*adel21</font></td>				<td width="37%" valign="top"><font face="Courier" size="2">; First Inner Feedforward</font></td>			</tr>			<tr>				<td width="14%" valign="top"><font face="Courier" size="2">asum22</font></td>				<td width="14%" valign="top"><font face="Courier" size="2">=</font></td>				<td valign="top" colspan="2"><font face="Courier" size="2">adel23-.30*asum21</font></td>				<td width="37%" valign="top"><font face="Courier" size="2">; Second Inner Feedforward</font></td>			</tr>			<tr>				<td width="14%" valign="top"><font face="Courier" size="2">aout21</font></td>				<td width="14%" valign="top"><font face="Courier" size="2">=</font></td>				<td valign="top" colspan="2"><font face="Courier" size="2">asum22-.15*adel11</font></td>				<td width="37%" valign="top"><font face="Courier" size="2">; Outer Feedforward</font></td>			</tr>			<tr>				<td width="14%" valign="top"><font face="Courier" size="2">adel21</font></td>				<td width="14%" valign="top"><a href="../../../2%20CD1/Reference/Manual4.0/sigmod/delayr.htm"><font face="Courier" size="2">delay</font></a></td>				<td valign="top" colspan="2"><font face="Courier" size="2">adel11+.15*aout21, .0047</font></td>				<td width="37%" valign="top"><font face="Courier" size="2">; Outer Feedback</font></td>			</tr>			<tr>				<td width="14%" valign="top"><font face="Courier" size="2">adel22</font></td>				<td width="14%" valign="top"><a href="../../../2%20CD1/Reference/Manual4.0/sigmod/delayr.htm"><font face="Courier" size="2">delay</font></a></td>				<td valign="top" colspan="2"><font face="Courier" size="2">adel21+.25*asum21, .022</font></td>				<td width="37%" valign="top"><font face="Courier" size="2">; First Inner Feedback</font></td>			</tr>			<tr>				<td width="14%" valign="top"><font face="Courier" size="2">adel23</font></td>				<td width="14%" valign="top"><a href="../../../2%20CD1/Reference/Manual4.0/sigmod/delayr.htm"><font face="Courier" size="2">delay</font></a></td>				<td valign="top" colspan="2"><font face="Courier" size="2">asum21+.30*asum22, .0083</font></td>				<td width="37%" valign="top"><font face="Courier" size="2">; Second Inner Feedback</font></td>			</tr>			<tr>				<td valign="top" colspan="5"><font face="Courier" size="2">; Single Nested Allpass</font></td>			</tr>			<tr>				<td width="14%" valign="top"><font face="Courier" size="2">asum41</font></td>				<td width="14%" valign="top"><font face="Courier" size="2">=</font></td>				<td valign="top" colspan="2"><font face="Courier" size="2">adel42-.3*adel41</font></td>				<td width="37%" valign="top"><font face="Courier" size="2">; Inner Feedforward</font></td>			</tr>			<tr>				<td width="14%" valign="top"><font face="Courier" size="2">aout41</font></td>				<td width="14%" valign="top"><font face="Courier" size="2">=</font></td>				<td valign="top" colspan="2"><font face="Courier" size="2">asum41-.08*aout21</font></td>				<td width="37%" valign="top"><font face="Courier" size="2">; Outer Feedforward</font></td>			</tr>			<tr>				<td width="14%" valign="top"><font face="Courier" size="2">adel41</font></td>				<td width="14%" valign="top"><a href="../../../2%20CD1/Reference/Manual4.0/sigmod/delayr.htm"><font face="Courier" size="2">delay</font></a></td>				<td valign="top" colspan="2"><font face="Courier" size="2">aout21+.08*aout41, .036</font></td>				<td width="37%" valign="top"><font face="Courier" size="2">; Outer Feedback</font></td>			</tr>			<tr>				<td width="14%" valign="top"><font face="Courier" size="2">adel42</font></td>				<td width="14%" valign="top"><a href="../../../2%20CD1/Reference/Manual4.0/sigmod/delayr.htm"><font face="Courier" size="2">delay</font></a></td>				<td valign="top" colspan="2"><font face="Courier" size="2">adel41+.3*asum41, .030</font></td>				<td width="37%" valign="top"><font face="Courier" size="2">; Inner Feedback</font></td>			</tr>			<tr>				<td valign="top" colspan="5"><font face="Courier" size="2">; Output</font></td>			</tr>			<tr>				<td width="14%" valign="top"><font face="Courier" size="2">aout</font></td>				<td width="14%" valign="top"><font face="Courier" size="2">=</font></td>				<td valign="top" colspan="3"><font face="Courier" size="2">.6*aout41+.5*aout21</font></td>			</tr>			<tr>				<td width="14%" valign="top">&nbsp;</td>				<td width="14%" valign="top"><a href="../../../2%20CD1/Reference/Manual4.0/sigio/in.htm"><font face="Courier" size="2">outs</font></a></td>				<td valign="top" colspan="3"><font face="Courier" size="2">aout*kdclick, -aout*kdclick</font></td>			</tr>			<tr>				<td width="14%" valign="top">&nbsp;</td>				<td valign="top" colspan="4"><a href="../../../2%20CD1/Reference/Manual4.0/syntax/iblock.htm"><font face="Courier" size="2">endin</font></a></td>			</tr>		</table>		</p>		<p><b>Figure 24.7 </b>Orchestra code for <a href="../../../2%20CD1/Reference/Manual4.0/syntax/iblock.htm"><i>instr</i></a><i> 2402</i>, a small room reverb.</p>		<p><b>Medium Room Reverberator</b></p>		<p>The next reverb is for a medium room. It consists of a double nested allpass filter followed by an allpass filter, followed by a single nested allpass filter. The input is prefiltered at 6 kHz and is introduced at both the beginning and before the final nested allpass filter. Output is taken after each allpass filter section. The overall feedback is bandpass filtered at 1 kHz with a bandwidth of 500 Hz. There are four delays in this reverb. The first delay follows the first output tap. The second and third delays are before and after the second output tap and the third delay precedes the overall feedback.</p>		<p><img src="Image7.gif" width="1810" height="607"></p>		<p><b>Figure 24.8</b> Block diagram of medium room reverberator.</p>		<p>		<table cellspacing="0" border="0" width="478">			<tr>				<td width="14%" valign="top">&nbsp;</td>				<td width="14%" valign="top"><a href="../../../2%20CD1/Reference/Manual4.0/syntax/iblock.htm"><font face="Courier" size="2">instr</font></a></td>				<td width="16%" valign="top"><font face="Courier" size="2">2403</font></td>				<td valign="top" colspan="2"><font face="Courier" size="2">; Medium Room Reverb</font></td>			</tr>			<tr>				<td width="14%" valign="top"><font face="Courier" size="2">idur</font></td>				<td width="14%" valign="top"><font face="Courier" size="2">=</font></td>				<td valign="top" colspan="3"><font face="Courier" size="2">p3</font></td>			</tr>			<tr>				<td width="14%" valign="top"><font face="Courier" size="2">iamp</font></td>				<td width="14%" valign="top"><font face="Courier" size="2">=</font></td>				<td valign="top" colspan="3"><font face="Courier" size="2">p4</font></td>			</tr>			<tr>				<td width="14%" valign="top"><font face="Courier" size="2">iinch</font></td>				<td width="14%" valign="top"><font face="Courier" size="2">=</font></td>				<td valign="top" colspan="3"><font face="Courier" size="2">p5</font></td>			</tr>			<tr>				<td width="14%" valign="top"><font face="Courier" size="2">adel71</font></td>				<td width="14%" valign="top"><a href="../../../2%20CD1/Reference/Manual4.0/syntax/assign.htm"><font face="Courier" size="2">init</font></a></td>				<td valign="top" colspan="3"><font face="Courier" size="2">0</font></td>			</tr>			<tr>				<td width="14%" valign="top"><font face="Courier" size="2">adel11</font></td>				<td width="14%" valign="top"><a href="../../../2%20CD1/Reference/Manual4.0/syntax/assign.htm"><font face="Courier" size="2">init</font></a></td>				<td valign="top" colspan="3"><font face="Courier" size="2">0</font></td>			</tr>			<tr>				<td width="14%" valign="top"><font face="Courier" size="2">adel12</font></td>				<td width="14%" valign="top"><a href="../../../2%20CD1/Reference/Manual4.0/syntax/assign.htm"><font face="Courier" size="2">init</font></a></td>				<td valign="top" colspan="3"><font face="Courier" size="2">0</font></td>			</tr>			<tr>				<td width="14%" valign="top"><font face="Courier" size="2">adel13</font></td>				<td width="14%" valign="top"><a href="../../../2%20CD1/Reference/Manual4.0/syntax/assign.htm"><font face="Courier" size="2">init</font></a></td>				<td valign="top" colspan="3"><font face="Courier" size="2">0</font></td>			</tr>			<tr>				<td width="14%" valign="top"><font face="Courier" size="2">adel31</font></td>				<td width="14%" valign="top"><a href="../../../2%20CD1/Reference/Manual4.0/syntax/assign.htm"><font face="Courier" size="2">init</font></a></td>				<td valign="top" colspan="3"><font face="Courier" size="2">0</font></td>			</tr>			<tr>				<td width="14%" valign="top"><font face="Courier" size="2">adel61</font></td>				<td width="14%" valign="top"><a href="../../../2%20CD1/Reference/Manual4.0/syntax/assign.htm"><font face="Courier" size="2">init</font></a></td>				<td valign="top" colspan="3"><font face="Courier" size="2">0</font></td>			</tr>			<tr>				<td width="14%" valign="top"><font face="Courier" size="2">adel62</font></td>				<td width="14%" valign="top"><a href="../../../2%20CD1/Reference/Manual4.0/syntax/assign.htm"><font face="Courier" size="2">init</font></a></td>				<td valign="top" colspan="3"><font face="Courier" size="2">0</font></td>			</tr>			<tr>				<td width="14%" valign="top"><font face="Courier" size="2">kdclick</font></td>				<td width="14%" valign="top"><a href="../../../2%20CD1/Reference/Manual4.0/siggen/line.htm"><font face="Courier" size="2">linseg</font></a></td>				<td valign="top" colspan="3"><font face="Courier" size="2">0, .002, iamp, idur-.004, iamp, .002, 0</font></td>			</tr>			<tr>				<td valign="top" colspan="5"><font face="Courier" size="2">; Initialize</font></td>			</tr>			<tr>				<td width="14%" valign="top"><font face="Courier" size="2">asig0</font></td>				<td width="14%" valign="top"><a href="../../../2%20CD1/Reference/Manual4.0/zak/zir.htm"><font face="Courier" size="2">zar</font></a></td>				<td valign="top" colspan="3"><font face="Courier" size="2">iinch</font></td>			</tr>			<tr>				<td width="14%" valign="top"><font face="Courier" size="2">aflt01</font></td>				<td width="14%" valign="top"><a href="../../../2%20CD1/Reference/Manual4.0/sigmod/butterhp.htm"><font face="Courier" size="2">butterlp</font></a></td>				<td valign="top" colspan="2"><font face="Courier" size="2">asig0, 6000</font></td>				<td width="35%" valign="top"><font face="Courier" size="2">; Pre-Filter</font></td>			</tr>			<tr>				<td width="14%" valign="top"><font face="Courier" size="2">aflt02</font></td>				<td width="14%" valign="top"><a href="../../../2%20CD1/Reference/Manual4.0/sigmod/butterhp.htm"><font face="Courier" size="2">butterbp</font></a></td>				<td valign="top" colspan="2"><font face="Courier" size="2">.4*adel71, 1000, 500</font></td>				<td width="35%" valign="top"><font face="Courier" size="2">; Feedback Filter</font></td>			</tr>			<tr>				<td width="14%" valign="top"><font face="Courier" size="2">asum01</font></td>				<td width="14%" valign="top"><font face="Courier" size="2">=</font></td>				<td valign="top" colspan="2"><font face="Courier" size="2">aflt01+.5*aflt02</font></td>				<td width="35%" valign="top"><font face="Courier" size="2">; Initial Mix</font></td>			</tr>			<tr>				<td valign="top" colspan="5"><font face="Courier" size="2">; Double Nested Allpass</font></td>			</tr>			<tr>				<td width="14%" valign="top"><font face="Courier" size="2">asum11</font></td>				<td width="14%" valign="top"><font face="Courier" size="2">=</font></td>				<td valign="top" colspan="2"><font face="Courier" size="2">adel12-.35*adel11</font></td>				<td width="35%" valign="top"><font face="Courier" size="2">; First Inner Feedforward</font></td>			</tr>			<tr>				<td width="14%" valign="top"><font face="Courier" size="2">asum12</font></td>				<td width="14%" valign="top"><font face="Courier" size="2">=</font></td>				<td valign="top" colspan="2"><font face="Courier" size="2">adel13-.45*asum11</font></td>				<td width="35%" valign="top"><font face="Courier" size="2">; Second Inner Feedforward</font></td>			</tr>			<tr>				<td width="14%" valign="top"><font face="Courier" size="2">aout11</font></td>				<td width="14%" valign="top"><font face="Courier" size="2">=</font></td>				<td valign="top" colspan="2"><font face="Courier" size="2">asum12-.25*asum01</font></td>				<td width="35%" valign="top"><font face="Courier" size="2">; Outer Feedforward</font></td>			</tr>			<tr>				<td width="14%" valign="top"><font face="Courier" size="2">adel11</font></td>				<td width="14%" valign="top"><a href="../../../2%20CD1/Reference/Manual4.0/sigmod/delayr.htm"><font face="Courier" size="2">delay</font></a></td>				<td valign="top" colspan="2"><font face="Courier" size="2">asum01+.25*aout11, .0047</font></td>				<td width="35%" valign="top"><font face="Courier" size="2">; Outer Feedback</font></td>			</tr>			<tr>				<td width="14%" valign="top"><font face="Courier" size="2">adel12</font></td>				<td width="14%" valign="top"><a href="../../../2%20CD1/Reference/Manual4.0/sigmod/delayr.htm"><font face="Courier" size="2">delay</font></a></td>				<td valign="top" colspan="2"><font face="Courier" size="2">adel11+.35*asum11, .0083</font></td>				<td width="35%" valign="top"><font face="Courier" size="2">; First Inner Feedback</font></td>			</tr>			<tr>				<td width="14%" valign="top"><font face="Courier" size="2">adel13</font></td>				<td width="14%" valign="top"><a href="../../../2%20CD1/Reference/Manual4.0/sigmod/delayr.htm"><font face="Courier" size="2">delay</font></a></td>				<td valign="top" colspan="2"><font face="Courier" size="2">asum11+.45*asum12, .022</font></td>				<td width="35%" valign="top"><font face="Courier" size="2">; Second Inner Feedback</font></td>			</tr>			<tr>				<td width="14%" valign="top"><font face="Courier" size="2">adel21</font></td>				<td width="14%" valign="top"><a href="../../../2%20CD1/Reference/Manual4.0/sigmod/delayr.htm"><font face="Courier" size="2">delay</font></a></td>				<td valign="top" colspan="2"><font face="Courier" size="2">aout11, .005</font></td>				<td width="35%" valign="top"><font face="Courier" size="2">; Delay 1</font></td>			</tr>			<tr>				<td valign="top" colspan="5"><font face="Courier" size="2">; Allpass 1</font></td>			</tr>			<tr>				<td width="14%" valign="top"><font face="Courier" size="2">asub31</font></td>				<td width="14%" valign="top"><font face="Courier" size="2">=</font></td>				<td valign="top" colspan="2"><font face="Courier" size="2">adel31-.45*adel21</font></td>				<td width="35%" valign="top"><font face="Courier" size="2">; Feedforward</font></td>			</tr>			<tr>				<td width="14%" valign="top"><font face="Courier" size="2">adel31</font></td>				<td width="14%" valign="top"><a href="../../../2%20CD1/Reference/Manual4.0/sigmod/delayr.htm"><font face="Courier" size="2">delay</font></a></td>				<td valign="top" colspan="2"><font face="Courier" size="2">adel21+.45*asub31,.030</font></td>				<td width="35%" valign="top"><font face="Courier" size="2">; Feedback</font></td>			</tr>			<tr>				<td width="14%" valign="top"><font face="Courier" size="2">adel41</font></td>				<td width="14%" valign="top"><a href="../../../2%20CD1/Reference/Manual4.0/sigmod/delayr.htm"><font face="Courier" size="2">delay</font></a></td>				<td valign="top" colspan="2"><font face="Courier" size="2">asub31, .067</font></td>				<td width="35%" valign="top"><font face="Courier" size="2">; Delay 2</font></td>			</tr>			<tr>				<td width="14%" valign="top"><font face="Courier" size="2">adel51</font></td>				<td width="14%" valign="top"><a href="../../../2%20CD1/Reference/Manual4.0/sigmod/delayr.htm"><font face="Courier" size="2">delay</font></a></td>				<td valign="top" colspan="2"><font face="Courier" size="2">.4*adel41, .015</font></td>				<td width="35%" valign="top"><font face="Courier" size="2">; Delay 3</font></td>			</tr>			<tr>				<td width="14%" valign="top"><font face="Courier" size="2">aout51</font></td>				<td width="14%" valign="top"><font face="Courier" size="2">=</font></td>				<td valign="top" colspan="3"><font face="Courier" size="2">aflt01+adel41</font></td>			</tr>			<tr>				<td valign="top" colspan="5"><font face="Courier" size="2">; Single Nested Allpass</font></td>			</tr>			<tr>				<td width="14%" valign="top"><font face="Courier" size="2">asum61</font></td>				<td width="14%" valign="top"><font face="Courier" size="2">=</font></td>				<td valign="top" colspan="2"><font face="Courier" size="2">adel62-.35*adel61</font></td>				<td width="35%" valign="top"><font face="Courier" size="2">; Inner Feedforward</font></td>			</tr>			<tr>				<td width="14%" valign="top"><font face="Courier" size="2">aout61</font></td>				<td width="14%" valign="top"><font face="Courier" size="2">=</font></td>				<td valign="top" colspan="2"><font face="Courier" size="2">asum61-.25*aout51</font></td>				<td width="35%" valign="top"><font face="Courier" size="2">; Outer Feedforward</font></td>			</tr>			<tr>				<td width="14%" valign="top"><font face="Courier" size="2">adel61</font></td>				<td width="14%" valign="top"><a href="../../../2%20CD1/Reference/Manual4.0/sigmod/delayr.htm"><font face="Courier" size="2">delay</font></a></td>				<td valign="top" colspan="2"><font face="Courier" size="2">aout51+.25*aout61, .0292</font></td>				<td width="35%" valign="top"><font face="Courier" size="2">; Outer Feedback</font></td>			</tr>			<tr>				<td width="14%" valign="top"><font face="Courier" size="2">adel62</font></td>				<td width="14%" valign="top"><a href="../../../2%20CD1/Reference/Manual4.0/sigmod/delayr.htm"><font face="Courier" size="2">delay</font></a></td>				<td valign="top" colspan="2"><font face="Courier" size="2">adel61+.35*asum61, .0098</font></td>				<td width="35%" valign="top"><font face="Courier" size="2">; Inner Feedback</font></td>			</tr>			<tr>				<td valign="top" colspan="5"><font face="Courier" size="2">; Combine Outputs</font></td>			</tr>			<tr>				<td width="14%" valign="top"><font face="Courier" size="2">aout</font></td>				<td width="14%" valign="top"><font face="Courier" size="2">=</font></td>				<td valign="top" colspan="3"><font face="Courier" size="2">.5*aout11+.5*adel41+.5*aout61</font></td>			</tr>			<tr>				<td width="14%" valign="top"><font face="Courier" size="2">adel71</font></td>				<td width="14%" valign="top"><a href="../../../2%20CD1/Reference/Manual4.0/sigmod/delayr.htm"><font face="Courier" size="2">delay</font></a></td>				<td valign="top" colspan="2"><font face="Courier" size="2">aout61, .108</font></td>				<td width="35%" valign="top"><font face="Courier" size="2">; Delay 4</font></td>			</tr>			<tr>				<td width="14%" valign="top">&nbsp;</td>				<td width="14%" valign="top"><a href="../../../2%20CD1/Reference/Manual4.0/sigio/in.htm"><font face="Courier" size="2">outs</font></a></td>				<td valign="top" colspan="2"><font face="Courier" size="2">aout*kdclick, -aout*kdclick</font></td>				<td width="35%" valign="top"><font face="Courier" size="2">; Final Output</font></td>			</tr>			<tr>				<td width="14%" valign="top">&nbsp;</td>				<td valign="top" colspan="4"><a href="../../../2%20CD1/Reference/Manual4.0/syntax/iblock.htm"><font face="Courier" size="2">endin</font></a></td>			</tr>		</table>		</p>		<p><b>Figure 24.9</b> Orchestra code for <a href="../../../2%20CD1/Reference/Manual4.0/syntax/iblock.htm"><i>instr</i></a><i> 2403</i>, a medium room reverberator.</p>		<p><b>Large Room Reverberator</b></p>		<p>The final reverb considered is for a large room. The major elements are two allpass filters in series, followed by a single nested allpass filter and finally a double nested allpass filter. Outputs are taken after the first two allpass filters, after the single nested allpass filter and after the double nested allpass filter. Delays are introduced before and after the first two output taps. The input is again prefiltered and the overall feedback is scaled and bandpass filtered.</p>		<p><b><img src="Image8.gif" width="1982" height="660"></b></p>		<p><b>Figure 24.10</b> Block diagram of large room reverberator.</p>		<p>		<table cellspacing="0" border="0" width="478">			<tr>				<td width="12%" valign="top">&nbsp;</td>				<td width="13%" valign="top"><a href="../../../2%20CD1/Reference/Manual4.0/syntax/iblock.htm"><font face="Courier" size="2">instr</font></a></td>				<td width="16%" valign="top"><font face="Courier" size="2">2404</font></td>				<td valign="top" colspan="2"><font face="Courier" size="2">; Large Room Reverb</font></td>			</tr>			<tr>				<td width="12%" valign="top"><font face="Courier" size="2">idur</font></td>				<td width="13%" valign="top"><font face="Courier" size="2">=</font></td>				<td valign="top" colspan="3"><font face="Courier" size="2">p3</font></td>			</tr>			<tr>				<td width="12%" valign="top"><font face="Courier" size="2">iamp</font></td>				<td width="13%" valign="top"><font face="Courier" size="2">=</font></td>				<td valign="top" colspan="3"><font face="Courier" size="2">p4</font></td>			</tr>			<tr>				<td width="12%" valign="top"><font face="Courier" size="2">iinch</font></td>				<td width="13%" valign="top"><font face="Courier" size="2">=</font></td>				<td valign="top" colspan="3"><font face="Courier" size="2">p5</font></td>			</tr>			<tr>				<td width="12%" valign="top"><font face="Courier" size="2">aout91</font></td>				<td width="13%" valign="top"><a href="../../../2%20CD1/Reference/Manual4.0/syntax/assign.htm"><font face="Courier" size="2">init</font></a></td>				<td valign="top" colspan="3"><font face="Courier" size="2">0</font></td>			</tr>			<tr>				<td width="12%" valign="top"><font face="Courier" size="2">adel01</font></td>				<td width="13%" valign="top"><a href="../../../2%20CD1/Reference/Manual4.0/syntax/assign.htm"><font face="Courier" size="2">init</font></a></td>				<td valign="top" colspan="3"><font face="Courier" size="2">0</font></td>			</tr>			<tr>				<td width="12%" valign="top"><font face="Courier" size="2">adel11</font></td>				<td width="13%" valign="top"><a href="../../../2%20CD1/Reference/Manual4.0/syntax/assign.htm"><font face="Courier" size="2">init</font></a></td>				<td valign="top" colspan="3"><font face="Courier" size="2">0</font></td>			</tr>			<tr>				<td width="12%" valign="top"><font face="Courier" size="2">adel51</font></td>				<td width="13%" valign="top"><a href="../../../2%20CD1/Reference/Manual4.0/syntax/assign.htm"><font face="Courier" size="2">init</font></a></td>				<td valign="top" colspan="3"><font face="Courier" size="2">0</font></td>			</tr>			<tr>				<td width="12%" valign="top"><font face="Courier" size="2">adel52</font></td>				<td width="13%" valign="top"><a href="../../../2%20CD1/Reference/Manual4.0/syntax/assign.htm"><font face="Courier" size="2">init</font></a></td>				<td valign="top" colspan="3"><font face="Courier" size="2">0</font></td>			</tr>			<tr>				<td width="12%" valign="top"><font face="Courier" size="2">adel91</font></td>				<td width="13%" valign="top"><a href="../../../2%20CD1/Reference/Manual4.0/syntax/assign.htm"><font face="Courier" size="2">init</font></a></td>				<td valign="top" colspan="3"><font face="Courier" size="2">0</font></td>			</tr>			<tr>				<td width="12%" valign="top"><font face="Courier" size="2">adel92</font></td>				<td width="13%" valign="top"><a href="../../../2%20CD1/Reference/Manual4.0/syntax/assign.htm"><font face="Courier" size="2">init</font></a></td>				<td valign="top" colspan="3"><font face="Courier" size="2">0</font></td>			</tr>			<tr>				<td width="12%" valign="top"><font face="Courier" size="2">adel93</font></td>				<td width="13%" valign="top"><a href="../../../2%20CD1/Reference/Manual4.0/syntax/assign.htm"><font face="Courier" size="2">init</font></a></td>				<td valign="top" colspan="3"><font face="Courier" size="2">0</font></td>			</tr>			<tr>				<td width="12%" valign="top"><font face="Courier" size="2">kdclick</font></td>				<td width="13%" valign="top"><a href="../../../2%20CD1/Reference/Manual4.0/siggen/line.htm"><font face="Courier" size="2">linseg</font></a></td>				<td valign="top" colspan="3"><font face="Courier" size="2">0, .002, iamp, idur-.004, iamp, .002, 0</font></td>			</tr>			<tr>				<td valign="top" colspan="5"><font face="Courier" size="2">; Initialize</font></td>			</tr>			<tr>				<td width="12%" valign="top"><font face="Courier" size="2">asig0</font></td>				<td width="13%" valign="top"><a href="../../../2%20CD1/Reference/Manual4.0/zak/zir.htm"><font face="Courier" size="2">zar</font></a></td>				<td valign="top" colspan="3"><font face="Courier" size="2">iinch</font></td>			</tr>			<tr>				<td width="12%" valign="top"><font face="Courier" size="2">aflt01</font></td>				<td width="13%" valign="top"><a href="../../../2%20CD1/Reference/Manual4.0/sigmod/butterhp.htm"><font face="Courier" size="2">butterlp</font></a></td>				<td valign="top" colspan="2"><font face="Courier" size="2">asig0, 4000</font></td>				<td width="36%" valign="top"><font face="Courier" size="2">; Pre-Filter</font></td>			</tr>			<tr>				<td width="12%" valign="top"><font face="Courier" size="2">aflt02</font></td>				<td width="13%" valign="top"><a href="../../../2%20CD1/Reference/Manual4.0/sigmod/butterhp.htm"><font face="Courier" size="2">butterbp</font></a></td>				<td valign="top" colspan="2"><font face="Courier" size="2">.5*aout91, 1000, 500</font></td>				<td width="36%" valign="top"><font face="Courier" size="2">; Feedback Filter</font></td>			</tr>			<tr>				<td width="12%" valign="top"><font face="Courier" size="2">asum01</font></td>				<td width="13%" valign="top"><font face="Courier" size="2">=</font></td>				<td valign="top" colspan="2"><font face="Courier" size="2">aflt01+.5*aflt02</font></td>				<td width="36%" valign="top"><font face="Courier" size="2">; Initial Mix</font></td>			</tr>			<tr>				<td valign="top" colspan="5"><font face="Courier" size="2">; Allpass 1</font></td>			</tr>			<tr>				<td width="12%" valign="top"><font face="Courier" size="2">asub01</font></td>				<td width="13%" valign="top"><font face="Courier" size="2">=</font></td>				<td valign="top" colspan="2"><font face="Courier" size="2">adel01-.3*asum01</font></td>				<td width="36%" valign="top"><font face="Courier" size="2">; Feedforward</font></td>			</tr>			<tr>				<td width="12%" valign="top"><font face="Courier" size="2">adel01</font></td>				<td width="13%" valign="top"><a href="../../../2%20CD1/Reference/Manual4.0/sigmod/delayr.htm"><font face="Courier" size="2">delay</font></a></td>				<td valign="top" colspan="2"><font face="Courier" size="2">asum01+.3*asub01,.008</font></td>				<td width="36%" valign="top"><font face="Courier" size="2">; Feedback</font></td>			</tr>			<tr>				<td valign="top" colspan="5"><font face="Courier" size="2">; Allpass 2</font></td>			</tr>			<tr>				<td width="12%" valign="top"><font face="Courier" size="2">asub11</font></td>				<td width="13%" valign="top"><font face="Courier" size="2">=</font></td>				<td valign="top" colspan="2"><font face="Courier" size="2">adel11-.3*asub01</font></td>				<td width="36%" valign="top"><font face="Courier" size="2">; Feedforward</font></td>			</tr>			<tr>				<td width="12%" valign="top"><font face="Courier" size="2">adel11</font></td>				<td width="13%" valign="top"><a href="../../../2%20CD1/Reference/Manual4.0/sigmod/delayr.htm"><font face="Courier" size="2">delay</font></a></td>				<td valign="top" colspan="2"><font face="Courier" size="2">asub01+.3*asub11,.012</font></td>				<td width="36%" valign="top"><font face="Courier" size="2">; Feedback</font></td>			</tr>			<tr>				<td width="12%" valign="top"><font face="Courier" size="2">adel21</font></td>				<td width="13%" valign="top"><a href="../../../2%20CD1/Reference/Manual4.0/sigmod/delayr.htm"><font face="Courier" size="2">delay</font></a></td>				<td valign="top" colspan="2"><font face="Courier" size="2">asub11, .004</font></td>				<td width="36%" valign="top"><font face="Courier" size="2">; Delay 1</font></td>			</tr>			<tr>				<td width="12%" valign="top"><font face="Courier" size="2">adel41</font></td>				<td width="13%" valign="top"><a href="../../../2%20CD1/Reference/Manual4.0/sigmod/delayr.htm"><font face="Courier" size="2">delay</font></a></td>				<td valign="top" colspan="2"><font face="Courier" size="2">adel21, .017</font></td>				<td width="36%" valign="top"><font face="Courier" size="2">; Delay 2</font></td>			</tr>			<tr>				<td valign="top" colspan="5"><font face="Courier" size="2">; Single Nested Allpass</font></td>			</tr>			<tr>				<td width="12%" valign="top"><font face="Courier" size="2">asum51</font></td>				<td width="13%" valign="top"><font face="Courier" size="2">=</font></td>				<td valign="top" colspan="2"><font face="Courier" size="2">adel52-.25*adel51</font></td>				<td width="36%" valign="top"><font face="Courier" size="2">; Inner Feedforward</font></td>			</tr>			<tr>				<td width="12%" valign="top"><font face="Courier" size="2">aout51</font></td>				<td width="13%" valign="top"><font face="Courier" size="2">=</font></td>				<td valign="top" colspan="2"><font face="Courier" size="2">asum51-.5*adel41</font></td>				<td width="36%" valign="top"><font face="Courier" size="2">; Outer Feedforward</font></td>			</tr>			<tr>				<td width="12%" valign="top"><font face="Courier" size="2">adel51</font></td>				<td width="13%" valign="top"><a href="../../../2%20CD1/Reference/Manual4.0/sigmod/delayr.htm"><font face="Courier" size="2">delay</font></a></td>				<td valign="top" colspan="2"><font face="Courier" size="2">adel41+.5*aout51, .025</font></td>				<td width="36%" valign="top"><font face="Courier" size="2">; Outer Feedback</font></td>			</tr>			<tr>				<td width="12%" valign="top"><font face="Courier" size="2">adel52</font></td>				<td width="13%" valign="top"><a href="../../../2%20CD1/Reference/Manual4.0/sigmod/delayr.htm"><font face="Courier" size="2">delay</font></a></td>				<td valign="top" colspan="2"><font face="Courier" size="2">adel51+.25*asum51, .062</font></td>				<td width="36%" valign="top"><font face="Courier" size="2">; Inner Feedback</font></td>			</tr>			<tr>				<td width="12%" valign="top"><font face="Courier" size="2">adel61</font></td>				<td width="13%" valign="top"><a href="../../../2%20CD1/Reference/Manual4.0/sigmod/delayr.htm"><font face="Courier" size="2">delay</font></a></td>				<td valign="top" colspan="2"><font face="Courier" size="2">aout51, .031</font></td>				<td width="36%" valign="top"><font face="Courier" size="2">; Delay 3</font></td>			</tr>			<tr>				<td width="12%" valign="top"><font face="Courier" size="2">adel81</font></td>				<td width="13%" valign="top"><a href="../../../2%20CD1/Reference/Manual4.0/sigmod/delayr.htm"><font face="Courier" size="2">delay</font></a></td>				<td valign="top" colspan="2"><font face="Courier" size="2">adel61, .003</font></td>				<td width="36%" valign="top"><font face="Courier" size="2">; Delay 4</font></td>			</tr>			<tr>				<td valign="top" colspan="5"><font face="Courier" size="2">; Double Nested Allpass</font></td>			</tr>			<tr>				<td width="12%" valign="top"><font face="Courier" size="2">asum91</font></td>				<td width="13%" valign="top"><font face="Courier" size="2">=</font></td>				<td valign="top" colspan="2"><font face="Courier" size="2">adel92-.25*adel91</font></td>				<td width="36%" valign="top"><font face="Courier" size="2">; First Inner Feedforward</font></td>			</tr>			<tr>				<td width="12%" valign="top"><font face="Courier" size="2">asum92</font></td>				<td width="13%" valign="top"><font face="Courier" size="2">=</font></td>				<td valign="top" colspan="2"><font face="Courier" size="2">adel93-.25*asum91</font></td>				<td width="36%" valign="top"><font face="Courier" size="2">; Second Inner Feedforward</font></td>			</tr>			<tr>				<td width="12%" valign="top"><font face="Courier" size="2">aout91</font></td>				<td width="13%" valign="top"><font face="Courier" size="2">=</font></td>				<td valign="top" colspan="2"><font face="Courier" size="2">asum92-.5*adel81</font></td>				<td width="36%" valign="top"><font face="Courier" size="2">; Outer Feedforward</font></td>			</tr>			<tr>				<td width="12%" valign="top"><font face="Courier" size="2">adel91</font></td>				<td width="13%" valign="top"><a href="../../../2%20CD1/Reference/Manual4.0/sigmod/delayr.htm"><font face="Courier" size="2">delay</font></a></td>				<td valign="top" colspan="2"><font face="Courier" size="2">adel81+.5*aout91, .120</font></td>				<td width="36%" valign="top"><font face="Courier" size="2">; Outer Feedback</font></td>			</tr>			<tr>				<td width="12%" valign="top"><font face="Courier" size="2">adel92</font></td>				<td width="13%" valign="top"><a href="../../../2%20CD1/Reference/Manual4.0/sigmod/delayr.htm"><font face="Courier" size="2">delay</font></a></td>				<td valign="top" colspan="2"><font face="Courier" size="2">adel91+.25*asum91, .076</font></td>				<td width="36%" valign="top"><font face="Courier" size="2">; First Inner Feedback</font></td>			</tr>			<tr>				<td width="12%" valign="top"><font face="Courier" size="2">adel93</font></td>				<td width="13%" valign="top"><a href="../../../2%20CD1/Reference/Manual4.0/sigmod/delayr.htm"><font face="Courier" size="2">delay</font></a></td>				<td valign="top" colspan="2"><font face="Courier" size="2">asum91+.25*asum92, .030</font></td>				<td width="36%" valign="top"><font face="Courier" size="2">; Second Inner Feedback</font></td>			</tr>			<tr>				<td valign="top" colspan="5"><font face="Courier" size="2">; Combine outputs</font></td>			</tr>			<tr>				<td width="12%" valign="top"><font face="Courier" size="2">aout</font></td>				<td width="13%" valign="top"><font face="Courier" size="2">=</font></td>				<td valign="top" colspan="3"><font face="Courier" size="2">.8*aout91+.8*adel61+1.5*adel21</font></td>			</tr>			<tr>				<td width="12%" valign="top">&nbsp;</td>				<td width="13%" valign="top"><a href="../../../2%20CD1/Reference/Manual4.0/sigio/in.htm"><font face="Courier" size="2">outs</font></a></td>				<td valign="top" colspan="2"><font face="Courier" size="2">aout*kdclick, -aout*kdclick</font></td>				<td width="36%" valign="top"><font face="Courier" size="2">; Final Output</font></td>			</tr>			<tr>				<td width="12%" valign="top">&nbsp;</td>				<td valign="top" colspan="4"><a href="../../../2%20CD1/Reference/Manual4.0/syntax/iblock.htm"><font face="Courier" size="2">endin</font></a></td>			</tr>		</table>		</p>		<p><b>Figure 24.11</b> Orchestra code for <a href="../../../2%20CD1/Reference/Manual4.0/syntax/iblock.htm"><i>instr</i></a><i> 2404</i>, a large room reverb</p>		<p><b>Conclusion</b></p>		<p>The nested allpass filters presented here suggest other configurations of allpass filters. For instance, a third allpass filter could be inserted into the double nested allpass filter for three allpass filters in series. An additional level of nesting could be applied to the nested allpass filters. Many other configurations of nesting could be the subject of future experimentation and many other reverb configurations could be implemented as a result. The final Csound orchestra and score accompanying this chapter, <i>instr 2405.orc </i>features a flexible system for experimenting with various reverb configurations.</p>		<p><b>References</b></p>		<p>Vercoe, B. and M. Puckette. 1985. <i>Synthetic Spaces &#151; Artificial Acoustic Ambiance from Active Boundary Computation</i>. unpublished NSF proposal . Boston, MA. Music and Cognition Office at MIT Media Lab.</p>		<p>Gardner, W. G. 1992. <i>The Virtual Acoustic Room.</i> Master's thesis, MIT Media Lab.	</body></html>